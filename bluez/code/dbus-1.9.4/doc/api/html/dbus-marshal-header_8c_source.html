<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>D-Bus: dbus-marshal-header.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">D-Bus
   &#160;<span id="projectnumber">1.9.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_aa0f429d6f87d1df49a210da102129e1.html">dbus</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">dbus-marshal-header.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* -*- mode: C; c-file-style: &quot;gnu&quot;; indent-tabs-mode: nil; -*- */</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/* dbus-marshal-header.c  Managing marshaling/demarshaling of message headers</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 2005  Red Hat, Inc.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Licensed under the Academic Free License version 2.1</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * (at your option) any later version.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;config.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;dbus/dbus-shared.h&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;dbus-marshal-header.h&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;dbus-marshal-recursive.h&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;dbus-marshal-byteswap.h&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/* Not thread locked, but strictly const/read-only so should be OK</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<a class="code" href="group__DBusMarshal.html#gab49ca4819ef45b26463427bb09060844">_DBUS_STRING_DEFINE_STATIC</a>(_dbus_header_signature_str, <a class="code" href="group__DBusProtocol.html#ga82e39a6508e551fb14c7bdbb17590cc6">DBUS_HEADER_SIGNATURE</a>);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<a class="code" href="group__DBusMarshal.html#gab49ca4819ef45b26463427bb09060844">_DBUS_STRING_DEFINE_STATIC</a>(_dbus_local_interface_str,  <a class="code" href="group__DBusShared.html#ga9ef6478aae637449ec0c5de1679f75ce">DBUS_INTERFACE_LOCAL</a>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<a class="code" href="group__DBusMarshal.html#gab49ca4819ef45b26463427bb09060844">_DBUS_STRING_DEFINE_STATIC</a>(_dbus_local_path_str,       <a class="code" href="group__DBusShared.html#ga850990a54a46142ee7c5f8174cc932c1">DBUS_PATH_LOCAL</a>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga935ea6d7c6bb72a10c670f5ef3e34d49">   47</a></span>&#160;<span class="preprocessor">#define FIELDS_ARRAY_SIGNATURE_OFFSET 6</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gaca36ac2e9b37067279d1bc967793e071">   49</a></span>&#160;<span class="preprocessor">#define FIELDS_ARRAY_ELEMENT_SIGNATURE_OFFSET 7</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gaa5b7e77f37761139698892e4b8aad029">   53</a></span>&#160;<span class="preprocessor">#define BYTE_ORDER_OFFSET    0</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gaf4fe78df75f4afa2ec63304462614b03">   55</a></span>&#160;<span class="preprocessor">#define TYPE_OFFSET          1</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga7fe1bac4010cdc7e27de1e19702c071e">   57</a></span>&#160;<span class="preprocessor">#define FLAGS_OFFSET         2</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga4f04ecce1223b00d263c0accdea144ad">   59</a></span>&#160;<span class="preprocessor">#define VERSION_OFFSET       3</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga190a2d89e79c9d76fcba4f06ec8b5b5c">   61</a></span>&#160;<span class="preprocessor">#define BODY_LENGTH_OFFSET 4</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga4a9c0639714b478a4905cdd6e999b6b3">   63</a></span>&#160;<span class="preprocessor">#define SERIAL_OFFSET 8</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gae9759e0de1d8a650f37632c3dc22427e">   65</a></span>&#160;<span class="preprocessor">#define FIELDS_ARRAY_LENGTH_OFFSET 12</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gaaa085e57f49f527ef210e842be999929">   67</a></span>&#160;<span class="preprocessor">#define FIRST_FIELD_OFFSET 16</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structHeaderFieldType.html">   69</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structHeaderFieldType.html#aa9431b99ba54853099db8d7a7882b437">   71</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structHeaderFieldType.html#aa9431b99ba54853099db8d7a7882b437">code</a>; </div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structHeaderFieldType.html#a904875b9ce744f8103a55aae312521bb">   72</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structHeaderFieldType.html#a904875b9ce744f8103a55aae312521bb">type</a>; </div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;} <a class="code" href="structHeaderFieldType.html">HeaderFieldType</a>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structHeaderFieldType.html">HeaderFieldType</a></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;_dbus_header_field_types[<a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>+1] = {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  { <a class="code" href="group__DBusProtocol.html#ga075b0efc570129393d3fb653ce4bbd76">DBUS_HEADER_FIELD_INVALID</a>, <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a> },</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  { <a class="code" href="group__DBusProtocol.html#ga0cd885e6e808b28ff082a7f8a2c9f579">DBUS_HEADER_FIELD_PATH</a>, <a class="code" href="group__DBusProtocol.html#ga31cc59c99a6cbbfcef71756e1390dc4c">DBUS_TYPE_OBJECT_PATH</a> },</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  { <a class="code" href="group__DBusProtocol.html#ga296b5f099b6c347f65d53ef0a6fa2b0d">DBUS_HEADER_FIELD_INTERFACE</a>, <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a> },</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  { <a class="code" href="group__DBusProtocol.html#ga2aa9d65ef983ac9c08c1d4cb31366818">DBUS_HEADER_FIELD_MEMBER</a>, DBUS_TYPE_STRING },</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  { <a class="code" href="group__DBusProtocol.html#gac551be0f921390d01104cce30a814a5e">DBUS_HEADER_FIELD_ERROR_NAME</a>, DBUS_TYPE_STRING },</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  { <a class="code" href="group__DBusProtocol.html#ga1067e28a7151a161e5fd601a3b017584">DBUS_HEADER_FIELD_REPLY_SERIAL</a>, <a class="code" href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a> },</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  { <a class="code" href="group__DBusProtocol.html#gade98f71a08a1e0198d095fdb6d46cab9">DBUS_HEADER_FIELD_DESTINATION</a>, DBUS_TYPE_STRING },</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  { <a class="code" href="group__DBusProtocol.html#ga3ba84ae623951832bd73e2796bb13e71">DBUS_HEADER_FIELD_SENDER</a>, DBUS_TYPE_STRING },</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  { <a class="code" href="group__DBusProtocol.html#ga450d63fa110d3cb891082e23291580b4">DBUS_HEADER_FIELD_SIGNATURE</a>, <a class="code" href="group__DBusProtocol.html#ga26ed6c20c3d9f0b50ea0a1cf80be3279">DBUS_TYPE_SIGNATURE</a> },</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  { <a class="code" href="group__DBusProtocol.html#ga03b9c24acbfd1e3da19804c739612885">DBUS_HEADER_FIELD_UNIX_FDS</a>, DBUS_TYPE_UINT32 }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;};</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga37be3d294f5be31c95bc7620e451b0b2">   90</a></span>&#160;<span class="preprocessor">#define EXPECTED_TYPE_OF_FIELD(field) (_dbus_header_field_types[field].type)</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gaa10402f90ea6e004e3b9f04eea34f73c">   93</a></span>&#160;<span class="preprocessor">#define MAX_POSSIBLE_HEADER_PADDING 7</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;reserve_header_padding (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (header-&gt;<a class="code" href="structDBusHeader.html#aa22a8d00f061310e12716f656b4d9b8f">padding</a> &lt;= <a class="code" href="group__DBusMarshal.html#gaa10402f90ea6e004e3b9f04eea34f73c">MAX_POSSIBLE_HEADER_PADDING</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga8f13997d90ceed2f437706e6b7804d9b">_dbus_string_lengthen</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>,</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                              <a class="code" href="group__DBusMarshal.html#gaa10402f90ea6e004e3b9f04eea34f73c">MAX_POSSIBLE_HEADER_PADDING</a> - header-&gt;<a class="code" href="structDBusHeader.html#aa22a8d00f061310e12716f656b4d9b8f">padding</a>))</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  header-&gt;<a class="code" href="structDBusHeader.html#aa22a8d00f061310e12716f656b4d9b8f">padding</a> = <a class="code" href="group__DBusMarshal.html#gaa10402f90ea6e004e3b9f04eea34f73c">MAX_POSSIBLE_HEADER_PADDING</a>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;correct_header_padding (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordtype">int</span> unpadded_len;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (header-&gt;<a class="code" href="structDBusHeader.html#aa22a8d00f061310e12716f656b4d9b8f">padding</a> == 7);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="group__DBusString.html#ga7af1cbfa905f26d972ab644d890548b8">_dbus_string_shorten</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, header-&gt;<a class="code" href="structDBusHeader.html#aa22a8d00f061310e12716f656b4d9b8f">padding</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  unpadded_len = _dbus_string_get_length (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#gaeadfb67c4e796131610499c91d0d7813">_dbus_string_align_length</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, 8))</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a> (<span class="stringliteral">&quot;couldn&#39;t pad header though enough padding was preallocated&quot;</span>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  header-&gt;<a class="code" href="structDBusHeader.html#aa22a8d00f061310e12716f656b4d9b8f">padding</a> = _dbus_string_get_length (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>) - unpadded_len;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gaef7e86e442aeb887c8bfe5559cd4eabb">  123</a></span>&#160;<span class="preprocessor">#define HEADER_END_BEFORE_PADDING(header) \</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">  (_dbus_string_get_length (&amp;(header)-&gt;data) - (header)-&gt;padding)</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;_dbus_header_cache_invalidate_all (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  i = 0;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">while</span> (i &lt;= <a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[i].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a> = _DBUS_HEADER_FIELD_VALUE_UNKNOWN;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      ++i;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;_dbus_header_cache_one (<a class="code" href="structDBusHeader.html">DBusHeader</a>     *header,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        <span class="keywordtype">int</span>             field_code,</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> *variant_reader)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[field_code].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a> =</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="group__DBusMarshal.html#ga2a8ab1152821950b1fe29e000954981c">_dbus_type_reader_get_value_pos</a> (variant_reader);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  _dbus_verbose (<span class="stringliteral">&quot;cached value_pos %d for field %d\n&quot;</span>,</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                 header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[field_code].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a>, field_code)</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="keywordtype">char</span></div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">  174</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (<span class="keyword">const</span> <a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_string_get_length (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>) &gt; <a class="code" href="group__DBusMarshal.html#gaa5b7e77f37761139698892e4b8aad029">BYTE_ORDER_OFFSET</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">char</span>) _dbus_string_get_byte (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, <a class="code" href="group__DBusMarshal.html#gaa5b7e77f37761139698892e4b8aad029">BYTE_ORDER_OFFSET</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;_dbus_header_cache_revalidate (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> array;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> reader;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  i = 0;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">while</span> (i &lt;= <a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[i].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a> = _DBUS_HEADER_FIELD_VALUE_NONEXISTENT;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      ++i;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga35d70cf69b1196518367e3e68e9b2dd2">_dbus_type_reader_init</a> (&amp;reader,</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                          <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (header),</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                          &amp;_dbus_header_signature_str,</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                          <a class="code" href="group__DBusMarshal.html#ga935ea6d7c6bb72a10c670f5ef3e34d49">FIELDS_ARRAY_SIGNATURE_OFFSET</a>,</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                          &amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>,</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                          <a class="code" href="group__DBusMarshal.html#gae9759e0de1d8a650f37632c3dc22427e">FIELDS_ARRAY_LENGTH_OFFSET</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;reader, &amp;array);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;array) != <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> sub;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> variant;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> field_code;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;array, &amp;sub);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;sub) == <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;sub, &amp;field_code);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="comment">/* Unknown fields should be ignored */</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">if</span> (field_code &gt; <a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">goto</span> next_field;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;sub);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;sub) == <a class="code" href="group__DBusProtocol.html#ga4aa7a463ad2bce4e9aa95e3e397ddcf1">DBUS_TYPE_VARIANT</a>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;sub, &amp;variant);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      _dbus_header_cache_one (header, field_code, &amp;variant);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    next_field:</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;array);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;_dbus_header_cache_check (<a class="code" href="structDBusHeader.html">DBusHeader</a>    *header,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                          <span class="keywordtype">int</span>            field)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (field &lt;= <a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[field].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a> == _DBUS_HEADER_FIELD_VALUE_UNKNOWN)</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    _dbus_header_cache_revalidate (header);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">if</span> (header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[field].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a> == _DBUS_HEADER_FIELD_VALUE_NONEXISTENT)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;_dbus_header_cache_known_nonexistent (<a class="code" href="structDBusHeader.html">DBusHeader</a>    *header,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                      <span class="keywordtype">int</span>            field)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (field &lt;= <a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">return</span> (header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[field].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a> == _DBUS_HEADER_FIELD_VALUE_NONEXISTENT);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;write_basic_field (<a class="code" href="structDBusTypeWriter.html">DBusTypeWriter</a> *writer,</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                   <span class="keywordtype">int</span>             field,</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                   <span class="keywordtype">int</span>             type,</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                   <span class="keyword">const</span> <span class="keywordtype">void</span>     *value)</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="structDBusTypeWriter.html">DBusTypeWriter</a> sub;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="structDBusTypeWriter.html">DBusTypeWriter</a> variant;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordtype">int</span> start;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordtype">int</span> padding;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> field_byte;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="structDBusString.html">DBusString</a> contained_type;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordtype">char</span> buf[2];</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  start = writer-&gt;<a class="code" href="structDBusTypeWriter.html#a27c0475eedd90be65f90a799e5210947">value_pos</a>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  padding = _dbus_string_get_length (writer-&gt;<a class="code" href="structDBusTypeWriter.html#aa4e4b3af31fd7a93d0e54d10882bcc07">value_str</a>) - start;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga4c0a1036e59dac270141052d951baff2">_dbus_type_writer_recurse</a> (writer, <a class="code" href="group__DBusProtocol.html#gae4b22a74b9edb0ec0ff6e0294794d3f9">DBUS_TYPE_STRUCT</a>,</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                  <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, &amp;sub))</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">goto</span> append_failed;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  field_byte = field;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a> (&amp;sub, <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>,</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                                      &amp;field_byte))</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">goto</span> append_failed;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  buf[0] = type;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  buf[1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="group__DBusString.html#ga6792a5c1725faa9d635d95f7a3b5bfae">_dbus_string_init_const_len</a> (&amp;contained_type, buf, 1);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga4c0a1036e59dac270141052d951baff2">_dbus_type_writer_recurse</a> (&amp;sub, <a class="code" href="group__DBusProtocol.html#ga4aa7a463ad2bce4e9aa95e3e397ddcf1">DBUS_TYPE_VARIANT</a>,</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                  &amp;contained_type, 0, &amp;variant))</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">goto</span> append_failed;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a> (&amp;variant, type, value))</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">goto</span> append_failed;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gacbe7eddf4f9c19da91b742087fcc111a">_dbus_type_writer_unrecurse</a> (&amp;sub, &amp;variant))</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">goto</span> append_failed;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gacbe7eddf4f9c19da91b742087fcc111a">_dbus_type_writer_unrecurse</a> (writer, &amp;sub))</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">goto</span> append_failed;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; append_failed:</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <a class="code" href="group__DBusString.html#ga7e0e164ad5bb094e5ccad9edc7ae4235">_dbus_string_delete</a> (writer-&gt;<a class="code" href="structDBusTypeWriter.html#aa4e4b3af31fd7a93d0e54d10882bcc07">value_str</a>,</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                       start,</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                       _dbus_string_get_length (writer-&gt;<a class="code" href="structDBusTypeWriter.html#aa4e4b3af31fd7a93d0e54d10882bcc07">value_str</a>) - start - padding);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;set_basic_field (<a class="code" href="structDBusTypeReader.html">DBusTypeReader</a>       *reader,</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                 <span class="keywordtype">int</span>                   field,</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                 <span class="keywordtype">int</span>                   type,</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                 <span class="keyword">const</span> <span class="keywordtype">void</span>           *value,</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                 <span class="keyword">const</span> <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> *realign_root)</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;{</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> sub;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> variant;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (reader, &amp;sub);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;sub) == <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_ASSERT</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> v_BYTE;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;sub, &amp;v_BYTE);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (((<span class="keywordtype">int</span>) v_BYTE) == field);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;sub))</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a> (<span class="stringliteral">&quot;no variant field?&quot;</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;sub, &amp;variant);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;variant) == type);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gaaf11ca429434c2c280f5fad34ed95204">_dbus_type_reader_set_basic</a> (&amp;variant, value, realign_root))</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga4427247494fc5c988498c5a87d42092d">  386</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga4427247494fc5c988498c5a87d42092d">_dbus_header_get_message_type</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordtype">int</span> type;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  type = _dbus_string_get_byte (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, <a class="code" href="group__DBusMarshal.html#gaf4fe78df75f4afa2ec63304462614b03">TYPE_OFFSET</a>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (type != <a class="code" href="group__DBusProtocol.html#gac975525a6ce258a7a70c583c9741b516">DBUS_MESSAGE_TYPE_INVALID</a>);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordflow">return</span> type;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gad92e0b1992cf96a4da642a4a54a5d26d">  404</a></span>&#160;<a class="code" href="group__DBusMarshal.html#gad92e0b1992cf96a4da642a4a54a5d26d">_dbus_header_set_serial</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a>    *header,</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                         <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a>  serial)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;{</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">/* we use this function to set the serial on outgoing</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">   * messages, and to reset the serial in dbus_message_copy;</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">   * this assertion should catch a double-set on outgoing.</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#ga7ec7222423db42935aae4a24499ee0fb">_dbus_header_get_serial</a> (header) == 0 ||</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                serial == 0);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga4bcfb6a664c7e46c7ffc31f96d532a02">_dbus_marshal_set_uint32</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>,</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                            <a class="code" href="group__DBusMarshal.html#ga4a9c0639714b478a4905cdd6e999b6b3">SERIAL_OFFSET</a>,</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                            serial,</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                            <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (header));</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a></div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga7ec7222423db42935aae4a24499ee0fb">  427</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga7ec7222423db42935aae4a24499ee0fb">_dbus_header_get_serial</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;{</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga6dd82a202c19758cbf76dbed2946615d">_dbus_marshal_read_uint32</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>,</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                    <a class="code" href="group__DBusMarshal.html#ga4a9c0639714b478a4905cdd6e999b6b3">SERIAL_OFFSET</a>,</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                    <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (header),</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                                    <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga6d41ad4de211c87f4b8a43340b6893e2">  443</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga6d41ad4de211c87f4b8a43340b6893e2">_dbus_header_reinit</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;{</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="group__DBusString.html#ga08c423b93c28dd746dcb93e0461ab95c">_dbus_string_set_length</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, 0);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  header-&gt;<a class="code" href="structDBusHeader.html#aa22a8d00f061310e12716f656b4d9b8f">padding</a> = 0;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  _dbus_header_cache_invalidate_all (header);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gabe1b78193d712976734a39d35842f033">  460</a></span>&#160;<a class="code" href="group__DBusMarshal.html#gabe1b78193d712976734a39d35842f033">_dbus_header_init</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;{</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga569b784beea1b4fa98f05d27e6dd0e72">_dbus_string_init_preallocated</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, 32))</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga6d41ad4de211c87f4b8a43340b6893e2">_dbus_header_reinit</a> (header);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gab90a814a27aeeace7e02c4ed130539cf">  476</a></span>&#160;<a class="code" href="group__DBusMarshal.html#gab90a814a27aeeace7e02c4ed130539cf">_dbus_header_free</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;{</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga0d5aad82f8bf5a314dcf3f70930e254b">  490</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga0d5aad82f8bf5a314dcf3f70930e254b">_dbus_header_copy</a> (<span class="keyword">const</span> <a class="code" href="structDBusHeader.html">DBusHeader</a> *header,</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                   <a class="code" href="structDBusHeader.html">DBusHeader</a>       *dest)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  *dest = *header;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga569b784beea1b4fa98f05d27e6dd0e72">_dbus_string_init_preallocated</a> (&amp;dest-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>,</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                                       _dbus_string_get_length (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>)))</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga3c10f0d1bcaa3b450025b9c6a8b901d7">_dbus_string_copy</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, 0, &amp;dest-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, 0))</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (&amp;dest-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">/* Reset the serial */</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="group__DBusMarshal.html#gad92e0b1992cf96a4da642a4a54a5d26d">_dbus_header_set_serial</a> (dest, 0);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gac7901e4196f10d4763df89b42d5db03e">  528</a></span>&#160;<a class="code" href="group__DBusMarshal.html#gac7901e4196f10d4763df89b42d5db03e">_dbus_header_create</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a>  *header,</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                     <span class="keywordtype">int</span>          byte_order,</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                     <span class="keywordtype">int</span>          message_type,</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                     <span class="keyword">const</span> <span class="keywordtype">char</span>  *destination,</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                     <span class="keyword">const</span> <span class="keywordtype">char</span>  *path,</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                     <span class="keyword">const</span> <span class="keywordtype">char</span>  *interface,</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                     <span class="keyword">const</span> <span class="keywordtype">char</span>  *member,</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                     <span class="keyword">const</span> <span class="keywordtype">char</span>  *error_name)</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;{</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> v_BYTE;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> v_UINT32;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <a class="code" href="structDBusTypeWriter.html">DBusTypeWriter</a> writer;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <a class="code" href="structDBusTypeWriter.html">DBusTypeWriter</a> array;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (byte_order == <a class="code" href="group__DBusProtocol.html#gaae5e00bf9091a457e5bb3f9a75d982ca">DBUS_LITTLE_ENDIAN</a> ||</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                byte_order == <a class="code" href="group__DBusProtocol.html#gaed8596f854e755344dfbc811a73b0757">DBUS_BIG_ENDIAN</a>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (((interface || message_type != <a class="code" href="group__DBusProtocol.html#ga728d893ff0c00e126517ba39835220a5">DBUS_MESSAGE_TYPE_SIGNAL</a>) &amp;&amp; member) ||</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                (error_name) ||</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                !(interface || member || error_name));</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_string_get_length (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>) == 0);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">if</span> (!reserve_header_padding (header))</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga1f101175ce6f33221fcb59f0b46349bd">_dbus_type_writer_init_values_only</a> (&amp;writer, byte_order,</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                                      &amp;_dbus_header_signature_str, 0,</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                                      &amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>,</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                                      <a class="code" href="group__DBusMarshal.html#gaef7e86e442aeb887c8bfe5559cd4eabb">HEADER_END_BEFORE_PADDING</a> (header));</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  v_BYTE = byte_order;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a> (&amp;writer, <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>,</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                      &amp;v_BYTE))</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  v_BYTE = message_type;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a> (&amp;writer, <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>,</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                                      &amp;v_BYTE))</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  v_BYTE = 0; <span class="comment">/* flags */</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a> (&amp;writer, <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>,</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                                      &amp;v_BYTE))</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  v_BYTE = <a class="code" href="group__DBusProtocol.html#gae1ab70067a616d852e5fc264abb66608">DBUS_MAJOR_PROTOCOL_VERSION</a>;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a> (&amp;writer, <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>,</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                                      &amp;v_BYTE))</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  v_UINT32 = 0; <span class="comment">/* body length */</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a> (&amp;writer, <a class="code" href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a>,</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                      &amp;v_UINT32))</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  v_UINT32 = 0; <span class="comment">/* serial */</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a> (&amp;writer, <a class="code" href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a>,</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                                      &amp;v_UINT32))</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga4c0a1036e59dac270141052d951baff2">_dbus_type_writer_recurse</a> (&amp;writer, <a class="code" href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a>,</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                                  &amp;_dbus_header_signature_str,</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                                  <a class="code" href="group__DBusMarshal.html#ga935ea6d7c6bb72a10c670f5ef3e34d49">FIELDS_ARRAY_SIGNATURE_OFFSET</a>,</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                  &amp;array))</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="comment">/* Marshal all the fields (Marshall Fields?) */</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span> (path != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">if</span> (!write_basic_field (&amp;array,</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                              <a class="code" href="group__DBusProtocol.html#ga0cd885e6e808b28ff082a7f8a2c9f579">DBUS_HEADER_FIELD_PATH</a>,</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                              <a class="code" href="group__DBusProtocol.html#ga31cc59c99a6cbbfcef71756e1390dc4c">DBUS_TYPE_OBJECT_PATH</a>,</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                              &amp;path))</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">if</span> (destination != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">if</span> (!write_basic_field (&amp;array,</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                              <a class="code" href="group__DBusProtocol.html#gade98f71a08a1e0198d095fdb6d46cab9">DBUS_HEADER_FIELD_DESTINATION</a>,</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                              <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                              &amp;destination))</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">if</span> (interface != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="keywordflow">if</span> (!write_basic_field (&amp;array,</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                              <a class="code" href="group__DBusProtocol.html#ga296b5f099b6c347f65d53ef0a6fa2b0d">DBUS_HEADER_FIELD_INTERFACE</a>,</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                              <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                              &amp;interface))</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">if</span> (member != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">if</span> (!write_basic_field (&amp;array,</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                              <a class="code" href="group__DBusProtocol.html#ga2aa9d65ef983ac9c08c1d4cb31366818">DBUS_HEADER_FIELD_MEMBER</a>,</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                              <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                              &amp;member))</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">if</span> (error_name != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">if</span> (!write_basic_field (&amp;array,</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                              <a class="code" href="group__DBusProtocol.html#gac551be0f921390d01104cce30a814a5e">DBUS_HEADER_FIELD_ERROR_NAME</a>,</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                              <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                              &amp;error_name))</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gacbe7eddf4f9c19da91b742087fcc111a">_dbus_type_writer_unrecurse</a> (&amp;writer, &amp;array))</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">goto</span> oom;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  correct_header_padding (header);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; oom:</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <a class="code" href="group__DBusString.html#ga7e0e164ad5bb094e5ccad9edc7ae4235">_dbus_string_delete</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, 0,</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                       _dbus_string_get_length (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>) - header-&gt;<a class="code" href="structDBusHeader.html#aa22a8d00f061310e12716f656b4d9b8f">padding</a>);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  correct_header_padding (header);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga674d74081baf6e7531e0d4a286724210">  673</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga674d74081baf6e7531e0d4a286724210">_dbus_header_have_message_untrusted</a> (<span class="keywordtype">int</span>                max_message_length,</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                                     <a class="code" href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a>      *validity,</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                                     <span class="keywordtype">int</span>               *byte_order,</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                                     <span class="keywordtype">int</span>               *fields_array_len,</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                                     <span class="keywordtype">int</span>               *header_len,</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                                     <span class="keywordtype">int</span>               *body_len,</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a>  *str,</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                                     <span class="keywordtype">int</span>                start,</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                                     <span class="keywordtype">int</span>                len)</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;{</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> header_len_unsigned;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> fields_array_len_unsigned;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> body_len_unsigned;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (start &gt;= 0);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (start &lt; <a class="code" href="group__DBusInternalsUtils.html#gafe869e3145b7e32c4fb6a6741c9fc78e">_DBUS_INT32_MAX</a> / 2);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (len &gt;= 0);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (start == (<span class="keywordtype">int</span>) _DBUS_ALIGN_VALUE (start, 8));</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  *byte_order = _dbus_string_get_byte (str, start + <a class="code" href="group__DBusMarshal.html#gaa5b7e77f37761139698892e4b8aad029">BYTE_ORDER_OFFSET</a>);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keywordflow">if</span> (*byte_order != <a class="code" href="group__DBusProtocol.html#gaae5e00bf9091a457e5bb3f9a75d982ca">DBUS_LITTLE_ENDIAN</a> &amp;&amp; *byte_order != <a class="code" href="group__DBusProtocol.html#gaed8596f854e755344dfbc811a73b0757">DBUS_BIG_ENDIAN</a>)</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      *validity = DBUS_INVALID_BAD_BYTE_ORDER;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gae9759e0de1d8a650f37632c3dc22427e">FIELDS_ARRAY_LENGTH_OFFSET</a> + 4 &lt;= len);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  fields_array_len_unsigned = <a class="code" href="group__DBusMarshal.html#ga6dd82a202c19758cbf76dbed2946615d">_dbus_marshal_read_uint32</a> (str, start + <a class="code" href="group__DBusMarshal.html#gae9759e0de1d8a650f37632c3dc22427e">FIELDS_ARRAY_LENGTH_OFFSET</a>,</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                                                         *byte_order, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">if</span> (fields_array_len_unsigned &gt; (<span class="keywordtype">unsigned</span>) max_message_length)</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      *validity = DBUS_INVALID_INSANE_FIELDS_ARRAY_LENGTH;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#ga190a2d89e79c9d76fcba4f06ec8b5b5c">BODY_LENGTH_OFFSET</a> + 4 &lt; len);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  body_len_unsigned = <a class="code" href="group__DBusMarshal.html#ga6dd82a202c19758cbf76dbed2946615d">_dbus_marshal_read_uint32</a> (str, start + <a class="code" href="group__DBusMarshal.html#ga190a2d89e79c9d76fcba4f06ec8b5b5c">BODY_LENGTH_OFFSET</a>,</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                                                 *byte_order, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keywordflow">if</span> (body_len_unsigned &gt; (<span class="keywordtype">unsigned</span>) max_message_length)</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      *validity = DBUS_INVALID_INSANE_BODY_LENGTH;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  header_len_unsigned = <a class="code" href="group__DBusMarshal.html#gaaa085e57f49f527ef210e842be999929">FIRST_FIELD_OFFSET</a> + fields_array_len_unsigned;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  header_len_unsigned = _DBUS_ALIGN_VALUE (header_len_unsigned, 8);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">/* overflow should be impossible since the lengths aren&#39;t allowed to</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">   * be huge.</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (max_message_length &lt; <a class="code" href="group__DBusInternalsUtils.html#gafe869e3145b7e32c4fb6a6741c9fc78e">_DBUS_INT32_MAX</a> / 2);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">if</span> (body_len_unsigned + header_len_unsigned &gt; (<span class="keywordtype">unsigned</span>) max_message_length)</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      *validity = DBUS_INVALID_MESSAGE_TOO_LONG;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    }</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (body_len_unsigned &lt; (<span class="keywordtype">unsigned</span>) <a class="code" href="group__DBusInternalsUtils.html#gafe869e3145b7e32c4fb6a6741c9fc78e">_DBUS_INT32_MAX</a>);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (fields_array_len_unsigned &lt; (<span class="keywordtype">unsigned</span>) _DBUS_INT32_MAX);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (header_len_unsigned &lt; (<span class="keywordtype">unsigned</span>) _DBUS_INT32_MAX);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  *body_len = body_len_unsigned;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  *fields_array_len = fields_array_len_unsigned;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  *header_len = header_len_unsigned;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  *validity = <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  _dbus_verbose (<span class="stringliteral">&quot;have %d bytes, need body %u + header %u = %u\n&quot;</span>,</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                 len, body_len_unsigned, header_len_unsigned,</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                 body_len_unsigned + header_len_unsigned);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordflow">return</span> (body_len_unsigned + header_len_unsigned) &lt;= (unsigned) len;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;check_mandatory_fields (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header)</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;{</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="preprocessor">#define REQUIRE_FIELD(name) do { if (header-&gt;fields[DBUS_HEADER_FIELD_##name].value_pos &lt; 0) return DBUS_INVALID_MISSING_##name; } while (0)</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="group__DBusMarshal.html#ga4427247494fc5c988498c5a87d42092d">_dbus_header_get_message_type</a> (header))</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga728d893ff0c00e126517ba39835220a5">DBUS_MESSAGE_TYPE_SIGNAL</a>:</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      REQUIRE_FIELD (INTERFACE);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="comment">/* FALL THRU - signals also require the path and member */</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga09416afd76b65139eddd31e1085d9ebf">DBUS_MESSAGE_TYPE_METHOD_CALL</a>:</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      REQUIRE_FIELD (PATH);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      REQUIRE_FIELD (MEMBER);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga2b9423d95066313d73eeea8eeaf86812">DBUS_MESSAGE_TYPE_ERROR</a>:</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      REQUIRE_FIELD (ERROR_NAME);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      REQUIRE_FIELD (REPLY_SERIAL);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga4a9012edd7f22342f845e98150aeb858">DBUS_MESSAGE_TYPE_METHOD_RETURN</a>:</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      REQUIRE_FIELD (REPLY_SERIAL);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <span class="comment">/* other message types allowed but ignored */</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;load_and_validate_field (<a class="code" href="structDBusHeader.html">DBusHeader</a>     *header,</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                         <span class="keywordtype">int</span>             field,</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                         <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> *variant_reader)</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;{</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordtype">int</span> type;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordtype">int</span> expected_type;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a> *value_str;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordtype">int</span> value_pos;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keywordtype">int</span> str_data_pos;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> v_UINT32;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordtype">int</span> bad_string_code;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> (* string_validation_func) (<span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a> *str,</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                          <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> len);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="comment">/* Supposed to have been checked already */</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (field &lt;= <a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (field != <a class="code" href="group__DBusProtocol.html#ga075b0efc570129393d3fb653ce4bbd76">DBUS_HEADER_FIELD_INVALID</a>);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">/* Before we can cache a field, we need to know it has the right type */</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  type = <a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (variant_reader);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_header_field_types[field].code == field);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  expected_type = <a class="code" href="group__DBusMarshal.html#ga37be3d294f5be31c95bc7620e451b0b2">EXPECTED_TYPE_OF_FIELD</a> (field);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordflow">if</span> (type != expected_type)</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    {</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;Field %d should have type %d but has %d\n&quot;</span>,</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                     field, expected_type, type);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">return</span> DBUS_INVALID_HEADER_FIELD_HAS_WRONG_TYPE;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    }</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">/* If the field was provided twice, we aren&#39;t happy */</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordflow">if</span> (header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[field].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a> &gt;= 0)</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;Header field %d seen a second time\n&quot;</span>, field);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">return</span> DBUS_INVALID_HEADER_FIELD_APPEARS_TWICE;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    }</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="comment">/* Now we can cache and look at the field content */</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  _dbus_verbose (<span class="stringliteral">&quot;initially caching field %d\n&quot;</span>, field);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  _dbus_header_cache_one (header, field, variant_reader);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  string_validation_func = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="comment">/* make compiler happy that all this is initialized */</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  v_UINT32 = 0;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  value_str = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  value_pos = -1;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  str_data_pos = -1;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  bad_string_code = <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordflow">if</span> (expected_type == <a class="code" href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a>)</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a> (header, field, expected_type,</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                                    &amp;v_UINT32);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expected_type == <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a> ||</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;           expected_type == <a class="code" href="group__DBusProtocol.html#ga31cc59c99a6cbbfcef71756e1390dc4c">DBUS_TYPE_OBJECT_PATH</a> ||</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;           expected_type == <a class="code" href="group__DBusProtocol.html#ga26ed6c20c3d9f0b50ea0a1cf80be3279">DBUS_TYPE_SIGNATURE</a>)</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <a class="code" href="group__DBusMarshal.html#gaf4661ba8e7067f349ba03c9f5776bbb0">_dbus_header_get_field_raw</a> (header, field,</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                                  &amp;value_str, &amp;value_pos);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      str_data_pos = _DBUS_ALIGN_VALUE (value_pos, 4) + 4;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a> (<span class="stringliteral">&quot;none of the known fields should have this type&quot;</span>);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">switch</span> (field)</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#gade98f71a08a1e0198d095fdb6d46cab9">DBUS_HEADER_FIELD_DESTINATION</a>:</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      string_validation_func = <a class="code" href="group__DBusMarshal.html#gaab91a04fa2a96b8ce8843beae7327cd0">_dbus_validate_bus_name</a>;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      bad_string_code = DBUS_INVALID_BAD_DESTINATION;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga296b5f099b6c347f65d53ef0a6fa2b0d">DBUS_HEADER_FIELD_INTERFACE</a>:</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      string_validation_func = <a class="code" href="group__DBusMarshal.html#ga0ad919783f887a9b6f428e262beaeed9">_dbus_validate_interface</a>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      bad_string_code = DBUS_INVALID_BAD_INTERFACE;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DBusString.html#ga2095c2a797ae245521a7588b32279110">_dbus_string_equal_substring</a> (&amp;_dbus_local_interface_str,</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                                        0,</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                                        _dbus_string_get_length (&amp;_dbus_local_interface_str),</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                                        value_str, str_data_pos))</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;          _dbus_verbose (<span class="stringliteral">&quot;Message is on the local interface\n&quot;</span>);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;          <span class="keywordflow">return</span> DBUS_INVALID_USES_LOCAL_INTERFACE;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga2aa9d65ef983ac9c08c1d4cb31366818">DBUS_HEADER_FIELD_MEMBER</a>:</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      string_validation_func = <a class="code" href="group__DBusMarshal.html#gaf647272768029cb23a4e0d3f493587da">_dbus_validate_member</a>;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      bad_string_code = DBUS_INVALID_BAD_MEMBER;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#gac551be0f921390d01104cce30a814a5e">DBUS_HEADER_FIELD_ERROR_NAME</a>:</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      string_validation_func = <a class="code" href="group__DBusMarshal.html#ga6d8075f3b60e2e71aad061aa44b120fe">_dbus_validate_error_name</a>;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      bad_string_code = DBUS_INVALID_BAD_ERROR_NAME;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga3ba84ae623951832bd73e2796bb13e71">DBUS_HEADER_FIELD_SENDER</a>:</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      string_validation_func = <a class="code" href="group__DBusMarshal.html#gaab91a04fa2a96b8ce8843beae7327cd0">_dbus_validate_bus_name</a>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      bad_string_code = DBUS_INVALID_BAD_SENDER;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga0cd885e6e808b28ff082a7f8a2c9f579">DBUS_HEADER_FIELD_PATH</a>:</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <span class="comment">/* OBJECT_PATH was validated generically due to its type */</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      string_validation_func = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DBusString.html#ga2095c2a797ae245521a7588b32279110">_dbus_string_equal_substring</a> (&amp;_dbus_local_path_str,</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                                        0,</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                                        _dbus_string_get_length (&amp;_dbus_local_path_str),</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                                        value_str, str_data_pos))</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;          _dbus_verbose (<span class="stringliteral">&quot;Message is from the local path\n&quot;</span>);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;          <span class="keywordflow">return</span> DBUS_INVALID_USES_LOCAL_PATH;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga1067e28a7151a161e5fd601a3b017584">DBUS_HEADER_FIELD_REPLY_SERIAL</a>:</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="comment">/* Can&#39;t be 0 */</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="keywordflow">if</span> (v_UINT32 == 0)</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;          <span class="keywordflow">return</span> DBUS_INVALID_BAD_SERIAL;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga03b9c24acbfd1e3da19804c739612885">DBUS_HEADER_FIELD_UNIX_FDS</a>:</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="comment">/* Every value makes sense */</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga450d63fa110d3cb891082e23291580b4">DBUS_HEADER_FIELD_SIGNATURE</a>:</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="comment">/* SIGNATURE validated generically due to its type */</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      string_validation_func = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a> (<span class="stringliteral">&quot;unknown field shouldn&#39;t be seen here&quot;</span>);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">if</span> (string_validation_func)</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> len;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (bad_string_code != <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      len = <a class="code" href="group__DBusMarshal.html#ga6dd82a202c19758cbf76dbed2946615d">_dbus_marshal_read_uint32</a> (value_str, value_pos,</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                                       <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (header),</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                                       <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;Validating string header field; code %d if fails\n&quot;</span>,</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                     bad_string_code);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordflow">if</span> (!(*string_validation_func) (value_str, str_data_pos, len))</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="keywordflow">return</span> bad_string_code;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    }</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;}</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga0c3a3f95d9a53b91a0cd0b260196685b">  970</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga0c3a3f95d9a53b91a0cd0b260196685b">_dbus_header_load</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a>        *header,</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                   <a class="code" href="group__DBusMarshal.html#gaf9dce059725fa793c44b219460cbbe6d">DBusValidationMode</a> mode,</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                   <a class="code" href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a>      *validity,</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                   <span class="keywordtype">int</span>                byte_order,</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                   <span class="keywordtype">int</span>                fields_array_len,</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                   <span class="keywordtype">int</span>                header_len,</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                   <span class="keywordtype">int</span>                body_len,</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                   <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a>  *str,</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                   <span class="keywordtype">int</span>                start,</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                   <span class="keywordtype">int</span>                len)</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;{</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordtype">int</span> leftover;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a> v;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> reader;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> array_reader;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> v_byte;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> v_uint32;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> serial;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordtype">int</span> padding_start;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordtype">int</span> padding_len;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (start == (<span class="keywordtype">int</span>) _DBUS_ALIGN_VALUE (start, 8));</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (header_len &lt;= len);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_string_get_length (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>) == 0);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#gaf5f13bc7ac7a623516930d26ae2589bf">_dbus_string_copy_len</a> (str, start, header_len, &amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, 0))</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;Failed to copy buffer into new header\n&quot;</span>);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      *validity = <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007ca08cf1e84457c1f41acaf082de2060a65">DBUS_VALIDITY_UNKNOWN_OOM_ERROR</a>;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    }</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">if</span> (mode == DBUS_VALIDATION_MODE_WE_TRUST_THIS_DATA_ABSOLUTELY)</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      leftover = len - header_len - body_len - start;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      v = <a class="code" href="group__DBusMarshal.html#gae997884ec8091aacb5492c2b5a7eaef9">_dbus_validate_body_with_reason</a> (&amp;_dbus_header_signature_str, 0,</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                                           byte_order,</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                                           &amp;leftover,</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                                           str, start, len);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      </div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="keywordflow">if</span> (v != <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>)</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;          *validity = v;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;          <span class="keywordflow">goto</span> invalid;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        }</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (leftover &lt; len);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  padding_len = header_len - (<a class="code" href="group__DBusMarshal.html#gaaa085e57f49f527ef210e842be999929">FIRST_FIELD_OFFSET</a> + fields_array_len);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  padding_start = start + <a class="code" href="group__DBusMarshal.html#gaaa085e57f49f527ef210e842be999929">FIRST_FIELD_OFFSET</a> + fields_array_len;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (start + header_len == (<span class="keywordtype">int</span>) _DBUS_ALIGN_VALUE (padding_start, 8));</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (start + header_len == padding_start + padding_len);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="keywordflow">if</span> (mode != DBUS_VALIDATION_MODE_WE_TRUST_THIS_DATA_ABSOLUTELY)</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga199d0fc00ee3cd0300a1b3870d7986a3">_dbus_string_validate_nul</a> (str, padding_start, padding_len))</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;          *validity = DBUS_INVALID_ALIGNMENT_PADDING_NOT_NUL;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;          <span class="keywordflow">goto</span> invalid;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  header-&gt;<a class="code" href="structDBusHeader.html#aa22a8d00f061310e12716f656b4d9b8f">padding</a> = padding_len;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">if</span> (mode == DBUS_VALIDATION_MODE_WE_TRUST_THIS_DATA_ABSOLUTELY)</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      *validity = <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="comment">/* We now know the data is well-formed, but we have to check that</span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment">   * it&#39;s valid.</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga35d70cf69b1196518367e3e68e9b2dd2">_dbus_type_reader_init</a> (&amp;reader,</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                          byte_order,</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                          &amp;_dbus_header_signature_str, 0,</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                          str, start);</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="comment">/* BYTE ORDER */</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;reader) == <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#ga2a8ab1152821950b1fe29e000954981c">_dbus_type_reader_get_value_pos</a> (&amp;reader) == <a class="code" href="group__DBusMarshal.html#gaa5b7e77f37761139698892e4b8aad029">BYTE_ORDER_OFFSET</a>);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;reader, &amp;v_byte);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;reader);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (v_byte == byte_order);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="comment">/* MESSAGE TYPE */</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;reader) == <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#ga2a8ab1152821950b1fe29e000954981c">_dbus_type_reader_get_value_pos</a> (&amp;reader) == <a class="code" href="group__DBusMarshal.html#gaf4fe78df75f4afa2ec63304462614b03">TYPE_OFFSET</a>);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;reader, &amp;v_byte);</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;reader);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="comment">/* unknown message types are supposed to be ignored, so only validation here is</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment">   * that it isn&#39;t invalid</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordflow">if</span> (v_byte == <a class="code" href="group__DBusProtocol.html#gac975525a6ce258a7a70c583c9741b516">DBUS_MESSAGE_TYPE_INVALID</a>)</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      *validity = DBUS_INVALID_BAD_MESSAGE_TYPE;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordflow">goto</span> invalid;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="comment">/* FLAGS */</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;reader) == <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>);</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#ga2a8ab1152821950b1fe29e000954981c">_dbus_type_reader_get_value_pos</a> (&amp;reader) == <a class="code" href="group__DBusMarshal.html#ga7fe1bac4010cdc7e27de1e19702c071e">FLAGS_OFFSET</a>);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;reader, &amp;v_byte);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;reader);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">/* unknown flags should be ignored */</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="comment">/* PROTOCOL VERSION */</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;reader) == <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#ga2a8ab1152821950b1fe29e000954981c">_dbus_type_reader_get_value_pos</a> (&amp;reader) == <a class="code" href="group__DBusMarshal.html#ga4f04ecce1223b00d263c0accdea144ad">VERSION_OFFSET</a>);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;reader, &amp;v_byte);</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;reader);</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keywordflow">if</span> (v_byte != <a class="code" href="group__DBusProtocol.html#gae1ab70067a616d852e5fc264abb66608">DBUS_MAJOR_PROTOCOL_VERSION</a>)</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    {</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      *validity = DBUS_INVALID_BAD_PROTOCOL_VERSION;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="keywordflow">goto</span> invalid;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    }</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="comment">/* BODY LENGTH */</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;reader) == <a class="code" href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a>);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#ga2a8ab1152821950b1fe29e000954981c">_dbus_type_reader_get_value_pos</a> (&amp;reader) == <a class="code" href="group__DBusMarshal.html#ga190a2d89e79c9d76fcba4f06ec8b5b5c">BODY_LENGTH_OFFSET</a>);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;reader, &amp;v_uint32);</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;reader);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (body_len == (<span class="keywordtype">signed</span>) v_uint32);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="comment">/* SERIAL */</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;reader) == <a class="code" href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a>);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#ga2a8ab1152821950b1fe29e000954981c">_dbus_type_reader_get_value_pos</a> (&amp;reader) == <a class="code" href="group__DBusMarshal.html#ga4a9c0639714b478a4905cdd6e999b6b3">SERIAL_OFFSET</a>);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;reader, &amp;serial);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;reader);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keywordflow">if</span> (serial == 0)</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      *validity = DBUS_INVALID_BAD_SERIAL;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      <span class="keywordflow">goto</span> invalid;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;reader) == <a class="code" href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a>);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#ga2a8ab1152821950b1fe29e000954981c">_dbus_type_reader_get_value_pos</a> (&amp;reader) == <a class="code" href="group__DBusMarshal.html#gae9759e0de1d8a650f37632c3dc22427e">FIELDS_ARRAY_LENGTH_OFFSET</a>);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;reader, &amp;array_reader);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;array_reader) != <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>)</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    {</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> struct_reader;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> variant_reader;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> field_code;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;array_reader) == <a class="code" href="group__DBusProtocol.html#gae4b22a74b9edb0ec0ff6e0294794d3f9">DBUS_TYPE_STRUCT</a>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;array_reader, &amp;struct_reader);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;struct_reader) == <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;struct_reader, &amp;field_code);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;struct_reader);</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordflow">if</span> (field_code == <a class="code" href="group__DBusProtocol.html#ga075b0efc570129393d3fb653ce4bbd76">DBUS_HEADER_FIELD_INVALID</a>)</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;          _dbus_verbose (<span class="stringliteral">&quot;invalid header field code\n&quot;</span>);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;          *validity = DBUS_INVALID_HEADER_FIELD_CODE;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;          <span class="keywordflow">goto</span> invalid;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        }</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">if</span> (field_code &gt; <a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>)</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;          _dbus_verbose (<span class="stringliteral">&quot;unknown header field code %d, skipping\n&quot;</span>,</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                         field_code);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;          <span class="keywordflow">goto</span> next_field;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        }</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;struct_reader) == <a class="code" href="group__DBusProtocol.html#ga4aa7a463ad2bce4e9aa95e3e397ddcf1">DBUS_TYPE_VARIANT</a>);</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;struct_reader, &amp;variant_reader);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      v = load_and_validate_field (header, field_code, &amp;variant_reader);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="keywordflow">if</span> (v != <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>)</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;          _dbus_verbose (<span class="stringliteral">&quot;Field %d was invalid\n&quot;</span>, field_code);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;          *validity = v;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;          <span class="keywordflow">goto</span> invalid;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    next_field:</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;array_reader);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    }</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="comment">/* Anything we didn&#39;t fill in is now known not to exist */</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  i = 0;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordflow">while</span> (i &lt;= <a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>)</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="keywordflow">if</span> (header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[i].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a> == _DBUS_HEADER_FIELD_VALUE_UNKNOWN)</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[i].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a> = _DBUS_HEADER_FIELD_VALUE_NONEXISTENT;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      ++i;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    }</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  v = check_mandatory_fields (header);</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="keywordflow">if</span> (v != <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>)</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;Mandatory fields were missing, code %d\n&quot;</span>, v);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      *validity = v;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordflow">goto</span> invalid;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    }</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  *validity = <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; invalid:</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <a class="code" href="group__DBusString.html#ga08c423b93c28dd746dcb93e0461ab95c">_dbus_string_set_length</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, 0);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;}</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01196"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga0cff04252f97f6a25552c368199897f5"> 1196</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga0cff04252f97f6a25552c368199897f5">_dbus_header_update_lengths</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header,</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                             <span class="keywordtype">int</span>         body_len)</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;{</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga4bcfb6a664c7e46c7ffc31f96d532a02">_dbus_marshal_set_uint32</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>,</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                            <a class="code" href="group__DBusMarshal.html#ga190a2d89e79c9d76fcba4f06ec8b5b5c">BODY_LENGTH_OFFSET</a>,</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                            body_len,</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                            <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (header));</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;}</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;find_field_for_modification (<a class="code" href="structDBusHeader.html">DBusHeader</a>     *header,</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                             <span class="keywordtype">int</span>             field,</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                             <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> *reader,</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                             <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> *realign_root)</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;{</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> retval;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  retval = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga35d70cf69b1196518367e3e68e9b2dd2">_dbus_type_reader_init</a> (realign_root,</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                          <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (header),</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                          &amp;_dbus_header_signature_str,</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                          <a class="code" href="group__DBusMarshal.html#ga935ea6d7c6bb72a10c670f5ef3e34d49">FIELDS_ARRAY_SIGNATURE_OFFSET</a>,</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                          &amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>,</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                          <a class="code" href="group__DBusMarshal.html#gae9759e0de1d8a650f37632c3dc22427e">FIELDS_ARRAY_LENGTH_OFFSET</a>);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (realign_root, reader);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (reader) != <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>)</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    {</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> sub;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> field_code;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (reader, &amp;sub);</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;sub) == <a class="code" href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a>);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;sub, &amp;field_code);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">if</span> (field_code == (<span class="keywordtype">unsigned</span>) field)</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (reader) == <a class="code" href="group__DBusProtocol.html#gae4b22a74b9edb0ec0ff6e0294794d3f9">DBUS_TYPE_STRUCT</a>);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;          retval = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;          <span class="keywordflow">goto</span> done;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        }</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (reader);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    }</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; done:</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;}</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l01273"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga4349de00b7754a337526e36fda133464"> 1273</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga4349de00b7754a337526e36fda133464">_dbus_header_set_field_basic</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a>       *header,</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                              <span class="keywordtype">int</span>               field,</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                              <span class="keywordtype">int</span>               type,</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">void</span>       *value)</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;{</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (field &lt;= <a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>);</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keywordflow">if</span> (!reserve_header_padding (header))</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="comment">/* If the field exists we set, otherwise we append */</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="keywordflow">if</span> (_dbus_header_cache_check (header, field))</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    {</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> reader;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> realign_root;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <span class="keywordflow">if</span> (!find_field_for_modification (header, field,</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                                        &amp;reader, &amp;realign_root))</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a> (<span class="stringliteral">&quot;field was marked present in cache but wasn&#39;t found&quot;</span>);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <span class="keywordflow">if</span> (!set_basic_field (&amp;reader, field, type, value, &amp;realign_root))</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    {</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <a class="code" href="structDBusTypeWriter.html">DBusTypeWriter</a> writer;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <a class="code" href="structDBusTypeWriter.html">DBusTypeWriter</a> array;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga1f101175ce6f33221fcb59f0b46349bd">_dbus_type_writer_init_values_only</a> (&amp;writer,</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                                          <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (header),</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                                          &amp;_dbus_header_signature_str,</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                                          <a class="code" href="group__DBusMarshal.html#ga935ea6d7c6bb72a10c670f5ef3e34d49">FIELDS_ARRAY_SIGNATURE_OFFSET</a>,</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                                          &amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>,</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                                          <a class="code" href="group__DBusMarshal.html#gae9759e0de1d8a650f37632c3dc22427e">FIELDS_ARRAY_LENGTH_OFFSET</a>);</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="comment">/* recurse into array without creating a new length, and jump to</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment">       * end of array.</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gacc2b4c348f93898f6269feb0bf055617">_dbus_type_writer_append_array</a> (&amp;writer,</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                                           &amp;_dbus_header_signature_str,</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                                           <a class="code" href="group__DBusMarshal.html#gaca36ac2e9b37067279d1bc967793e071">FIELDS_ARRAY_ELEMENT_SIGNATURE_OFFSET</a>,</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                                           &amp;array))</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a> (<span class="stringliteral">&quot;recurse into ARRAY should not have used memory&quot;</span>);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (array.<a class="code" href="structDBusTypeWriter.html#afe24080d2be45fb6033833a1a38d5d1a">u</a>.array.len_pos == <a class="code" href="group__DBusMarshal.html#gae9759e0de1d8a650f37632c3dc22427e">FIELDS_ARRAY_LENGTH_OFFSET</a>);</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (array.<a class="code" href="structDBusTypeWriter.html#afe24080d2be45fb6033833a1a38d5d1a">u</a>.array.start_pos == <a class="code" href="group__DBusMarshal.html#gaaa085e57f49f527ef210e842be999929">FIRST_FIELD_OFFSET</a>);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (array.<a class="code" href="structDBusTypeWriter.html#a27c0475eedd90be65f90a799e5210947">value_pos</a> == <a class="code" href="group__DBusMarshal.html#gaef7e86e442aeb887c8bfe5559cd4eabb">HEADER_END_BEFORE_PADDING</a> (header));</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <span class="keywordflow">if</span> (!write_basic_field (&amp;array,</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                              field, type, value))</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gacbe7eddf4f9c19da91b742087fcc111a">_dbus_type_writer_unrecurse</a> (&amp;writer, &amp;array))</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a> (<span class="stringliteral">&quot;unrecurse from ARRAY should not have used memory&quot;</span>);</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  correct_header_padding (header);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="comment">/* We could be smarter about this (only invalidate fields after the</span></div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment">   * one we modified, or even only if the one we modified changed</span></div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment">   * length). But this hack is a start.</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  _dbus_header_cache_invalidate_all (header);</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;}</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l01351"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736"> 1351</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a>    *header,</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                              <span class="keywordtype">int</span>            field,</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                              <span class="keywordtype">int</span>            type,</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                              <span class="keywordtype">void</span>          *value)</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;{</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (field != <a class="code" href="group__DBusProtocol.html#ga075b0efc570129393d3fb653ce4bbd76">DBUS_HEADER_FIELD_INVALID</a>);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (field &lt;= <a class="code" href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a>);</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_header_field_types[field].code == field);</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="comment">/* in light of this you might ask why the type is passed in;</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">   * the only rationale I can think of is so the caller has</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">   * to specify its expectation and breaks if we change it</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (type == <a class="code" href="group__DBusMarshal.html#ga37be3d294f5be31c95bc7620e451b0b2">EXPECTED_TYPE_OF_FIELD</a> (field));</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keywordflow">if</span> (!_dbus_header_cache_check (header, field))</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[field].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a> &gt;= 0);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <a class="code" href="group__DBusMarshal.html#gab331e099fa8cf3d94cf33ad7b20c81ae">_dbus_marshal_read_basic</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>,</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                            header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[field].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a>,</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                            type, value, <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (header),</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                            <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l01392"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gaf4661ba8e7067f349ba03c9f5776bbb0"> 1392</a></span>&#160;<a class="code" href="group__DBusMarshal.html#gaf4661ba8e7067f349ba03c9f5776bbb0">_dbus_header_get_field_raw</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a>        *header,</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                            <span class="keywordtype">int</span>                field,</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                            <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a> **str,</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                            <span class="keywordtype">int</span>               *pos)</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;{</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <span class="keywordflow">if</span> (!_dbus_header_cache_check (header, field))</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">if</span> (str)</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    *str = &amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">if</span> (pos)</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    *pos = header-&gt;<a class="code" href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">fields</a>[field].<a class="code" href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">value_pos</a>;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;}</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l01416"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga7814248f4d74d109d29dc00487cd9b0c"> 1416</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga7814248f4d74d109d29dc00487cd9b0c">_dbus_header_delete_field</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header,</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                           <span class="keywordtype">int</span>         field)</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;{</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> reader;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> realign_root;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="keywordflow">if</span> (_dbus_header_cache_known_nonexistent (header, field))</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* nothing to do */</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="comment">/* Scan to the field we want, delete and realign, reappend</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment">   * padding. Field may turn out not to exist.</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <span class="keywordflow">if</span> (!find_field_for_modification (header, field,</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                                    &amp;reader, &amp;realign_root))</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* nothing to do */</span></div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="keywordflow">if</span> (!reserve_header_padding (header))</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gaa4057610b3d9e81fed212c17f6599516">_dbus_type_reader_delete</a> (&amp;reader,</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                                 &amp;realign_root))</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  correct_header_padding (header);</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  _dbus_header_cache_invalidate_all (header);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (!_dbus_header_cache_check (header, field)); <span class="comment">/* Expensive assertion ... */</span></div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;}</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01457"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gad2073f8f2f2ba3b710aa929dced34cc3"> 1457</a></span>&#160;<a class="code" href="group__DBusMarshal.html#gad2073f8f2f2ba3b710aa929dced34cc3">_dbus_header_toggle_flag</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a>   *header,</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                          <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> flag,</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                          <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a>   value)</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;{</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *flags_p;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  flags_p = <a class="code" href="group__DBusString.html#ga7a73fb373398606e6e1d0a86c4587a3c">_dbus_string_get_data_len</a> (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, <a class="code" href="group__DBusMarshal.html#ga7fe1bac4010cdc7e27de1e19702c071e">FLAGS_OFFSET</a>, 1);</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">if</span> (value)</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    *flags_p |= flag;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    *flags_p &amp;= ~flag;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;}</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l01479"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#ga56619efed3088554b8760edd246b4157"> 1479</a></span>&#160;<a class="code" href="group__DBusMarshal.html#ga56619efed3088554b8760edd246b4157">_dbus_header_get_flag</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a>   *header,</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                       <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> flag)</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;{</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *flags_p;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  flags_p = _dbus_string_get_const_data_len (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, <a class="code" href="group__DBusMarshal.html#ga7fe1bac4010cdc7e27de1e19702c071e">FLAGS_OFFSET</a>, 1);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="keywordflow">return</span> (*flags_p &amp; flag) != 0;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;}</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01496"></a><span class="lineno"><a class="line" href="group__DBusMarshal.html#gae5277c7b7bfb7b85e421baceac0398c8"> 1496</a></span>&#160;<a class="code" href="group__DBusMarshal.html#gae5277c7b7bfb7b85e421baceac0398c8">_dbus_header_byteswap</a> (<a class="code" href="structDBusHeader.html">DBusHeader</a> *header,</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                       <span class="keywordtype">int</span>         new_order)</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;{</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="keywordtype">char</span> byte_order;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  byte_order = <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (header);</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keywordflow">if</span> (byte_order == new_order)</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga609a4b8c0b65096890766fda73a4c40f">_dbus_marshal_byteswap</a> (&amp;_dbus_header_signature_str,</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                          0, byte_order,</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                          new_order,</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                          &amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, 0);</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  _dbus_string_set_byte (&amp;header-&gt;<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>, <a class="code" href="group__DBusMarshal.html#gaa5b7e77f37761139698892e4b8aad029">BYTE_ORDER_OFFSET</a>, new_order);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;}</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div><div class="ttc" id="group__DBusTypes_html_gaf513803b030613a669cc7ef199f90a8b"><div class="ttname"><a href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a></div><div class="ttdeci">unsigned int dbus_uint32_t</div><div class="ttdoc">A 32-bit unsigned integer on all platforms. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-arch-deps_8h_source.html#l00043">dbus-arch-deps.h:43</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga075b0efc570129393d3fb653ce4bbd76"><div class="ttname"><a href="group__DBusProtocol.html#ga075b0efc570129393d3fb653ce4bbd76">DBUS_HEADER_FIELD_INVALID</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_INVALID</div><div class="ttdoc">Not equal to any valid header field code. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00266">dbus-protocol.h:266</a></div></div>
<div class="ttc" id="group__DBusMacros_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdoc">A null pointer, defined appropriately for C or C++. </div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0c3a3f95d9a53b91a0cd0b260196685b"><div class="ttname"><a href="group__DBusMarshal.html#ga0c3a3f95d9a53b91a0cd0b260196685b">_dbus_header_load</a></div><div class="ttdeci">dbus_bool_t _dbus_header_load(DBusHeader *header, DBusValidationMode mode, DBusValidity *validity, int byte_order, int fields_array_len, int header_len, int body_len, const DBusString *str, int start, int len)</div><div class="ttdoc">Creates a message header from potentially-untrusted data. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00970">dbus-marshal-header.c:970</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0d5aad82f8bf5a314dcf3f70930e254b"><div class="ttname"><a href="group__DBusMarshal.html#ga0d5aad82f8bf5a314dcf3f70930e254b">_dbus_header_copy</a></div><div class="ttdeci">dbus_bool_t _dbus_header_copy(const DBusHeader *header, DBusHeader *dest)</div><div class="ttdoc">Initializes dest with a copy of the given header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00490">dbus-marshal-header.c:490</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga4bcfb6a664c7e46c7ffc31f96d532a02"><div class="ttname"><a href="group__DBusMarshal.html#ga4bcfb6a664c7e46c7ffc31f96d532a02">_dbus_marshal_set_uint32</a></div><div class="ttdeci">void _dbus_marshal_set_uint32(DBusString *str, int pos, dbus_uint32_t value, int byte_order)</div><div class="ttdoc">Sets the 4 bytes at the given offset to a marshaled unsigned integer, replacing anything found there ...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-basic_8c_source.html#l00253">dbus-marshal-basic.c:253</a></div></div>
<div class="ttc" id="group__DBusString_html_ga8f13997d90ceed2f437706e6b7804d9b"><div class="ttname"><a href="group__DBusString.html#ga8f13997d90ceed2f437706e6b7804d9b">_dbus_string_lengthen</a></div><div class="ttdeci">dbus_bool_t _dbus_string_lengthen(DBusString *str, int additional_length)</div><div class="ttdoc">Makes a string longer by the given number of bytes. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00760">dbus-string.c:760</a></div></div>
<div class="ttc" id="structDBusTypeWriter_html"><div class="ttname"><a href="structDBusTypeWriter.html">DBusTypeWriter</a></div><div class="ttdoc">The type writer is an iterator for writing to a block of values. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8h_source.html#l00064">dbus-marshal-recursive.h:64</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaab91a04fa2a96b8ce8843beae7327cd0"><div class="ttname"><a href="group__DBusMarshal.html#gaab91a04fa2a96b8ce8843beae7327cd0">_dbus_validate_bus_name</a></div><div class="ttdeci">dbus_bool_t _dbus_validate_bus_name(const DBusString *str, int start, int len)</div><div class="ttdoc">Checks that the given range of the string is a valid bus name in the D-Bus protocol. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8c_source.html#l01187">dbus-marshal-validate.c:1187</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga082b410820c74b2a6ca816a8e0c91803"><div class="ttname"><a href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a></div><div class="ttdeci">void _dbus_type_reader_recurse(DBusTypeReader *reader, DBusTypeReader *sub)</div><div class="ttdoc">Initialize a new reader pointing to the first type and corresponding value that&amp;#39;s a child of the curr...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00988">dbus-marshal-recursive.c:988</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga450d63fa110d3cb891082e23291580b4"><div class="ttname"><a href="group__DBusProtocol.html#ga450d63fa110d3cb891082e23291580b4">DBUS_HEADER_FIELD_SIGNATURE</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_SIGNATURE</div><div class="ttdoc">Header field code for the type signature of a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00297">dbus-protocol.h:297</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gae4b22a74b9edb0ec0ff6e0294794d3f9"><div class="ttname"><a href="group__DBusProtocol.html#gae4b22a74b9edb0ec0ff6e0294794d3f9">DBUS_TYPE_STRUCT</a></div><div class="ttdeci">#define DBUS_TYPE_STRUCT</div><div class="ttdoc">STRUCT and DICT_ENTRY are sort of special since their codes can&amp;#39;t appear in a type string...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00136">dbus-protocol.h:136</a></div></div>
<div class="ttc" id="structDBusHeader_html_aa22a8d00f061310e12716f656b4d9b8f"><div class="ttname"><a href="structDBusHeader.html#aa22a8d00f061310e12716f656b4d9b8f">DBusHeader::padding</a></div><div class="ttdeci">dbus_uint32_t padding</div><div class="ttdoc">bytes of alignment in header </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8h_source.html#l00058">dbus-marshal-header.h:58</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga7eb77066dadf5415896b44c56d93acce"><div class="ttname"><a href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a></div><div class="ttdeci">#define DBUS_TYPE_STRING</div><div class="ttdoc">Type code marking a UTF-8 encoded, nul-terminated Unicode string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00102">dbus-protocol.h:102</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga7ec7222423db42935aae4a24499ee0fb"><div class="ttname"><a href="group__DBusMarshal.html#ga7ec7222423db42935aae4a24499ee0fb">_dbus_header_get_serial</a></div><div class="ttdeci">dbus_uint32_t _dbus_header_get_serial(DBusHeader *header)</div><div class="ttdoc">See dbus_message_get_serial() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00427">dbus-marshal-header.c:427</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga56619efed3088554b8760edd246b4157"><div class="ttname"><a href="group__DBusMarshal.html#ga56619efed3088554b8760edd246b4157">_dbus_header_get_flag</a></div><div class="ttdeci">dbus_bool_t _dbus_header_get_flag(DBusHeader *header, dbus_uint32_t flag)</div><div class="ttdoc">Gets a message flag bit, returning TRUE if the bit is set. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01479">dbus-marshal-header.c:1479</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_ga129c6c03f011cdc171934d5d386cc797"><div class="ttname"><a href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a></div><div class="ttdeci">#define _dbus_assert(condition)</div><div class="ttdoc">Aborts with an error message if the condition is false. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8h_source.html#l00135">dbus-internals.h:135</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gabe1b78193d712976734a39d35842f033"><div class="ttname"><a href="group__DBusMarshal.html#gabe1b78193d712976734a39d35842f033">_dbus_header_init</a></div><div class="ttdeci">dbus_bool_t _dbus_header_init(DBusHeader *header)</div><div class="ttdoc">Initializes a header, but doesn&amp;#39;t prepare it for use; to make the header valid, you have to call _dbu...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00460">dbus-marshal-header.c:460</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga82e39a6508e551fb14c7bdbb17590cc6"><div class="ttname"><a href="group__DBusProtocol.html#ga82e39a6508e551fb14c7bdbb17590cc6">DBUS_HEADER_SIGNATURE</a></div><div class="ttdeci">#define DBUS_HEADER_SIGNATURE</div><div class="ttdoc">Header format is defined as a signature: byte byte order byte message type ID byte flags byte protoco...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00326">dbus-protocol.h:326</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga94f09d2b35473c8ffa6d3190b5f97c5c"><div class="ttname"><a href="group__DBusProtocol.html#ga94f09d2b35473c8ffa6d3190b5f97c5c">DBUS_HEADER_FIELD_LAST</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_LAST</div><div class="ttdoc">Value of the highest-numbered header field code, can be used to determine the size of an array indexe...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00311">dbus-protocol.h:311</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga355d6d0998164a5eb915a26fb67fce5f"><div class="ttname"><a href="group__DBusProtocol.html#ga355d6d0998164a5eb915a26fb67fce5f">DBUS_TYPE_BYTE</a></div><div class="ttdeci">#define DBUS_TYPE_BYTE</div><div class="ttdoc">Type code marking an 8-bit unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00066">dbus-protocol.h:66</a></div></div>
<div class="ttc" id="group__DBusShared_html_ga9ef6478aae637449ec0c5de1679f75ce"><div class="ttname"><a href="group__DBusShared.html#ga9ef6478aae637449ec0c5de1679f75ce">DBUS_INTERFACE_LOCAL</a></div><div class="ttdeci">#define DBUS_INTERFACE_LOCAL</div><div class="ttdoc">This is a special interface whose methods can only be invoked by the local implementation (messages f...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-shared_8h_source.html#l00100">dbus-shared.h:100</a></div></div>
<div class="ttc" id="structDBusHeader_html_a67df8bff43c10e2d4f6ae36b56ee5814"><div class="ttname"><a href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">DBusHeader::data</a></div><div class="ttdeci">DBusString data</div><div class="ttdoc">Header network data, stored separately from body so we can independently realloc it. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8h_source.html#l00049">dbus-marshal-header.h:49</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0ad919783f887a9b6f428e262beaeed9"><div class="ttname"><a href="group__DBusMarshal.html#ga0ad919783f887a9b6f428e262beaeed9">_dbus_validate_interface</a></div><div class="ttdeci">dbus_bool_t _dbus_validate_interface(const DBusString *str, int start, int len)</div><div class="ttdoc">Checks that the given range of the string is a valid interface name in the D-Bus protocol. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8c_source.html#l00921">dbus-marshal-validate.c:921</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0103b0214766b0ff1ca05bcc7f1e631b"><div class="ttname"><a href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a></div><div class="ttdeci">dbus_bool_t _dbus_type_writer_write_basic(DBusTypeWriter *writer, int type, const void *value)</div><div class="ttdoc">Writes out a basic type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l02308">dbus-marshal-recursive.c:2308</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga2b9423d95066313d73eeea8eeaf86812"><div class="ttname"><a href="group__DBusProtocol.html#ga2b9423d95066313d73eeea8eeaf86812">DBUS_MESSAGE_TYPE_ERROR</a></div><div class="ttdeci">#define DBUS_MESSAGE_TYPE_ERROR</div><div class="ttdoc">Message type of an error reply message, see dbus_message_get_type() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00238">dbus-protocol.h:238</a></div></div>
<div class="ttc" id="group__DBusString_html_ga7a73fb373398606e6e1d0a86c4587a3c"><div class="ttname"><a href="group__DBusString.html#ga7a73fb373398606e6e1d0a86c4587a3c">_dbus_string_get_data_len</a></div><div class="ttdeci">char * _dbus_string_get_data_len(DBusString *str, int start, int len)</div><div class="ttdoc">Gets a sub-portion of the raw character buffer from the string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00490">dbus-string.c:490</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga4a9012edd7f22342f845e98150aeb858"><div class="ttname"><a href="group__DBusProtocol.html#ga4a9012edd7f22342f845e98150aeb858">DBUS_MESSAGE_TYPE_METHOD_RETURN</a></div><div class="ttdeci">#define DBUS_MESSAGE_TYPE_METHOD_RETURN</div><div class="ttdoc">Message type of a method return message, see dbus_message_get_type() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00236">dbus-protocol.h:236</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga37be3d294f5be31c95bc7620e451b0b2"><div class="ttname"><a href="group__DBusMarshal.html#ga37be3d294f5be31c95bc7620e451b0b2">EXPECTED_TYPE_OF_FIELD</a></div><div class="ttdeci">#define EXPECTED_TYPE_OF_FIELD(field)</div><div class="ttdoc">Macro to look up the correct type for a field. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00090">dbus-marshal-header.c:90</a></div></div>
<div class="ttc" id="group__DBusString_html_ga7af1cbfa905f26d972ab644d890548b8"><div class="ttname"><a href="group__DBusString.html#ga7af1cbfa905f26d972ab644d890548b8">_dbus_string_shorten</a></div><div class="ttdeci">void _dbus_string_shorten(DBusString *str, int length_to_remove)</div><div class="ttdoc">Makes a string shorter by the given number of bytes. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00780">dbus-string.c:780</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaf9dce059725fa793c44b219460cbbe6d"><div class="ttname"><a href="group__DBusMarshal.html#gaf9dce059725fa793c44b219460cbbe6d">DBusValidationMode</a></div><div class="ttdeci">DBusValidationMode</div><div class="ttdoc">This is used rather than a bool for high visibility. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8h_source.html#l00036">dbus-marshal-validate.h:36</a></div></div>
<div class="ttc" id="group__DBusString_html_ga3c10f0d1bcaa3b450025b9c6a8b901d7"><div class="ttname"><a href="group__DBusString.html#ga3c10f0d1bcaa3b450025b9c6a8b901d7">_dbus_string_copy</a></div><div class="ttdeci">dbus_bool_t _dbus_string_copy(const DBusString *source, int start, DBusString *dest, int insert_at)</div><div class="ttdoc">Like _dbus_string_move(), but does not delete the section of the source string that&amp;#39;s copied to the d...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l01282">dbus-string.c:1282</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga296b5f099b6c347f65d53ef0a6fa2b0d"><div class="ttname"><a href="group__DBusProtocol.html#ga296b5f099b6c347f65d53ef0a6fa2b0d">DBUS_HEADER_FIELD_INTERFACE</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_INTERFACE</div><div class="ttdoc">Header field code for the interface containing a member (method or signal). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00274">dbus-protocol.h:274</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0c4521d30d6650a33673a4d7f9cc007c"><div class="ttname"><a href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a></div><div class="ttdeci">DBusValidity</div><div class="ttdoc">This is primarily used in unit testing, so we can verify that each invalid message is invalid for the...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8h_source.html#l00049">dbus-marshal-validate.h:49</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga6d8075f3b60e2e71aad061aa44b120fe"><div class="ttname"><a href="group__DBusMarshal.html#ga6d8075f3b60e2e71aad061aa44b120fe">_dbus_validate_error_name</a></div><div class="ttdeci">dbus_bool_t _dbus_validate_error_name(const DBusString *str, int start, int len)</div><div class="ttdoc">Checks that the given range of the string is a valid error name in the D-Bus protocol. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8c_source.html#l01058">dbus-marshal-validate.c:1058</a></div></div>
<div class="ttc" id="structDBusTypeWriter_html_aa4e4b3af31fd7a93d0e54d10882bcc07"><div class="ttname"><a href="structDBusTypeWriter.html#aa4e4b3af31fd7a93d0e54d10882bcc07">DBusTypeWriter::value_str</a></div><div class="ttdeci">DBusString * value_str</div><div class="ttdoc">where to write values </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8h_source.html#l00076">dbus-marshal-recursive.h:76</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga4f04ecce1223b00d263c0accdea144ad"><div class="ttname"><a href="group__DBusMarshal.html#ga4f04ecce1223b00d263c0accdea144ad">VERSION_OFFSET</a></div><div class="ttdeci">#define VERSION_OFFSET</div><div class="ttdoc">Offset to version from start of header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00059">dbus-marshal-header.c:59</a></div></div>
<div class="ttc" id="group__DBusShared_html_ga850990a54a46142ee7c5f8174cc932c1"><div class="ttname"><a href="group__DBusShared.html#ga850990a54a46142ee7c5f8174cc932c1">DBUS_PATH_LOCAL</a></div><div class="ttdeci">#define DBUS_PATH_LOCAL</div><div class="ttdoc">The object path used in local/in-process-generated messages. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-shared_8h_source.html#l00082">dbus-shared.h:82</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga8912f600f81a773066ca03d9163613a9"><div class="ttname"><a href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a></div><div class="ttdeci">#define DBUS_TYPE_ARRAY</div><div class="ttdoc">Type code marking a D-Bus array type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00120">dbus-protocol.h:120</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaca36ac2e9b37067279d1bc967793e071"><div class="ttname"><a href="group__DBusMarshal.html#gaca36ac2e9b37067279d1bc967793e071">FIELDS_ARRAY_ELEMENT_SIGNATURE_OFFSET</a></div><div class="ttdeci">#define FIELDS_ARRAY_ELEMENT_SIGNATURE_OFFSET</div><div class="ttdoc">Offset from start of _dbus_header_signature_str to the signature of an element of the fields array...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00049">dbus-marshal-header.c:49</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gae1ab70067a616d852e5fc264abb66608"><div class="ttname"><a href="group__DBusProtocol.html#gae1ab70067a616d852e5fc264abb66608">DBUS_MAJOR_PROTOCOL_VERSION</a></div><div class="ttdeci">#define DBUS_MAJOR_PROTOCOL_VERSION</div><div class="ttdoc">Protocol version. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00057">dbus-protocol.h:57</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaa5b7e77f37761139698892e4b8aad029"><div class="ttname"><a href="group__DBusMarshal.html#gaa5b7e77f37761139698892e4b8aad029">BYTE_ORDER_OFFSET</a></div><div class="ttdeci">#define BYTE_ORDER_OFFSET</div><div class="ttdoc">Offset to byte order from start of header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00053">dbus-marshal-header.c:53</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaf647272768029cb23a4e0d3f493587da"><div class="ttname"><a href="group__DBusMarshal.html#gaf647272768029cb23a4e0d3f493587da">_dbus_validate_member</a></div><div class="ttdeci">dbus_bool_t _dbus_validate_member(const DBusString *str, int start, int len)</div><div class="ttdoc">Checks that the given range of the string is a valid member name in the D-Bus protocol. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8c_source.html#l00997">dbus-marshal-validate.c:997</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaa4057610b3d9e81fed212c17f6599516"><div class="ttname"><a href="group__DBusMarshal.html#gaa4057610b3d9e81fed212c17f6599516">_dbus_type_reader_delete</a></div><div class="ttdeci">dbus_bool_t _dbus_type_reader_delete(DBusTypeReader *reader, const DBusTypeReader *realign_root)</div><div class="ttdoc">Recursively deletes any value pointed to by the reader, leaving the reader valid to continue reading...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l01417">dbus-marshal-recursive.c:1417</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaf4fe78df75f4afa2ec63304462614b03"><div class="ttname"><a href="group__DBusMarshal.html#gaf4fe78df75f4afa2ec63304462614b03">TYPE_OFFSET</a></div><div class="ttdeci">#define TYPE_OFFSET</div><div class="ttdoc">Offset to type from start of header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00055">dbus-marshal-header.c:55</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga1f101175ce6f33221fcb59f0b46349bd"><div class="ttname"><a href="group__DBusMarshal.html#ga1f101175ce6f33221fcb59f0b46349bd">_dbus_type_writer_init_values_only</a></div><div class="ttdeci">void _dbus_type_writer_init_values_only(DBusTypeWriter *writer, int byte_order, const DBusString *type_str, int type_pos, DBusString *value_str, int value_pos)</div><div class="ttdoc">Like _dbus_type_writer_init(), except the type string passed in should correspond to an existing sign...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l01581">dbus-marshal-recursive.c:1581</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaaf11ca429434c2c280f5fad34ed95204"><div class="ttname"><a href="group__DBusMarshal.html#gaaf11ca429434c2c280f5fad34ed95204">_dbus_type_reader_set_basic</a></div><div class="ttdeci">dbus_bool_t _dbus_type_reader_set_basic(DBusTypeReader *reader, const void *value, const DBusTypeReader *realign_root)</div><div class="ttdoc">Sets a new value for the basic type value pointed to by the reader, leaving the reader valid to conti...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l01360">dbus-marshal-recursive.c:1360</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga4427247494fc5c988498c5a87d42092d"><div class="ttname"><a href="group__DBusMarshal.html#ga4427247494fc5c988498c5a87d42092d">_dbus_header_get_message_type</a></div><div class="ttdeci">int _dbus_header_get_message_type(DBusHeader *header)</div><div class="ttdoc">Gets the type of the message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00386">dbus-marshal-header.c:386</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gac551be0f921390d01104cce30a814a5e"><div class="ttname"><a href="group__DBusProtocol.html#gac551be0f921390d01104cce30a814a5e">DBUS_HEADER_FIELD_ERROR_NAME</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_ERROR_NAME</div><div class="ttdoc">Header field code for an error name (found in DBUS_MESSAGE_TYPE_ERROR messages). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00280">dbus-protocol.h:280</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga190a2d89e79c9d76fcba4f06ec8b5b5c"><div class="ttname"><a href="group__DBusMarshal.html#ga190a2d89e79c9d76fcba4f06ec8b5b5c">BODY_LENGTH_OFFSET</a></div><div class="ttdeci">#define BODY_LENGTH_OFFSET</div><div class="ttdoc">Offset to body length from start of header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00061">dbus-marshal-header.c:61</a></div></div>
<div class="ttc" id="structDBusString_html"><div class="ttname"><a href="structDBusString.html">DBusString</a></div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8h_source.html#l00042">dbus-string.h:42</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gacbe7eddf4f9c19da91b742087fcc111a"><div class="ttname"><a href="group__DBusMarshal.html#gacbe7eddf4f9c19da91b742087fcc111a">_dbus_type_writer_unrecurse</a></div><div class="ttdeci">dbus_bool_t _dbus_type_writer_unrecurse(DBusTypeWriter *writer, DBusTypeWriter *sub)</div><div class="ttdoc">Closes a container created by _dbus_type_writer_recurse() and writes any additional information to th...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l02176">dbus-marshal-recursive.c:2176</a></div></div>
<div class="ttc" id="group__DBusTypes_html_ga39c9cb0f3a2a8ad6f55cc4855d035349"><div class="ttname"><a href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="ttdeci">dbus_uint32_t dbus_bool_t</div><div class="ttdoc">A boolean, valid values are TRUE and FALSE. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-types_8h_source.html#l00035">dbus-types.h:35</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaa54355ee98d6721d7a29b5ae7d92eb9a"><div class="ttname"><a href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a></div><div class="ttdeci">void _dbus_type_reader_read_basic(const DBusTypeReader *reader, void *value)</div><div class="ttdoc">Reads a basic-typed value, as with _dbus_marshal_read_basic(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00869">dbus-marshal-recursive.c:869</a></div></div>
<div class="ttc" id="structDBusHeaderField_html_aa9616d127de7488f6d9dc18c4d0c2133"><div class="ttname"><a href="structDBusHeaderField.html#aa9616d127de7488f6d9dc18c4d0c2133">DBusHeaderField::value_pos</a></div><div class="ttdeci">int value_pos</div><div class="ttdoc">Position of field value, or -1/-2. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8h_source.html#l00041">dbus-marshal-header.h:41</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga4a9c0639714b478a4905cdd6e999b6b3"><div class="ttname"><a href="group__DBusMarshal.html#ga4a9c0639714b478a4905cdd6e999b6b3">SERIAL_OFFSET</a></div><div class="ttdeci">#define SERIAL_OFFSET</div><div class="ttdoc">Offset to client serial from start of header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00063">dbus-marshal-header.c:63</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga499973a18dcb17d854eaf14101a66736"><div class="ttname"><a href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a></div><div class="ttdeci">dbus_bool_t _dbus_header_get_field_basic(DBusHeader *header, int field, int type, void *value)</div><div class="ttdoc">Gets the value of a field with basic type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01351">dbus-marshal-header.c:1351</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gga0c4521d30d6650a33673a4d7f9cc007ca08cf1e84457c1f41acaf082de2060a65"><div class="ttname"><a href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007ca08cf1e84457c1f41acaf082de2060a65">DBUS_VALIDITY_UNKNOWN_OOM_ERROR</a></div><div class="ttdoc">can&amp;#39;t determine validity due to OOM </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8h_source.html#l00052">dbus-marshal-validate.h:52</a></div></div>
<div class="ttc" id="group__DBusString_html_ga7e0e164ad5bb094e5ccad9edc7ae4235"><div class="ttname"><a href="group__DBusString.html#ga7e0e164ad5bb094e5ccad9edc7ae4235">_dbus_string_delete</a></div><div class="ttdeci">void _dbus_string_delete(DBusString *str, int start, int len)</div><div class="ttdoc">Deletes a segment of a DBusString with length len starting at start. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l01192">dbus-string.c:1192</a></div></div>
<div class="ttc" id="group__DBusString_html_ga569b784beea1b4fa98f05d27e6dd0e72"><div class="ttname"><a href="group__DBusString.html#ga569b784beea1b4fa98f05d27e6dd0e72">_dbus_string_init_preallocated</a></div><div class="ttdeci">dbus_bool_t _dbus_string_init_preallocated(DBusString *str, int allocate_size)</div><div class="ttdoc">Initializes a string that can be up to the given allocation size before it has to realloc...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00132">dbus-string.c:132</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gacc2b4c348f93898f6269feb0bf055617"><div class="ttname"><a href="group__DBusMarshal.html#gacc2b4c348f93898f6269feb0bf055617">_dbus_type_writer_append_array</a></div><div class="ttdeci">dbus_bool_t _dbus_type_writer_append_array(DBusTypeWriter *writer, const DBusString *contained_type, int contained_type_start, DBusTypeWriter *sub)</div><div class="ttdoc">Append to an existing array. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l02140">dbus-marshal-recursive.c:2140</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gab331e099fa8cf3d94cf33ad7b20c81ae"><div class="ttname"><a href="group__DBusMarshal.html#gab331e099fa8cf3d94cf33ad7b20c81ae">_dbus_marshal_read_basic</a></div><div class="ttdeci">void _dbus_marshal_read_basic(const DBusString *str, int pos, int type, void *value, int byte_order, int *new_pos)</div><div class="ttdoc">Demarshals a basic-typed value. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-basic_8c_source.html#l00492">dbus-marshal-basic.c:492</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga746c09512d4905f2d2fac7ed4c3c63c2"><div class="ttname"><a href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a></div><div class="ttdeci">dbus_bool_t _dbus_type_reader_next(DBusTypeReader *reader)</div><div class="ttdoc">Skip to the next value on this &quot;level&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l01051">dbus-marshal-recursive.c:1051</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gae5277c7b7bfb7b85e421baceac0398c8"><div class="ttname"><a href="group__DBusMarshal.html#gae5277c7b7bfb7b85e421baceac0398c8">_dbus_header_byteswap</a></div><div class="ttdeci">void _dbus_header_byteswap(DBusHeader *header, int new_order)</div><div class="ttdoc">Swaps the header into the given order if required. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01496">dbus-marshal-header.c:1496</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga674d74081baf6e7531e0d4a286724210"><div class="ttname"><a href="group__DBusMarshal.html#ga674d74081baf6e7531e0d4a286724210">_dbus_header_have_message_untrusted</a></div><div class="ttdeci">dbus_bool_t _dbus_header_have_message_untrusted(int max_message_length, DBusValidity *validity, int *byte_order, int *fields_array_len, int *header_len, int *body_len, const DBusString *str, int start, int len)</div><div class="ttdoc">Given data long enough to contain the length of the message body and the fields array, check whether the data is long enough to contain the entire message (assuming the claimed lengths are accurate). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00673">dbus-marshal-header.c:673</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga09416afd76b65139eddd31e1085d9ebf"><div class="ttname"><a href="group__DBusProtocol.html#ga09416afd76b65139eddd31e1085d9ebf">DBUS_MESSAGE_TYPE_METHOD_CALL</a></div><div class="ttdeci">#define DBUS_MESSAGE_TYPE_METHOD_CALL</div><div class="ttdoc">Message type of a method call message, see dbus_message_get_type() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00234">dbus-protocol.h:234</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga03b9c24acbfd1e3da19804c739612885"><div class="ttname"><a href="group__DBusProtocol.html#ga03b9c24acbfd1e3da19804c739612885">DBUS_HEADER_FIELD_UNIX_FDS</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_UNIX_FDS</div><div class="ttdoc">Header field code for the number of unix file descriptors associated with this message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00302">dbus-protocol.h:302</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gaed8596f854e755344dfbc811a73b0757"><div class="ttname"><a href="group__DBusProtocol.html#gaed8596f854e755344dfbc811a73b0757">DBUS_BIG_ENDIAN</a></div><div class="ttdeci">#define DBUS_BIG_ENDIAN</div><div class="ttdoc">Code marking MSB-first byte order in the wire protocol. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00054">dbus-protocol.h:54</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga26ed6c20c3d9f0b50ea0a1cf80be3279"><div class="ttname"><a href="group__DBusProtocol.html#ga26ed6c20c3d9f0b50ea0a1cf80be3279">DBUS_TYPE_SIGNATURE</a></div><div class="ttdeci">#define DBUS_TYPE_SIGNATURE</div><div class="ttdoc">Type code marking a D-Bus type signature. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00110">dbus-protocol.h:110</a></div></div>
<div class="ttc" id="group__DBusString_html_gaeadfb67c4e796131610499c91d0d7813"><div class="ttname"><a href="group__DBusString.html#gaeadfb67c4e796131610499c91d0d7813">_dbus_string_align_length</a></div><div class="ttdeci">dbus_bool_t _dbus_string_align_length(DBusString *str, int alignment)</div><div class="ttdoc">Align the length of a string to a specific alignment (typically 4 or 8) by appending nul bytes to the...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00883">dbus-string.c:883</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga728d893ff0c00e126517ba39835220a5"><div class="ttname"><a href="group__DBusProtocol.html#ga728d893ff0c00e126517ba39835220a5">DBUS_MESSAGE_TYPE_SIGNAL</a></div><div class="ttdeci">#define DBUS_MESSAGE_TYPE_SIGNAL</div><div class="ttdoc">Message type of a signal message, see dbus_message_get_type() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00240">dbus-protocol.h:240</a></div></div>
<div class="ttc" id="group__DBusString_html_ga2095c2a797ae245521a7588b32279110"><div class="ttname"><a href="group__DBusString.html#ga2095c2a797ae245521a7588b32279110">_dbus_string_equal_substring</a></div><div class="ttdeci">dbus_bool_t _dbus_string_equal_substring(const DBusString *a, int a_start, int a_len, const DBusString *b, int b_start)</div><div class="ttdoc">Tests two sub-parts of two DBusString for equality. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l02103">dbus-string.c:2103</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaaa085e57f49f527ef210e842be999929"><div class="ttname"><a href="group__DBusMarshal.html#gaaa085e57f49f527ef210e842be999929">FIRST_FIELD_OFFSET</a></div><div class="ttdeci">#define FIRST_FIELD_OFFSET</div><div class="ttdoc">Offset to first field in header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00067">dbus-marshal-header.c:67</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga4aa7a463ad2bce4e9aa95e3e397ddcf1"><div class="ttname"><a href="group__DBusProtocol.html#ga4aa7a463ad2bce4e9aa95e3e397ddcf1">DBUS_TYPE_VARIANT</a></div><div class="ttdeci">#define DBUS_TYPE_VARIANT</div><div class="ttdoc">Type code marking a D-Bus variant type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00124">dbus-protocol.h:124</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaef7e86e442aeb887c8bfe5559cd4eabb"><div class="ttname"><a href="group__DBusMarshal.html#gaef7e86e442aeb887c8bfe5559cd4eabb">HEADER_END_BEFORE_PADDING</a></div><div class="ttdeci">#define HEADER_END_BEFORE_PADDING(header)</div><div class="ttdoc">Compute the end of the header, ignoring padding. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00123">dbus-marshal-header.c:123</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gaedb1740bd8a9174b98ac593eded25d49"><div class="ttname"><a href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a></div><div class="ttdeci">#define DBUS_TYPE_UINT32</div><div class="ttdoc">Type code marking a 32-bit unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00086">dbus-protocol.h:86</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gae997884ec8091aacb5492c2b5a7eaef9"><div class="ttname"><a href="group__DBusMarshal.html#gae997884ec8091aacb5492c2b5a7eaef9">_dbus_validate_body_with_reason</a></div><div class="ttdeci">DBusValidity _dbus_validate_body_with_reason(const DBusString *expected_signature, int expected_signature_start, int byte_order, int *bytes_remaining, const DBusString *value_str, int value_pos, int len)</div><div class="ttdoc">Verifies that the range of value_str from value_pos to value_end is a legitimate value of type expect...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8c_source.html#l00703">dbus-marshal-validate.c:703</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga6d41ad4de211c87f4b8a43340b6893e2"><div class="ttname"><a href="group__DBusMarshal.html#ga6d41ad4de211c87f4b8a43340b6893e2">_dbus_header_reinit</a></div><div class="ttdeci">void _dbus_header_reinit(DBusHeader *header)</div><div class="ttdoc">Re-initializes a header that was previously initialized and never freed. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00443">dbus-marshal-header.c:443</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8"><div class="ttname"><a href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a></div><div class="ttdoc">the data is valid </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8h_source.html#l00056">dbus-marshal-validate.h:56</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gade98f71a08a1e0198d095fdb6d46cab9"><div class="ttname"><a href="group__DBusProtocol.html#gade98f71a08a1e0198d095fdb6d46cab9">DBUS_HEADER_FIELD_DESTINATION</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_DESTINATION</div><div class="ttdoc">Header field code for the destination bus name of a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00288">dbus-protocol.h:288</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga7814248f4d74d109d29dc00487cd9b0c"><div class="ttname"><a href="group__DBusMarshal.html#ga7814248f4d74d109d29dc00487cd9b0c">_dbus_header_delete_field</a></div><div class="ttdeci">dbus_bool_t _dbus_header_delete_field(DBusHeader *header, int field)</div><div class="ttdoc">Deletes a field, if it exists. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01416">dbus-marshal-header.c:1416</a></div></div>
<div class="ttc" id="structHeaderFieldType_html_a904875b9ce744f8103a55aae312521bb"><div class="ttname"><a href="structHeaderFieldType.html#a904875b9ce744f8103a55aae312521bb">HeaderFieldType::type</a></div><div class="ttdeci">unsigned char type</div><div class="ttdoc">the value type </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00072">dbus-marshal-header.c:72</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaa10402f90ea6e004e3b9f04eea34f73c"><div class="ttname"><a href="group__DBusMarshal.html#gaa10402f90ea6e004e3b9f04eea34f73c">MAX_POSSIBLE_HEADER_PADDING</a></div><div class="ttdeci">#define MAX_POSSIBLE_HEADER_PADDING</div><div class="ttdoc">The most padding we could ever need for a header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00093">dbus-marshal-header.c:93</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gac975525a6ce258a7a70c583c9741b516"><div class="ttname"><a href="group__DBusProtocol.html#gac975525a6ce258a7a70c583c9741b516">DBUS_MESSAGE_TYPE_INVALID</a></div><div class="ttdeci">#define DBUS_MESSAGE_TYPE_INVALID</div><div class="ttdoc">This value is never a valid message type, see dbus_message_get_type() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00232">dbus-protocol.h:232</a></div></div>
<div class="ttc" id="group__DBusString_html_ga781ca91acda49a834dce7d0ed0eef212"><div class="ttname"><a href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a></div><div class="ttdeci">void _dbus_string_free(DBusString *str)</div><div class="ttdoc">Frees a string created by _dbus_string_init(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00259">dbus-string.c:259</a></div></div>
<div class="ttc" id="structDBusTypeReader_html"><div class="ttname"><a href="structDBusTypeReader.html">DBusTypeReader</a></div><div class="ttdoc">The type reader is an iterator for reading values from a block of values. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8h_source.html#l00039">dbus-marshal-recursive.h:39</a></div></div>
<div class="ttc" id="group__DBusMacros_html_gaa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdoc">Expands to &quot;1&quot;. </div></div>
<div class="ttc" id="group__DBusMarshal_html_ga4349de00b7754a337526e36fda133464"><div class="ttname"><a href="group__DBusMarshal.html#ga4349de00b7754a337526e36fda133464">_dbus_header_set_field_basic</a></div><div class="ttdeci">dbus_bool_t _dbus_header_set_field_basic(DBusHeader *header, int field, int type, const void *value)</div><div class="ttdoc">Sets the value of a field with basic type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01273">dbus-marshal-header.c:1273</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_ga0c4961ec784874f1b1f3aeccea8d3da1"><div class="ttname"><a href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a></div><div class="ttdeci">#define _dbus_assert_not_reached(explanation)</div><div class="ttdoc">Aborts with an error message if called. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8h_source.html#l00145">dbus-internals.h:145</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga2aa9d65ef983ac9c08c1d4cb31366818"><div class="ttname"><a href="group__DBusProtocol.html#ga2aa9d65ef983ac9c08c1d4cb31366818">DBUS_HEADER_FIELD_MEMBER</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_MEMBER</div><div class="ttdoc">Header field code for a member (method or signal). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00276">dbus-protocol.h:276</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga3ba84ae623951832bd73e2796bb13e71"><div class="ttname"><a href="group__DBusProtocol.html#ga3ba84ae623951832bd73e2796bb13e71">DBUS_HEADER_FIELD_SENDER</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_SENDER</div><div class="ttdoc">Header field code for the sender of a message; usually initialized by the message bus...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00293">dbus-protocol.h:293</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga31cc59c99a6cbbfcef71756e1390dc4c"><div class="ttname"><a href="group__DBusProtocol.html#ga31cc59c99a6cbbfcef71756e1390dc4c">DBUS_TYPE_OBJECT_PATH</a></div><div class="ttdeci">#define DBUS_TYPE_OBJECT_PATH</div><div class="ttdoc">Type code marking a D-Bus object path. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00106">dbus-protocol.h:106</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gac7901e4196f10d4763df89b42d5db03e"><div class="ttname"><a href="group__DBusMarshal.html#gac7901e4196f10d4763df89b42d5db03e">_dbus_header_create</a></div><div class="ttdeci">dbus_bool_t _dbus_header_create(DBusHeader *header, int byte_order, int message_type, const char *destination, const char *path, const char *interface, const char *member, const char *error_name)</div><div class="ttdoc">Fills in the primary fields of the header, so the header is ready for use. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00528">dbus-marshal-header.c:528</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gaa9588da889743b2119dc6664712ae51e"><div class="ttname"><a href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a></div><div class="ttdeci">#define DBUS_TYPE_INVALID</div><div class="ttdoc">Type code that is never equal to a legitimate type code. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00060">dbus-protocol.h:60</a></div></div>
<div class="ttc" id="structHeaderFieldType_html_aa9431b99ba54853099db8d7a7882b437"><div class="ttname"><a href="structHeaderFieldType.html#aa9431b99ba54853099db8d7a7882b437">HeaderFieldType::code</a></div><div class="ttdeci">unsigned char code</div><div class="ttdoc">the field code </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00071">dbus-marshal-header.c:71</a></div></div>
<div class="ttc" id="structHeaderFieldType_html"><div class="ttname"><a href="structHeaderFieldType.html">HeaderFieldType</a></div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00069">dbus-marshal-header.c:69</a></div></div>
<div class="ttc" id="structDBusTypeWriter_html_a27c0475eedd90be65f90a799e5210947"><div class="ttname"><a href="structDBusTypeWriter.html#a27c0475eedd90be65f90a799e5210947">DBusTypeWriter::value_pos</a></div><div class="ttdeci">int value_pos</div><div class="ttdoc">next position to write </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8h_source.html#l00077">dbus-marshal-recursive.h:77</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga35d70cf69b1196518367e3e68e9b2dd2"><div class="ttname"><a href="group__DBusMarshal.html#ga35d70cf69b1196518367e3e68e9b2dd2">_dbus_type_reader_init</a></div><div class="ttdeci">void _dbus_type_reader_init(DBusTypeReader *reader, int byte_order, const DBusString *type_str, int type_pos, const DBusString *value_str, int value_pos)</div><div class="ttdoc">Initializes a type reader. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00732">dbus-marshal-recursive.c:732</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gab90a814a27aeeace7e02c4ed130539cf"><div class="ttname"><a href="group__DBusMarshal.html#gab90a814a27aeeace7e02c4ed130539cf">_dbus_header_free</a></div><div class="ttdeci">void _dbus_header_free(DBusHeader *header)</div><div class="ttdoc">Frees a header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00476">dbus-marshal-header.c:476</a></div></div>
<div class="ttc" id="structDBusHeader_html_ac58a309593d0dc7e8d5a02f3b3442384"><div class="ttname"><a href="structDBusHeader.html#ac58a309593d0dc7e8d5a02f3b3442384">DBusHeader::fields</a></div><div class="ttdeci">DBusHeaderField fields[DBUS_HEADER_FIELD_LAST+1]</div><div class="ttdoc">Track the location of each field in header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8h_source.html#l00054">dbus-marshal-header.h:54</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gae9759e0de1d8a650f37632c3dc22427e"><div class="ttname"><a href="group__DBusMarshal.html#gae9759e0de1d8a650f37632c3dc22427e">FIELDS_ARRAY_LENGTH_OFFSET</a></div><div class="ttdeci">#define FIELDS_ARRAY_LENGTH_OFFSET</div><div class="ttdoc">Offset to fields array length from start of header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00065">dbus-marshal-header.c:65</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gad92e0b1992cf96a4da642a4a54a5d26d"><div class="ttname"><a href="group__DBusMarshal.html#gad92e0b1992cf96a4da642a4a54a5d26d">_dbus_header_set_serial</a></div><div class="ttdeci">void _dbus_header_set_serial(DBusHeader *header, dbus_uint32_t serial)</div><div class="ttdoc">Sets the serial number of a header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00404">dbus-marshal-header.c:404</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga65c023673b837c27e8ccda5c2528d806"><div class="ttname"><a href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a></div><div class="ttdeci">char _dbus_header_get_byte_order(const DBusHeader *header)</div><div class="ttdoc">Returns the header&amp;#39;s byte order. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00174">dbus-marshal-header.c:174</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gab49ca4819ef45b26463427bb09060844"><div class="ttname"><a href="group__DBusMarshal.html#gab49ca4819ef45b26463427bb09060844">_DBUS_STRING_DEFINE_STATIC</a></div><div class="ttdeci">_DBUS_STRING_DEFINE_STATIC(_dbus_header_signature_str, DBUS_HEADER_SIGNATURE)</div><div class="ttdoc">Static DBusString containing the signature of a message header. </div></div>
<div class="ttc" id="structDBusTypeWriter_html_afe24080d2be45fb6033833a1a38d5d1a"><div class="ttname"><a href="structDBusTypeWriter.html#afe24080d2be45fb6033833a1a38d5d1a">DBusTypeWriter::u</a></div><div class="ttdeci">union DBusTypeWriter::@3 u</div><div class="ttdoc">class-specific data </div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_gafe869e3145b7e32c4fb6a6741c9fc78e"><div class="ttname"><a href="group__DBusInternalsUtils.html#gafe869e3145b7e32c4fb6a6741c9fc78e">_DBUS_INT32_MAX</a></div><div class="ttdeci">#define _DBUS_INT32_MAX</div><div class="ttdoc">Maximum value of type &quot;int32&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8h_source.html#l00227">dbus-internals.h:227</a></div></div>
<div class="ttc" id="group__DBusString_html_ga199d0fc00ee3cd0300a1b3870d7986a3"><div class="ttname"><a href="group__DBusString.html#ga199d0fc00ee3cd0300a1b3870d7986a3">_dbus_string_validate_nul</a></div><div class="ttdeci">dbus_bool_t _dbus_string_validate_nul(const DBusString *str, int start, int len)</div><div class="ttdoc">Checks that the given range of the string is all nul bytes. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l02652">dbus-string.c:2652</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaf4661ba8e7067f349ba03c9f5776bbb0"><div class="ttname"><a href="group__DBusMarshal.html#gaf4661ba8e7067f349ba03c9f5776bbb0">_dbus_header_get_field_raw</a></div><div class="ttdeci">dbus_bool_t _dbus_header_get_field_raw(DBusHeader *header, int field, const DBusString **str, int *pos)</div><div class="ttdoc">Gets the raw marshaled data for a field. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01392">dbus-marshal-header.c:1392</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gab8e39cb8084247d54d7f272c51622a73"><div class="ttname"><a href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a></div><div class="ttdeci">int _dbus_type_reader_get_current_type(const DBusTypeReader *reader)</div><div class="ttdoc">Gets the type of the value the reader is currently pointing to; or for a types-only reader gets the t...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00785">dbus-marshal-recursive.c:785</a></div></div>
<div class="ttc" id="group__DBusMacros_html_gaa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdoc">Expands to &quot;0&quot;. </div></div>
<div class="ttc" id="structDBusHeader_html"><div class="ttname"><a href="structDBusHeader.html">DBusHeader</a></div><div class="ttdoc">Message header data and some cached details of it. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8h_source.html#l00047">dbus-marshal-header.h:47</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga0cd885e6e808b28ff082a7f8a2c9f579"><div class="ttname"><a href="group__DBusProtocol.html#ga0cd885e6e808b28ff082a7f8a2c9f579">DBUS_HEADER_FIELD_PATH</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_PATH</div><div class="ttdoc">Header field code for the path - the path is the object emitting a signal or the object receiving a m...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00270">dbus-protocol.h:270</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga1067e28a7151a161e5fd601a3b017584"><div class="ttname"><a href="group__DBusProtocol.html#ga1067e28a7151a161e5fd601a3b017584">DBUS_HEADER_FIELD_REPLY_SERIAL</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_REPLY_SERIAL</div><div class="ttdoc">Header field code for a reply serial, used to match a DBUS_MESSAGE_TYPE_METHOD_RETURN message with th...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00284">dbus-protocol.h:284</a></div></div>
<div class="ttc" id="group__DBusString_html_ga08c423b93c28dd746dcb93e0461ab95c"><div class="ttname"><a href="group__DBusString.html#ga08c423b93c28dd746dcb93e0461ab95c">_dbus_string_set_length</a></div><div class="ttdeci">dbus_bool_t _dbus_string_set_length(DBusString *str, int length)</div><div class="ttdoc">Sets the length of a string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00802">dbus-string.c:802</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga7fe1bac4010cdc7e27de1e19702c071e"><div class="ttname"><a href="group__DBusMarshal.html#ga7fe1bac4010cdc7e27de1e19702c071e">FLAGS_OFFSET</a></div><div class="ttdeci">#define FLAGS_OFFSET</div><div class="ttdoc">Offset to flags from start of header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00057">dbus-marshal-header.c:57</a></div></div>
<div class="ttc" id="group__DBusString_html_gaf5f13bc7ac7a623516930d26ae2589bf"><div class="ttname"><a href="group__DBusString.html#gaf5f13bc7ac7a623516930d26ae2589bf">_dbus_string_copy_len</a></div><div class="ttdeci">dbus_bool_t _dbus_string_copy_len(const DBusString *source, int start, int len, DBusString *dest, int insert_at)</div><div class="ttdoc">Like _dbus_string_copy(), but can copy a segment from the middle of the source string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l01374">dbus-string.c:1374</a></div></div>
<div class="ttc" id="group__DBusString_html_ga6792a5c1725faa9d635d95f7a3b5bfae"><div class="ttname"><a href="group__DBusString.html#ga6792a5c1725faa9d635d95f7a3b5bfae">_dbus_string_init_const_len</a></div><div class="ttdeci">void _dbus_string_init_const_len(DBusString *str, const char *value, int len)</div><div class="ttdoc">Initializes a constant string with a length. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00210">dbus-string.c:210</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga4c0a1036e59dac270141052d951baff2"><div class="ttname"><a href="group__DBusMarshal.html#ga4c0a1036e59dac270141052d951baff2">_dbus_type_writer_recurse</a></div><div class="ttdeci">dbus_bool_t _dbus_type_writer_recurse(DBusTypeWriter *writer, int container_type, const DBusString *contained_type, int contained_type_start, DBusTypeWriter *sub)</div><div class="ttdoc">Opens a new container and writes out the initial information for that container. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l02106">dbus-marshal-recursive.c:2106</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga935ea6d7c6bb72a10c670f5ef3e34d49"><div class="ttname"><a href="group__DBusMarshal.html#ga935ea6d7c6bb72a10c670f5ef3e34d49">FIELDS_ARRAY_SIGNATURE_OFFSET</a></div><div class="ttdeci">#define FIELDS_ARRAY_SIGNATURE_OFFSET</div><div class="ttdoc">Offset from start of _dbus_header_signature_str to the signature of the fields array. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00047">dbus-marshal-header.c:47</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gad2073f8f2f2ba3b710aa929dced34cc3"><div class="ttname"><a href="group__DBusMarshal.html#gad2073f8f2f2ba3b710aa929dced34cc3">_dbus_header_toggle_flag</a></div><div class="ttdeci">void _dbus_header_toggle_flag(DBusHeader *header, dbus_uint32_t flag, dbus_bool_t value)</div><div class="ttdoc">Toggles a message flag bit, turning on the bit if value = TRUE and flipping it off if value = FALSE...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01457">dbus-marshal-header.c:1457</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0cff04252f97f6a25552c368199897f5"><div class="ttname"><a href="group__DBusMarshal.html#ga0cff04252f97f6a25552c368199897f5">_dbus_header_update_lengths</a></div><div class="ttdeci">void _dbus_header_update_lengths(DBusHeader *header, int body_len)</div><div class="ttdoc">Fills in the correct body length. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01196">dbus-marshal-header.c:1196</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga609a4b8c0b65096890766fda73a4c40f"><div class="ttname"><a href="group__DBusMarshal.html#ga609a4b8c0b65096890766fda73a4c40f">_dbus_marshal_byteswap</a></div><div class="ttdeci">void _dbus_marshal_byteswap(const DBusString *signature, int signature_start, int old_byte_order, int new_byte_order, DBusString *value_str, int value_pos)</div><div class="ttdoc">Byteswaps the marshaled data in the given value_str. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-byteswap_8c_source.html#l00222">dbus-marshal-byteswap.c:222</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga2a8ab1152821950b1fe29e000954981c"><div class="ttname"><a href="group__DBusMarshal.html#ga2a8ab1152821950b1fe29e000954981c">_dbus_type_reader_get_value_pos</a></div><div class="ttdeci">int _dbus_type_reader_get_value_pos(const DBusTypeReader *reader)</div><div class="ttdoc">Gets the current position in the value block. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00837">dbus-marshal-recursive.c:837</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gaae5e00bf9091a457e5bb3f9a75d982ca"><div class="ttname"><a href="group__DBusProtocol.html#gaae5e00bf9091a457e5bb3f9a75d982ca">DBUS_LITTLE_ENDIAN</a></div><div class="ttdeci">#define DBUS_LITTLE_ENDIAN</div><div class="ttdoc">Code marking LSB-first byte order in the wire protocol. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00053">dbus-protocol.h:53</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga6dd82a202c19758cbf76dbed2946615d"><div class="ttname"><a href="group__DBusMarshal.html#ga6dd82a202c19758cbf76dbed2946615d">_dbus_marshal_read_uint32</a></div><div class="ttdeci">dbus_uint32_t _dbus_marshal_read_uint32(const DBusString *str, int pos, int byte_order, int *new_pos)</div><div class="ttdoc">Convenience function to demarshal a 32 bit unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-basic_8c_source.html#l00454">dbus-marshal-basic.c:454</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
