<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>D-Bus: dbus-message.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">D-Bus
   &#160;<span id="projectnumber">1.9.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_aa0f429d6f87d1df49a210da102129e1.html">dbus</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">dbus-message.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* -*- mode: C; c-file-style: &quot;gnu&quot;; indent-tabs-mode: nil; -*- */</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/* dbus-message.c  DBusMessage object</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 2002, 2003, 2004, 2005  Red Hat Inc.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (C) 2002, 2003  CodeFactory AB</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Licensed under the Academic Free License version 2.1</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * (at your option) any later version.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;config.h&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;dbus-internals.h&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;dbus-marshal-recursive.h&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;dbus-marshal-validate.h&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;dbus-marshal-byteswap.h&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;dbus-marshal-header.h&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;dbus-signature.h&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;dbus-message-private.h&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;dbus-object-tree.h&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;dbus-memory.h&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;dbus-list.h&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;dbus-threads-internal.h&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;dbus-sysdeps.h&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;dbus-sysdeps-unix.h&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#define _DBUS_TYPE_IS_STRINGLIKE(type) \</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">  (type == DBUS_TYPE_STRING || type == DBUS_TYPE_SIGNATURE || \</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">   type == DBUS_TYPE_OBJECT_PATH)</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> dbus_message_finalize (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#ifdef DBUS_ENABLE_EMBEDDED_TESTS</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;_dbus_enable_message_cache (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">int</span> enabled = -1;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">if</span> (enabled &lt; 0)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *s = <a class="code" href="group__DBusSysdeps.html#gab846071a4de54cb7e518654f9375313a">_dbus_getenv</a> (<span class="stringliteral">&quot;DBUS_MESSAGE_CACHE&quot;</span>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      enabled = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">if</span> (s &amp;&amp; *s)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;          <span class="keywordflow">if</span> (*s == <span class="charliteral">&#39;0&#39;</span>)</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            enabled = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*s == <span class="charliteral">&#39;1&#39;</span>)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            enabled = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <a class="code" href="group__DBusInternalsUtils.html#gabea2c16d6d3fe7c4eb5b9496fc877f84">_dbus_warn</a> (<span class="stringliteral">&quot;DBUS_MESSAGE_CACHE should be 0 or 1 if set, not &#39;%s&#39;&quot;</span>,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                s);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">return</span> enabled;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">/* constant expression, should be optimized away */</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#   define _dbus_enable_message_cache() (TRUE)</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#ifndef _dbus_message_trace_ref</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;_dbus_message_trace_ref (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                         <span class="keywordtype">int</span>          old_refcount,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                         <span class="keywordtype">int</span>          new_refcount,</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span>  *why)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">int</span> enabled = -1;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  _dbus_trace_ref (<span class="stringliteral">&quot;DBusMessage&quot;</span>, message, old_refcount, new_refcount, why,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="stringliteral">&quot;DBUS_MESSAGE_TRACE&quot;</span>, &amp;enabled);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">/* Not thread locked, but strictly const/read-only so should be OK</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga47a86f36abae39fe43916681d3f16330">_DBUS_STRING_DEFINE_STATIC</a>(_dbus_empty_signature_str,  <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">/* these have wacky values to help trap uninitialized iterators;</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"> * but has to fit in 3 bits</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  DBUS_MESSAGE_ITER_TYPE_READER = 3,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  DBUS_MESSAGE_ITER_TYPE_WRITER = 7</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;};</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga84c2bf86d0ab364b236814eafb85e512">  119</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structDBusMessageRealIter.html">  126</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">  128</a></span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>; </div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="structDBusMessageRealIter.html#ac10324f74497a5c2288eef8fbcd3ae42">  129</a></span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> <a class="code" href="structDBusMessageRealIter.html#ac10324f74497a5c2288eef8fbcd3ae42">changed_stamp</a> : <a class="code" href="group__DBusMessageInternals.html#ga660989658f3be5e403da430f63afd0b7">CHANGED_STAMP_BITS</a>; </div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">  130</a></span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> <a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> : 3;      </div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">  131</a></span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> <a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> : 8;   </div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keyword">union</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  {</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">  134</a></span>&#160;    <a class="code" href="structDBusTypeWriter.html">DBusTypeWriter</a> <a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>; </div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">  135</a></span>&#160;    <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> <a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>; </div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  } <a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>; </div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;};</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;get_const_signature (<a class="code" href="structDBusHeader.html">DBusHeader</a>        *header,</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                     <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a> **type_str_p,</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                     <span class="keywordtype">int</span>               *type_pos_p)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__DBusMarshal.html#gaf4661ba8e7067f349ba03c9f5776bbb0">_dbus_header_get_field_raw</a> (header,</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                  <a class="code" href="group__DBusProtocol.html#ga450d63fa110d3cb891082e23291580b4">DBUS_HEADER_FIELD_SIGNATURE</a>,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                  type_str_p,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                  type_pos_p))</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      *type_pos_p += 1; <span class="comment">/* skip the signature length which is 1 byte */</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      *type_str_p = &amp;_dbus_empty_signature_str;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      *type_pos_p = 0;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;_dbus_message_byteswap (<a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a> *type_str;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordtype">int</span> type_pos;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordtype">char</span> byte_order;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  byte_order = <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">if</span> (byte_order == DBUS_COMPILER_BYTE_ORDER)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  _dbus_verbose (<span class="stringliteral">&quot;Swapping message into compiler byte order\n&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  </div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  get_const_signature (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>, &amp;type_str, &amp;type_pos);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  </div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga609a4b8c0b65096890766fda73a4c40f">_dbus_marshal_byteswap</a> (type_str, type_pos,</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                          byte_order,</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                          DBUS_COMPILER_BYTE_ORDER,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                          &amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>, 0);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="group__DBusMarshal.html#gae5277c7b7bfb7b85e421baceac0398c8">_dbus_header_byteswap</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>, DBUS_COMPILER_BYTE_ORDER);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>) ==</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                DBUS_COMPILER_BYTE_ORDER);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga1dfae386ef0d4d808584abeafc44e8ca">  195</a></span>&#160;<span class="preprocessor">#define ensure_byte_order(message) _dbus_message_byteswap (message)</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga617811b117ac5eb31151ffb7dabea7a8">  208</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga617811b117ac5eb31151ffb7dabea7a8">_dbus_message_get_network_data</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>          *message,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a>    **header,</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a>    **body)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;{</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  *header = &amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>.<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  *body = &amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga577e9d5224c56b9cf2ca2691be2e838c">  227</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__DBusMessageInternals.html#ga577e9d5224c56b9cf2ca2691be2e838c">_dbus_message_get_unix_fds</a>(<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">int</span>  **fds,</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                <span class="keywordtype">unsigned</span>    *n_fds)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  *fds = message-&gt;unix_fds;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  *n_fds = message-&gt;n_unix_fds;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  *fds = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  *n_fds = 0;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keywordtype">void</span> </div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaa35c17742d8fe091aa039cbd29961c52">  254</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga3dd30a62c63eb9972cc0c564f2a89c3b">dbus_message_set_serial</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>   *message,</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                         <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a>  serial)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;{</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  _dbus_return_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  _dbus_return_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="group__DBusMarshal.html#gad92e0b1992cf96a4da642a4a54a5d26d">_dbus_header_set_serial</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>, serial);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gafaed2adc00b2ec54b2827ecb778bbe7e">  280</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gafaed2adc00b2ec54b2827ecb778bbe7e">_dbus_message_add_counter_link</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *message,</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                <a class="code" href="structDBusList.html">DBusList</a>     *link)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;{</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">/* right now we don&#39;t recompute the delta when message</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">   * size changes, and that&#39;s OK for current purposes</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">   * I think, but could be important to change later.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">   * Do recompute it whenever there are no outstanding counters,</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">   * since it&#39;s basically free.</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">if</span> (message-&gt;<a class="code" href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">counters</a> == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      message-&gt;<a class="code" href="structDBusMessage.html#ab8f43d40fa870f97f1126256568cec61">size_counter_delta</a> =</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        _dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>.<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>) +</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        _dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      message-&gt;unix_fd_counter_delta = message-&gt;n_unix_fds;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;message has size %ld\n&quot;</span>,</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                     message-&gt;<a class="code" href="structDBusMessage.html#ab8f43d40fa870f97f1126256568cec61">size_counter_delta</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="group__DBusList.html#ga20e549175e2b8f450f907592dc39d953">_dbus_list_append_link</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">counters</a>, link);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="group__DBusResources.html#gae37410c196947675c2a222a7979e9dee">_dbus_counter_adjust_size</a> (link-&gt;<a class="code" href="structDBusList.html#a29ab457bcf9092252bb0c4282c727055">data</a>, message-&gt;<a class="code" href="structDBusMessage.html#ab8f43d40fa870f97f1126256568cec61">size_counter_delta</a>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <a class="code" href="group__DBusResources.html#ga7d9411d27b337289ab5648beb148cde6">_dbus_counter_adjust_unix_fd</a> (link-&gt;<a class="code" href="structDBusList.html#a29ab457bcf9092252bb0c4282c727055">data</a>, message-&gt;unix_fd_counter_delta);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gad009d79879d654a009c83627726435d8">  329</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gad009d79879d654a009c83627726435d8">_dbus_message_add_counter</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                           <a class="code" href="structDBusCounter.html">DBusCounter</a> *counter)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <a class="code" href="structDBusList.html">DBusList</a> *link;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  link = <a class="code" href="group__DBusList.html#gac20b9981531cef590d49a59240344cd8">_dbus_list_alloc_link</a> (counter);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">if</span> (link == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="group__DBusResources.html#gae93240c77bfb66642453518c9bb90bc4">_dbus_counter_ref</a> (counter);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="group__DBusMessageInternals.html#gafaed2adc00b2ec54b2827ecb778bbe7e">_dbus_message_add_counter_link</a> (message, link);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gac84be3fd98e49409c1245a87c7de6f7d">  352</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gac84be3fd98e49409c1245a87c7de6f7d">_dbus_message_remove_counter</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *message,</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                              <a class="code" href="structDBusCounter.html">DBusCounter</a>  *counter)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <a class="code" href="structDBusList.html">DBusList</a> *link;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  link = <a class="code" href="group__DBusList.html#ga5929ad5253d2f538158e513e9df3002b">_dbus_list_find_last</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">counters</a>,</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                               counter);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (link != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <a class="code" href="group__DBusList.html#ga40abea762d9cb44e5ec6b31b1769dc2e">_dbus_list_remove_link</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">counters</a>, link);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <a class="code" href="group__DBusResources.html#gae37410c196947675c2a222a7979e9dee">_dbus_counter_adjust_size</a> (counter, - message-&gt;<a class="code" href="structDBusMessage.html#ab8f43d40fa870f97f1126256568cec61">size_counter_delta</a>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <a class="code" href="group__DBusResources.html#ga7d9411d27b337289ab5648beb148cde6">_dbus_counter_adjust_unix_fd</a> (counter, - message-&gt;unix_fd_counter_delta);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <a class="code" href="group__DBusResources.html#gab8c0e970e0c3b4696ba06723639d8239">_dbus_counter_notify</a> (counter);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="group__DBusResources.html#ga48d9b53d1a395ab3c4f1846ca569ef3f">_dbus_counter_unref</a> (counter);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gad3d6b8ec4745ec19f57cae07621f3a47">  384</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga3ecc9c24381af05289161f477ad6a578">dbus_message_lock</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *message)</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;{</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">if</span> (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga0cff04252f97f6a25552c368199897f5">_dbus_header_update_lengths</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                   _dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>));</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="comment">/* must have a signature if you have a body */</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>) == 0 ||</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    <a class="code" href="group__DBusMessage.html#gaed63e4c2baaa50d782e8ebb7643def19">dbus_message_get_signature</a> (message) != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a> = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;set_or_delete_string_field (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                            <span class="keywordtype">int</span>          field,</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                            <span class="keywordtype">int</span>          typecode,</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">char</span>  *value)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">if</span> (value == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga7814248f4d74d109d29dc00487cd9b0c">_dbus_header_delete_field</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>, field);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga4349de00b7754a337526e36fda133464">_dbus_header_set_field_basic</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                         field,</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                         typecode,</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                         &amp;value);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">/* Probably we don&#39;t need to use this */</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;_dbus_message_set_signature (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">char</span>  *signature)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  _dbus_return_val_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  _dbus_return_val_if_fail (signature == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                            _dbus_check_is_valid_signature (signature));</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="comment">/* can&#39;t delete the signature if you have a message body */</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  _dbus_return_val_if_fail (_dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>) == 0 ||</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                            signature != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">return</span> set_or_delete_string_field (message,</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga450d63fa110d3cb891082e23291580b4">DBUS_HEADER_FIELD_SIGNATURE</a>,</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga26ed6c20c3d9f0b50ea0a1cf80be3279">DBUS_TYPE_SIGNATURE</a>,</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                     signature);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">/* Message Cache</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"> * We cache some DBusMessage to reduce the overhead of allocating</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"> * them.  In my profiling this consistently made about an 8%</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"> * difference.  It avoids the malloc for the message, the malloc for</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"> * the slot list, the malloc for the header string and body string,</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"> * and the associated free() calls. It does introduce another global</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"> * lock which could be a performance issue in certain cases.</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"> * For the echo client/server the round trip time goes from around</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment"> * .000077 to .000069 with the message cache on my laptop. The sysprof</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"> * change is as follows (numbers are cumulative percentage):</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment"> *  with message cache implemented as array as it is now (0.000069 per):</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"> *    new_empty_header           1.46</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment"> *      mutex_lock               0.56    # i.e. _DBUS_LOCK(message_cache)</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"> *      mutex_unlock             0.25</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"> *      self                     0.41</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment"> *    unref                      2.24</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment"> *      self                     0.68</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment"> *      list_clear               0.43</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"> *      mutex_lock               0.33    # i.e. _DBUS_LOCK(message_cache)</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"> *      mutex_unlock             0.25</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"> *  with message cache implemented as list (0.000070 per roundtrip):</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"> *    new_empty_header           2.72</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"> *      list_pop_first           1.88</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"> *    unref                      3.3</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"> *      list_prepend             1.63</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> * without cache (0.000077 per roundtrip):</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"> *    new_empty_header           6.7</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"> *      string_init_preallocated 3.43</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"> *        dbus_malloc            2.43</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"> *      dbus_malloc0             2.59</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment"> *    unref                      4.02</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment"> *      string_free              1.82</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"> *        dbus_free              1.63</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"> *      dbus_free                0.71</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment"> * If you implement the message_cache with a list, the primary reason</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"> * it&#39;s slower is that you add another thread lock (on the DBusList</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"> * mempool).</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga2c5c6aef45dd0b5cc10c800f986a7ce7">  505</a></span>&#160;<span class="preprocessor">#define MAX_MESSAGE_SIZE_TO_CACHE 10 * _DBUS_ONE_KILOBYTE</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gaeab2038ce58cd314dc1f23103abec5b0">  508</a></span>&#160;<span class="preprocessor">#define MAX_MESSAGE_CACHE_SIZE    5</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">/* Protected by _DBUS_LOCK (message_cache) */</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="keyword">static</span> <a class="code" href="structDBusMessage.html">DBusMessage</a> *message_cache[<a class="code" href="group__DBusMessageInternals.html#gaeab2038ce58cd314dc1f23103abec5b0">MAX_MESSAGE_CACHE_SIZE</a>];</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> message_cache_count = 0;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> message_cache_shutdown_registered = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;dbus_message_cache_shutdown (<span class="keywordtype">void</span> *data)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;{</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusInternalsUtils.html#ga3b56fdb9df58277ee69d9f56a73bf383">_DBUS_LOCK</a> (message_cache))</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a> (<span class="stringliteral">&quot;we would have initialized global locks &quot;</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="stringliteral">&quot;before registering a shutdown function&quot;</span>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  i = 0;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">while</span> (i &lt; <a class="code" href="group__DBusMessageInternals.html#gaeab2038ce58cd314dc1f23103abec5b0">MAX_MESSAGE_CACHE_SIZE</a>)</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">if</span> (message_cache[i])</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        dbus_message_finalize (message_cache[i]);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      ++i;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  message_cache_count = 0;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  message_cache_shutdown_registered = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga1b7db80a2ea11235768ec8aa698df0a5">_DBUS_UNLOCK</a> (message_cache);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="keyword">static</span> <a class="code" href="structDBusMessage.html">DBusMessage</a>*</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;dbus_message_get_cached (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;{</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  message = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusInternalsUtils.html#ga3b56fdb9df58277ee69d9f56a73bf383">_DBUS_LOCK</a> (message_cache))</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="comment">/* we&#39;d have initialized global locks before caching anything,</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">       * so there can&#39;t be anything in the cache */</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message_cache_count &gt;= 0);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">if</span> (message_cache_count == 0)</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga1b7db80a2ea11235768ec8aa698df0a5">_DBUS_UNLOCK</a> (message_cache);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="comment">/* This is not necessarily true unless count &gt; 0, and</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">   * message_cache is uninitialized until the shutdown is</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">   * registered</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message_cache_shutdown_registered);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  i = 0;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">while</span> (i &lt; <a class="code" href="group__DBusMessageInternals.html#gaeab2038ce58cd314dc1f23103abec5b0">MAX_MESSAGE_CACHE_SIZE</a>)</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">if</span> (message_cache[i])</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;          message = message_cache[i];</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;          message_cache[i] = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;          message_cache_count -= 1;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      ++i;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message_cache_count &gt;= 0);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (i &lt; <a class="code" href="group__DBusMessageInternals.html#gaeab2038ce58cd314dc1f23103abec5b0">MAX_MESSAGE_CACHE_SIZE</a>);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusSysdeps.html#ga626c810359ba0e362367ce2ec6691aca">_dbus_atomic_get</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a324c5377e0be18dd84ac519ab2d23f0d">refcount</a>) == 0);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message-&gt;<a class="code" href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">counters</a> == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  </div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga1b7db80a2ea11235768ec8aa698df0a5">_DBUS_UNLOCK</a> (message_cache);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;}</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;close_unix_fds(<span class="keywordtype">int</span> *fds, <span class="keywordtype">unsigned</span> *n_fds)</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;{</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <a class="code" href="structDBusError.html">DBusError</a> e;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">if</span> (*n_fds &lt;= 0)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <a class="code" href="group__DBusErrors.html#ga8937f0b7cdf8554fa6305158ce453fbe">dbus_error_init</a>(&amp;e);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; *n_fds; i++)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusSysdepsUnix.html#gac448479a1674e3b86cee9a4bdc7eba03">_dbus_close</a>(fds[i], &amp;e))</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#gabea2c16d6d3fe7c4eb5b9496fc877f84">_dbus_warn</a>(<span class="stringliteral">&quot;Failed to close file descriptor: %s\n&quot;</span>, e.<a class="code" href="structDBusError.html#afb559175326de5b6b340e26204e92d72">message</a>);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;          <a class="code" href="group__DBusErrors.html#gaac6c14ead14829ee4e090f39de6a7568">dbus_error_free</a>(&amp;e);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  *n_fds = 0;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="comment">/* We don&#39;t free the array here, in case we can recycle it later */</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;free_counter (<span class="keywordtype">void</span> *element,</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;              <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="structDBusCounter.html">DBusCounter</a> *counter = element;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *message = data;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <a class="code" href="group__DBusResources.html#gae37410c196947675c2a222a7979e9dee">_dbus_counter_adjust_size</a> (counter, - message-&gt;<a class="code" href="structDBusMessage.html#ab8f43d40fa870f97f1126256568cec61">size_counter_delta</a>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <a class="code" href="group__DBusResources.html#ga7d9411d27b337289ab5648beb148cde6">_dbus_counter_adjust_unix_fd</a> (counter, - message-&gt;unix_fd_counter_delta);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <a class="code" href="group__DBusResources.html#gab8c0e970e0c3b4696ba06723639d8239">_dbus_counter_notify</a> (counter);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <a class="code" href="group__DBusResources.html#ga48d9b53d1a395ab3c4f1846ca569ef3f">_dbus_counter_unref</a> (counter);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;}</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;dbus_message_cache_or_finalize (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;{</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> was_cached;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusSysdeps.html#ga626c810359ba0e362367ce2ec6691aca">_dbus_atomic_get</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a324c5377e0be18dd84ac519ab2d23f0d">refcount</a>) == 0);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">/* This calls application code and has to be done first thing</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">   * without holding the lock</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <a class="code" href="group__DBusDataSlot.html#ga3c96d2ca263ba397b4da2956a49ae282">_dbus_data_slot_list_clear</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a179c446523c6321e04f88a671363be19">slot_list</a>);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <a class="code" href="group__DBusList.html#ga8dd69084b53361803a765e6d53d5b9d1">_dbus_list_foreach</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">counters</a>,</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                      free_counter, message);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <a class="code" href="group__DBusList.html#gaa36d13444a050a923941c53650b72f9d">_dbus_list_clear</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">counters</a>);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  close_unix_fds(message-&gt;unix_fds, &amp;message-&gt;n_unix_fds);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  was_cached = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusInternalsUtils.html#ga3b56fdb9df58277ee69d9f56a73bf383">_DBUS_LOCK</a> (message_cache))</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="comment">/* The only way to get a non-null message goes through</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">       * dbus_message_get_cached() which takes the lock. */</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a> (<span class="stringliteral">&quot;we would have initialized global locks &quot;</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;          <span class="stringliteral">&quot;the first time we constructed a message&quot;</span>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordflow">if</span> (!message_cache_shutdown_registered)</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message_cache_count == 0);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMemoryInternals.html#ga8dc6d5dd0a0e7901ab793da7403ee734">_dbus_register_shutdown_func</a> (dbus_message_cache_shutdown, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      i = 0;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="keywordflow">while</span> (i &lt; <a class="code" href="group__DBusMessageInternals.html#gaeab2038ce58cd314dc1f23103abec5b0">MAX_MESSAGE_CACHE_SIZE</a>)</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          message_cache[i] = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          ++i;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        }</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      message_cache_shutdown_registered = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message_cache_count &gt;= 0);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">if</span> (!_dbus_enable_message_cache ())</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordflow">if</span> ((_dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>.<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>) +</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;       _dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>)) &gt;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <a class="code" href="group__DBusMessageInternals.html#ga2c5c6aef45dd0b5cc10c800f986a7ce7">MAX_MESSAGE_SIZE_TO_CACHE</a>)</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">if</span> (message_cache_count &gt;= <a class="code" href="group__DBusMessageInternals.html#gaeab2038ce58cd314dc1f23103abec5b0">MAX_MESSAGE_CACHE_SIZE</a>)</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="comment">/* Find empty slot */</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  i = 0;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">while</span> (message_cache[i] != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    ++i;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (i &lt; <a class="code" href="group__DBusMessageInternals.html#gaeab2038ce58cd314dc1f23103abec5b0">MAX_MESSAGE_CACHE_SIZE</a>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message_cache[i] == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  message_cache[i] = <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  message_cache_count += 1;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  was_cached = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  message-&gt;<a class="code" href="structDBusMessage.html#ac71fa5534264093e6af8bc41f15237c8">in_cache</a> = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; out:</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusSysdeps.html#ga626c810359ba0e362367ce2ec6691aca">_dbus_atomic_get</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a324c5377e0be18dd84ac519ab2d23f0d">refcount</a>) == 0);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga1b7db80a2ea11235768ec8aa698df0a5">_DBUS_UNLOCK</a> (message_cache);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  </div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">if</span> (!was_cached)</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    dbus_message_finalize (message);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;}</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">#if defined(DBUS_ENABLE_CHECKS) || defined(DBUS_ENABLE_ASSERT)</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;_dbus_message_iter_check (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *iter)</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;{</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordtype">char</span> byte_order;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordflow">if</span> (iter == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga63f2f8a068454b781f214ba596e313b4">_dbus_warn_check_failed</a> (<span class="stringliteral">&quot;dbus message iterator is NULL\n&quot;</span>);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  byte_order = <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (&amp;iter-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_READER)</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>.<a class="code" href="structDBusTypeReader.html#aeb0846d954066f420e1df98b81148702">byte_order</a> != byte_order)</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#ga63f2f8a068454b781f214ba596e313b4">_dbus_warn_check_failed</a> (<span class="stringliteral">&quot;dbus message changed byte order since iterator was created\n&quot;</span>);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="comment">/* because we swap the message into compiler order when you init an iter */</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (iter-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>.<a class="code" href="structDBusTypeReader.html#aeb0846d954066f420e1df98b81148702">byte_order</a> == DBUS_COMPILER_BYTE_ORDER);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER)</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>.<a class="code" href="structDBusTypeWriter.html#a6c4baf0b7148cf3f76924b654dada148">byte_order</a> != byte_order)</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#ga63f2f8a068454b781f214ba596e313b4">_dbus_warn_check_failed</a> (<span class="stringliteral">&quot;dbus message changed byte order since append iterator was created\n&quot;</span>);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        }</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="comment">/* because we swap the message into compiler order when you init an iter */</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (iter-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>.<a class="code" href="structDBusTypeWriter.html#a6c4baf0b7148cf3f76924b654dada148">byte_order</a> == DBUS_COMPILER_BYTE_ORDER);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga63f2f8a068454b781f214ba596e313b4">_dbus_warn_check_failed</a> (<span class="stringliteral">&quot;dbus message iterator looks uninitialized or corrupted\n&quot;</span>);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structDBusMessageRealIter.html#ac10324f74497a5c2288eef8fbcd3ae42">changed_stamp</a> != iter-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;<a class="code" href="structDBusMessage.html#a5d102e908f6ff96a5a0aa6a39b4963a8">changed_stamp</a>)</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga63f2f8a068454b781f214ba596e313b4">_dbus_warn_check_failed</a> (<span class="stringliteral">&quot;dbus message iterator invalid because the message has been modified (or perhaps the iterator is just uninitialized)\n&quot;</span>);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    }</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;}</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DBUS_ENABLE_CHECKS || DBUS_ENABLE_ASSERT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga1ae02a435d19c3363e11c74b08c43ab2">  796</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga1ae02a435d19c3363e11c74b08c43ab2">_dbus_message_iter_get_args_valist</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter,</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                                    <a class="code" href="structDBusError.html">DBusError</a>       *error,</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                    <span class="keywordtype">int</span>              first_arg_type,</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                    va_list          var_args)</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;{</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordtype">int</span> spec_type, msg_type, i, j;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> retval;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  va_list copy_args;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_message_iter_check (real));</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  retval = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  spec_type = first_arg_type;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  i = 0;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">/* copy var_args first, then we can do another iteration over it to</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">   * free memory and close unix fds if parse failed at some point.</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  DBUS_VA_COPY (copy_args, var_args);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keywordflow">while</span> (spec_type != <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>)</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      msg_type = <a class="code" href="group__DBusMessage.html#ga5aae3c882a75aed953d8b3d489e9b271">dbus_message_iter_get_arg_type</a> (iter);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="keywordflow">if</span> (msg_type != spec_type)</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;          <a class="code" href="group__DBusErrors.html#ga89d2ad4bde21f9e0057fac07a79885e3">dbus_set_error</a> (error, <a class="code" href="group__DBusProtocol.html#gacf5321b161193ad66d5bdf5c910a9792">DBUS_ERROR_INVALID_ARGS</a>,</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                          <span class="stringliteral">&quot;Argument %d is specified to be of type \&quot;%s\&quot;, but &quot;</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                          <span class="stringliteral">&quot;is actually of type \&quot;%s\&quot;\n&quot;</span>, i,</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                          <a class="code" href="group__DBusMarshal.html#ga48a595c2b26dce6e9c25ce040e5247e5">_dbus_type_to_string</a> (spec_type),</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                          <a class="code" href="group__DBusMarshal.html#ga48a595c2b26dce6e9c25ce040e5247e5">_dbus_type_to_string</a> (msg_type));</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;          <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <span class="keywordflow">if</span> (spec_type == <a class="code" href="group__DBusProtocol.html#ga59f8acaeb207b182982dfb97174b7f16">DBUS_TYPE_UNIX_FD</a>)</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;          <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a> idx;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;          <span class="keywordtype">int</span> *pfd, nfd;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;          pfd = va_arg (var_args, <span class="keywordtype">int</span>*);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a>(pfd);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;          <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a>(&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>, &amp;idx);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;          <span class="keywordflow">if</span> (idx.<a class="code" href="unionDBusBasicValue.html#a2501e54560ae240442d9d841b96b086b">u32</a> &gt;= real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;n_unix_fds)</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            {</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;              <a class="code" href="group__DBusErrors.html#ga89d2ad4bde21f9e0057fac07a79885e3">dbus_set_error</a> (error, <a class="code" href="group__DBusProtocol.html#ga2a23b986cd4cef832b8823b6b0d1bcb1">DBUS_ERROR_INCONSISTENT_MESSAGE</a>,</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                              <span class="stringliteral">&quot;Message refers to file descriptor at index %i,&quot;</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                              <span class="stringliteral">&quot;but has only %i descriptors attached.\n&quot;</span>,</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                              idx.<a class="code" href="unionDBusBasicValue.html#a2501e54560ae240442d9d841b96b086b">u32</a>,</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                              real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;n_unix_fds);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;              <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            }</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;          <span class="keywordflow">if</span> ((nfd = <a class="code" href="group__DBusSysdepsUnix.html#gad79d20e59fb519233004208988851cf1">_dbus_dup</a>(real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;unix_fds[idx.<a class="code" href="unionDBusBasicValue.html#a2501e54560ae240442d9d841b96b086b">u32</a>], error)) &lt; 0)</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;          *pfd = nfd;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;          <a class="code" href="group__DBusErrors.html#ga89d2ad4bde21f9e0057fac07a79885e3">dbus_set_error</a> (error, <a class="code" href="group__DBusProtocol.html#ga33122bcaf8f5896ec222c755b6effb40">DBUS_ERROR_NOT_SUPPORTED</a>,</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                          <span class="stringliteral">&quot;Platform does not support file desciptor passing.\n&quot;</span>);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;          <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        }</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__DBusSignature.html#ga2d8afef7d754cf15d6b9733f00654c0e">dbus_type_is_basic</a> (spec_type))</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;          <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a> *ptr;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;          ptr = va_arg (var_args, <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a>*);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (ptr != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;          <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>,</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                                        ptr);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spec_type == <a class="code" href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a>)</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;          <span class="keywordtype">int</span> element_type;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;          <span class="keywordtype">int</span> spec_element_type;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;          <span class="keyword">const</span> <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a> **ptr;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;          <span class="keywordtype">int</span> *n_elements_p;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;          <a class="code" href="structDBusTypeReader.html">DBusTypeReader</a> array;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;          spec_element_type = va_arg (var_args, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;          element_type = <a class="code" href="group__DBusMarshal.html#ga6e5439f7ca5ee8a1ce943ddab7611d0d">_dbus_type_reader_get_element_type</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;          <span class="keywordflow">if</span> (spec_element_type != element_type)</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;              <a class="code" href="group__DBusErrors.html#ga89d2ad4bde21f9e0057fac07a79885e3">dbus_set_error</a> (error, <a class="code" href="group__DBusProtocol.html#gacf5321b161193ad66d5bdf5c910a9792">DBUS_ERROR_INVALID_ARGS</a>,</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                              <span class="stringliteral">&quot;Argument %d is specified to be an array of \&quot;%s\&quot;, but &quot;</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                              <span class="stringliteral">&quot;is actually an array of \&quot;%s\&quot;\n&quot;</span>,</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                              i,</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                              <a class="code" href="group__DBusMarshal.html#ga48a595c2b26dce6e9c25ce040e5247e5">_dbus_type_to_string</a> (spec_element_type),</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                              <a class="code" href="group__DBusMarshal.html#ga48a595c2b26dce6e9c25ce040e5247e5">_dbus_type_to_string</a> (element_type));</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;              <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            }</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="group__DBusSignature.html#ga2f89962cbd33e4ad843824157bae2093">dbus_type_is_fixed</a> (spec_element_type) &amp;&amp;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;              element_type != <a class="code" href="group__DBusProtocol.html#ga59f8acaeb207b182982dfb97174b7f16">DBUS_TYPE_UNIX_FD</a>)</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;              ptr = va_arg (var_args, <span class="keyword">const</span> <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a>**);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;              n_elements_p = va_arg (var_args, <span class="keywordtype">int</span>*);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;              <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (ptr != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;              <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (n_elements_p != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;              <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>, &amp;array);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;              <a class="code" href="group__DBusMarshal.html#gae9a65c05e58ace9c83352f65af2fe745">_dbus_type_reader_read_fixed_multi</a> (&amp;array,</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                                                  (<span class="keywordtype">void</span> *) ptr, n_elements_p);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_DBUS_TYPE_IS_STRINGLIKE (spec_element_type))</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            {</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;              <span class="keywordtype">char</span> ***str_array_p;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;              <span class="keywordtype">int</span> n_elements;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;              <span class="keywordtype">char</span> **str_array;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;              str_array_p = va_arg (var_args, <span class="keywordtype">char</span>***);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;              n_elements_p = va_arg (var_args, <span class="keywordtype">int</span>*);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;              <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (str_array_p != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;              <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (n_elements_p != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;              <span class="comment">/* Count elements in the array */</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;              <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>, &amp;array);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;              n_elements = 0;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;              <span class="keywordflow">while</span> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;array) != <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>)</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                {</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                  ++n_elements;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                  <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;array);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;              str_array = <a class="code" href="group__DBusMemory.html#gaba9d823abda7f4cadbaf5177d3b8b793">dbus_new0</a> (<span class="keywordtype">char</span>*, n_elements + 1);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;              <span class="keywordflow">if</span> (str_array == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                  _DBUS_SET_OOM (error);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                  <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;              <span class="comment">/* Now go through and dup each string */</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;              <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>, &amp;array);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;              j = 0;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;              <span class="keywordflow">while</span> (j &lt; n_elements)</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">char</span> *s;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                  <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;array,</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                                                (<span class="keywordtype">void</span> *) &amp;s);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                  </div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                  str_array[j] = <a class="code" href="group__DBusInternalsUtils.html#ga9d00d77f6595b9d7ac1baf59d44bf58c">_dbus_strdup</a> (s);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                  <span class="keywordflow">if</span> (str_array[j] == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                    {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                      <a class="code" href="group__DBusMemory.html#gac200b2dbc8b3f6ecac4d42426fb97b40">dbus_free_string_array</a> (str_array);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                      _DBUS_SET_OOM (error);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                      <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                    }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                  </div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                  ++j;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                  </div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;array))</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                    <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (j == n_elements);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                }</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;              <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;array) == <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;              <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (j == n_elements);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;              <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (str_array[j] == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;              *str_array_p = str_array;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;              *n_elements_p = n_elements;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            {</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;              <a class="code" href="group__DBusInternalsUtils.html#gabea2c16d6d3fe7c4eb5b9496fc877f84">_dbus_warn</a> (<span class="stringliteral">&quot;you can&#39;t read arrays of container types (struct, variant, array) with %s for now\n&quot;</span>,</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                          _DBUS_FUNCTION_NAME);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;              <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            }</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#gabea2c16d6d3fe7c4eb5b9496fc877f84">_dbus_warn</a> (<span class="stringliteral">&quot;you can only read arrays and basic types with %s for now\n&quot;</span>,</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                      _DBUS_FUNCTION_NAME);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;          <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        }</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <span class="comment">/* how many arguments already handled */</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      i++;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      spec_type = va_arg (var_args, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>) &amp;&amp; spec_type != <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>)</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        {</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;          <a class="code" href="group__DBusErrors.html#ga89d2ad4bde21f9e0057fac07a79885e3">dbus_set_error</a> (error, <a class="code" href="group__DBusProtocol.html#gacf5321b161193ad66d5bdf5c910a9792">DBUS_ERROR_INVALID_ARGS</a>,</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                          <span class="stringliteral">&quot;Message has only %d arguments, but more were expected&quot;</span>, i);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;          <span class="keywordflow">goto</span> out;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    }</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  retval = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; out:</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="comment">/* there may memory or unix fd leak in the above iteration if parse failed.</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment">   * so we have another iteration over copy_args to free memory and close</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">   * unix fds.</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keywordflow">if</span> (!retval)</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      spec_type = first_arg_type;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      j = 0;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="keywordflow">while</span> (j &lt; i)</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;          <span class="keywordflow">if</span> (spec_type == <a class="code" href="group__DBusProtocol.html#ga59f8acaeb207b182982dfb97174b7f16">DBUS_TYPE_UNIX_FD</a>)</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;              <span class="keywordtype">int</span> *pfd;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;              pfd = va_arg (copy_args, <span class="keywordtype">int</span> *);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;              <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a>(pfd);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;              <span class="keywordflow">if</span> (*pfd &gt;= 0)</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                  <a class="code" href="group__DBusSysdepsUnix.html#gac448479a1674e3b86cee9a4bdc7eba03">_dbus_close</a> (*pfd, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                  *pfd = -1;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                }</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__DBusSignature.html#ga2d8afef7d754cf15d6b9733f00654c0e">dbus_type_is_basic</a> (spec_type))</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;              <span class="comment">/* move the index forward */</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;              va_arg (copy_args, <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a> *);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spec_type == <a class="code" href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a>)</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;              <span class="keywordtype">int</span> spec_element_type;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;              spec_element_type = va_arg (copy_args, <span class="keywordtype">int</span>);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="group__DBusSignature.html#ga2f89962cbd33e4ad843824157bae2093">dbus_type_is_fixed</a> (spec_element_type))</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                  <span class="comment">/* move the index forward */</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                  va_arg (copy_args, <span class="keyword">const</span> <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a> **);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                  va_arg (copy_args, <span class="keywordtype">int</span> *);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_DBUS_TYPE_IS_STRINGLIKE (spec_element_type))</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                  <span class="keywordtype">char</span> ***str_array_p;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                  str_array_p = va_arg (copy_args, <span class="keywordtype">char</span> ***);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                  <span class="comment">/* move the index forward */</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                  va_arg (copy_args, <span class="keywordtype">int</span> *);</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (str_array_p != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                  <a class="code" href="group__DBusMemory.html#gac200b2dbc8b3f6ecac4d42426fb97b40">dbus_free_string_array</a> (*str_array_p);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                  *str_array_p = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            }</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;          spec_type = va_arg (copy_args, <span class="keywordtype">int</span>);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;          j++;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    }</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  va_end (copy_args);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a></div><div class="line"><a name="l01127"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga390710c25564c80025a006c376da2030"> 1127</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga390710c25564c80025a006c376da2030">dbus_message_get_serial</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;{</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga7ec7222423db42935aae4a24499ee0fb">_dbus_header_get_serial</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;}</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l01143"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaec08603ff3d49bbcded67d25188a23f1"> 1143</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaec08603ff3d49bbcded67d25188a23f1">dbus_message_set_reply_serial</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>   *message,</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                               <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a>  reply_serial)</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;{</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  _dbus_return_val_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  _dbus_return_val_if_fail (reply_serial != 0, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>); <span class="comment">/* 0 is invalid */</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga4349de00b7754a337526e36fda133464">_dbus_header_set_field_basic</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                                       <a class="code" href="group__DBusProtocol.html#ga1067e28a7151a161e5fd601a3b017584">DBUS_HEADER_FIELD_REPLY_SERIAL</a>,</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                                       <a class="code" href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a>,</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                                       &amp;reply_serial);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a></div><div class="line"><a name="l01163"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga94c43b2b237d842a6b91da6f94818d47"> 1163</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga94c43b2b237d842a6b91da6f94818d47">dbus_message_get_reply_serial</a>  (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;{</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> v_UINT32;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                                    <a class="code" href="group__DBusProtocol.html#ga1067e28a7151a161e5fd601a3b017584">DBUS_HEADER_FIELD_REPLY_SERIAL</a>,</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                                    <a class="code" href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a>,</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                                    &amp;v_UINT32))</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span> v_UINT32;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;}</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;dbus_message_finalize (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;{</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusSysdeps.html#ga626c810359ba0e362367ce2ec6691aca">_dbus_atomic_get</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a324c5377e0be18dd84ac519ab2d23f0d">refcount</a>) == 0);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="comment">/* This calls application callbacks! */</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <a class="code" href="group__DBusDataSlot.html#gabc399733376c462c3010271a2d431e73">_dbus_data_slot_list_free</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a179c446523c6321e04f88a671363be19">slot_list</a>);</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <a class="code" href="group__DBusList.html#ga8dd69084b53361803a765e6d53d5b9d1">_dbus_list_foreach</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">counters</a>,</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                      free_counter, message);</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <a class="code" href="group__DBusList.html#gaa36d13444a050a923941c53650b72f9d">_dbus_list_clear</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">counters</a>);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <a class="code" href="group__DBusMarshal.html#gab90a814a27aeeace7e02c4ed130539cf">_dbus_header_free</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  close_unix_fds(message-&gt;unix_fds, &amp;message-&gt;n_unix_fds);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a>(message-&gt;unix_fds);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusSysdeps.html#ga626c810359ba0e362367ce2ec6691aca">_dbus_atomic_get</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a324c5377e0be18dd84ac519ab2d23f0d">refcount</a>) == 0);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (message);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="keyword">static</span> <a class="code" href="structDBusMessage.html">DBusMessage</a>*</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;dbus_message_new_empty_header (<span class="keywordtype">void</span>)</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;{</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> from_cache;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  message = dbus_message_get_cached ();</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="keywordflow">if</span> (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      from_cache = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    }</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    {</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      from_cache = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      message = <a class="code" href="group__DBusMemory.html#gaba9d823abda7f4cadbaf5177d3b8b793">dbus_new0</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>, 1);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="keywordflow">if</span> (message == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      message-&gt;<a class="code" href="structDBusMessage.html#a96263aa8a777c8c661d2596911c7d592">generation</a> = <a class="code" href="group__DBusMemoryInternals.html#ga7c224d82013e2bdc181c1d85dcb6f295">_dbus_current_generation</a>;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      message-&gt;unix_fds = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      message-&gt;n_unix_fds_allocated = 0;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <a class="code" href="group__DBusSysdeps.html#gae74c3fcf12acaeccdb152ef907de951c">_dbus_atomic_inc</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a324c5377e0be18dd84ac519ab2d23f0d">refcount</a>);</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  _dbus_message_trace_ref (message, 0, 1, <span class="stringliteral">&quot;new_empty_header&quot;</span>);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a> = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  message-&gt;<a class="code" href="structDBusMessage.html#ac71fa5534264093e6af8bc41f15237c8">in_cache</a> = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  message-&gt;<a class="code" href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">counters</a> = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  message-&gt;<a class="code" href="structDBusMessage.html#ab8f43d40fa870f97f1126256568cec61">size_counter_delta</a> = 0;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  message-&gt;<a class="code" href="structDBusMessage.html#a5d102e908f6ff96a5a0aa6a39b4963a8">changed_stamp</a> = 0;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  message-&gt;n_unix_fds = 0;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  message-&gt;n_unix_fds_allocated = 0;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  message-&gt;unix_fd_counter_delta = 0;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="keywordflow">if</span> (!from_cache)</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="group__DBusDataSlot.html#ga6de49b3a1210202215d40a5a19806992">_dbus_data_slot_list_init</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a179c446523c6321e04f88a671363be19">slot_list</a>);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">if</span> (from_cache)</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    {</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga6d41ad4de211c87f4b8a43340b6893e2">_dbus_header_reinit</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <a class="code" href="group__DBusString.html#ga08c423b93c28dd746dcb93e0461ab95c">_dbus_string_set_length</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>, 0);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    }</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    {</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gabe1b78193d712976734a39d35842f033">_dbus_header_init</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>))</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;          <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (message);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        }</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga569b784beea1b4fa98f05d27e6dd0e72">_dbus_string_init_preallocated</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>, 32))</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        {</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;          <a class="code" href="group__DBusMarshal.html#gab90a814a27aeeace7e02c4ed130539cf">_dbus_header_free</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>);</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;          <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (message);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        }</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a>*</div><div class="line"><a name="l01289"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gab9e5bf8d87a95c5ca7026a791148ebd4"> 1289</a></span>&#160;<a class="code" href="group__DBusMessage.html#gab9e5bf8d87a95c5ca7026a791148ebd4">dbus_message_new</a> (<span class="keywordtype">int</span> message_type)</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;{</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  _dbus_return_val_if_fail (message_type != <a class="code" href="group__DBusProtocol.html#gac975525a6ce258a7a70c583c9741b516">DBUS_MESSAGE_TYPE_INVALID</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  message = dbus_message_new_empty_header ();</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordflow">if</span> (message == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gac7901e4196f10d4763df89b42d5db03e">_dbus_header_create</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                            DBUS_COMPILER_BYTE_ORDER,</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                            message_type,</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                            <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    {</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a> (message);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    }</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;}</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a>*</div><div class="line"><a name="l01333"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga98ddc82450d818138ef326a284201ee0"> 1333</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga98ddc82450d818138ef326a284201ee0">dbus_message_new_method_call</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *destination,</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">char</span> *path,</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">char</span> *iface,</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">char</span> *method)</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;{</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  _dbus_return_val_if_fail (path != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  _dbus_return_val_if_fail (method != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  _dbus_return_val_if_fail (destination == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                            _dbus_check_is_valid_bus_name (destination), <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  _dbus_return_val_if_fail (_dbus_check_is_valid_path (path), <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  _dbus_return_val_if_fail (iface == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                            _dbus_check_is_valid_interface (iface), <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  _dbus_return_val_if_fail (_dbus_check_is_valid_member (method), <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  message = dbus_message_new_empty_header ();</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">if</span> (message == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gac7901e4196f10d4763df89b42d5db03e">_dbus_header_create</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                            DBUS_COMPILER_BYTE_ORDER,</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                            <a class="code" href="group__DBusProtocol.html#ga09416afd76b65139eddd31e1085d9ebf">DBUS_MESSAGE_TYPE_METHOD_CALL</a>,</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                            destination, path, iface, method, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a> (message);</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;}</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a>*</div><div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga95142bd8288f397194ee0eefb1d27125"> 1373</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga95142bd8288f397194ee0eefb1d27125">dbus_message_new_method_return</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *method_call)</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;{</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *sender;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  _dbus_return_val_if_fail (method_call != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  sender = <a class="code" href="group__DBusMessage.html#ga13ce514ceb2d1598751f3a7760cf1375">dbus_message_get_sender</a> (method_call);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="comment">/* sender is allowed to be null here in peer-to-peer case */</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  message = dbus_message_new_empty_header ();</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="keywordflow">if</span> (message == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gac7901e4196f10d4763df89b42d5db03e">_dbus_header_create</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                            DBUS_COMPILER_BYTE_ORDER,</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                            <a class="code" href="group__DBusProtocol.html#ga4a9012edd7f22342f845e98150aeb858">DBUS_MESSAGE_TYPE_METHOD_RETURN</a>,</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                            sender, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    {</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a> (message);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <a class="code" href="group__DBusMessage.html#ga0e86aeb2dc6831ccc9a21fcbf8cc16f7">dbus_message_set_no_reply</a> (message, <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMessage.html#gaec08603ff3d49bbcded67d25188a23f1">dbus_message_set_reply_serial</a> (message,</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                                      <a class="code" href="group__DBusMessage.html#ga390710c25564c80025a006c376da2030">dbus_message_get_serial</a> (method_call)))</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    {</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a> (message);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    }</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;}</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a>*</div><div class="line"><a name="l01424"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga6ce3213dfb17be7956affba40207a5a0"> 1424</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga6ce3213dfb17be7956affba40207a5a0">dbus_message_new_signal</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *path,</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span> *iface,</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;{</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  _dbus_return_val_if_fail (path != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  _dbus_return_val_if_fail (iface != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  _dbus_return_val_if_fail (name != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  _dbus_return_val_if_fail (_dbus_check_is_valid_path (path), <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  _dbus_return_val_if_fail (_dbus_check_is_valid_interface (iface), <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  _dbus_return_val_if_fail (_dbus_check_is_valid_member (name), <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  message = dbus_message_new_empty_header ();</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <span class="keywordflow">if</span> (message == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gac7901e4196f10d4763df89b42d5db03e">_dbus_header_create</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                            DBUS_COMPILER_BYTE_ORDER,</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                            <a class="code" href="group__DBusProtocol.html#ga728d893ff0c00e126517ba39835220a5">DBUS_MESSAGE_TYPE_SIGNAL</a>,</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                            <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, path, iface, name, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    {</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a> (message);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    }</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <a class="code" href="group__DBusMessage.html#ga0e86aeb2dc6831ccc9a21fcbf8cc16f7">dbus_message_set_no_reply</a> (message, <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;}</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a>*</div><div class="line"><a name="l01470"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga2ab896965aec97fb21293affeed36232"> 1470</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga2ab896965aec97fb21293affeed36232">dbus_message_new_error</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *reply_to,</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span>  *error_name,</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span>  *error_message)</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;{</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *sender;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> iter;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  _dbus_return_val_if_fail (reply_to != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  _dbus_return_val_if_fail (error_name != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  _dbus_return_val_if_fail (_dbus_check_is_valid_error_name (error_name), <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  sender = <a class="code" href="group__DBusMessage.html#ga13ce514ceb2d1598751f3a7760cf1375">dbus_message_get_sender</a> (reply_to);</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="comment">/* sender may be NULL for non-message-bus case or</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="comment">   * when the message bus is dealing with an unregistered</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment">   * connection.</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  message = dbus_message_new_empty_header ();</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="keywordflow">if</span> (message == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gac7901e4196f10d4763df89b42d5db03e">_dbus_header_create</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                            DBUS_COMPILER_BYTE_ORDER,</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                            <a class="code" href="group__DBusProtocol.html#ga2b9423d95066313d73eeea8eeaf86812">DBUS_MESSAGE_TYPE_ERROR</a>,</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                            sender, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, error_name))</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    {</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      <a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a> (message);</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    }</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <a class="code" href="group__DBusMessage.html#ga0e86aeb2dc6831ccc9a21fcbf8cc16f7">dbus_message_set_no_reply</a> (message, <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMessage.html#gaec08603ff3d49bbcded67d25188a23f1">dbus_message_set_reply_serial</a> (message,</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                                      <a class="code" href="group__DBusMessage.html#ga390710c25564c80025a006c376da2030">dbus_message_get_serial</a> (reply_to)))</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    {</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a> (message);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    }</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">if</span> (error_message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    {</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <a class="code" href="group__DBusMessage.html#gaf733047c467ce21f4a53b65a388f1e9d">dbus_message_iter_init_append</a> (message, &amp;iter);</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMessage.html#ga17491f3b75b3203f6fc47dcc2e3b221b">dbus_message_iter_append_basic</a> (&amp;iter,</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                                           <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                                           &amp;error_message))</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        {</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;          <a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a> (message);</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        }</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    }</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;}</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a>*</div><div class="line"><a name="l01542"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga707a27881820f964e3606bc906a47978"> 1542</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga707a27881820f964e3606bc906a47978">dbus_message_new_error_printf</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *reply_to,</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                               <span class="keyword">const</span> <span class="keywordtype">char</span>  *error_name,</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                               <span class="keyword">const</span> <span class="keywordtype">char</span>  *error_format,</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                               ...)</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;{</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  va_list args;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <a class="code" href="structDBusString.html">DBusString</a> str;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  _dbus_return_val_if_fail (reply_to != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  _dbus_return_val_if_fail (error_name != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  _dbus_return_val_if_fail (_dbus_check_is_valid_error_name (error_name), <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga348252317f7bb8ac43529972945830ae">_dbus_string_init</a> (&amp;str))</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  va_start (args, error_format);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__DBusString.html#ga8d794f292831d1a7edeb971b13a2c641">_dbus_string_append_printf_valist</a> (&amp;str, error_format, args))</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    message = <a class="code" href="group__DBusMessage.html#ga2ab896965aec97fb21293affeed36232">dbus_message_new_error</a> (reply_to, error_name,</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                      _dbus_string_get_const_data (&amp;str));</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    message = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (&amp;str);</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  va_end (args);</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;}</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a> *</div><div class="line"><a name="l01587"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga4bed3858b3b48ec7c86d9fc56a6ce372"> 1587</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga4bed3858b3b48ec7c86d9fc56a6ce372">dbus_message_copy</a> (<span class="keyword">const</span> <a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;{</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *retval;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  retval = <a class="code" href="group__DBusMemory.html#gaba9d823abda7f4cadbaf5177d3b8b793">dbus_new0</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>, 1);</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="keywordflow">if</span> (retval == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <a class="code" href="group__DBusSysdeps.html#gae74c3fcf12acaeccdb152ef907de951c">_dbus_atomic_inc</a> (&amp;retval-&gt;<a class="code" href="structDBusMessage.html#a324c5377e0be18dd84ac519ab2d23f0d">refcount</a>);</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  retval-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a> = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  retval-&gt;<a class="code" href="structDBusMessage.html#a96263aa8a777c8c661d2596911c7d592">generation</a> = message-&gt;<a class="code" href="structDBusMessage.html#a96263aa8a777c8c661d2596911c7d592">generation</a>;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga0d5aad82f8bf5a314dcf3f70930e254b">_dbus_header_copy</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>, &amp;retval-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>))</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    {</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (retval);</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    }</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga569b784beea1b4fa98f05d27e6dd0e72">_dbus_string_init_preallocated</a> (&amp;retval-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>,</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                                       _dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>)))</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      <a class="code" href="group__DBusMarshal.html#gab90a814a27aeeace7e02c4ed130539cf">_dbus_header_free</a> (&amp;retval-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>);</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (retval);</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    }</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga3c10f0d1bcaa3b450025b9c6a8b901d7">_dbus_string_copy</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>, 0,</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                          &amp;retval-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>, 0))</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">goto</span> failed_copy;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  retval-&gt;unix_fds = <a class="code" href="group__DBusMemory.html#ga54ccb556e7964112a825a7f46c156ca0">dbus_new</a>(<span class="keywordtype">int</span>, message-&gt;n_unix_fds);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="keywordflow">if</span> (retval-&gt;unix_fds == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; message-&gt;n_unix_fds &gt; 0)</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">goto</span> failed_copy;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  retval-&gt;n_unix_fds_allocated = message-&gt;n_unix_fds;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="keywordflow">for</span> (retval-&gt;n_unix_fds = 0;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;       retval-&gt;n_unix_fds &lt; message-&gt;n_unix_fds;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;       retval-&gt;n_unix_fds++)</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    {</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      retval-&gt;unix_fds[retval-&gt;n_unix_fds] = <a class="code" href="group__DBusSysdepsUnix.html#gad79d20e59fb519233004208988851cf1">_dbus_dup</a>(message-&gt;unix_fds[retval-&gt;n_unix_fds], <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <span class="keywordflow">if</span> (retval-&gt;unix_fds[retval-&gt;n_unix_fds] &lt; 0)</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <span class="keywordflow">goto</span> failed_copy;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    }</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  _dbus_message_trace_ref (retval, 0, 1, <span class="stringliteral">&quot;copy&quot;</span>);</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; failed_copy:</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <a class="code" href="group__DBusMarshal.html#gab90a814a27aeeace7e02c4ed130539cf">_dbus_header_free</a> (&amp;retval-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (&amp;retval-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>);</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  close_unix_fds(retval-&gt;unix_fds, &amp;retval-&gt;n_unix_fds);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a>(retval-&gt;unix_fds);</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (retval);</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;}</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a> *</div><div class="line"><a name="l01667"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga834035e4817acd64adc8ca584bdf3982"> 1667</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga834035e4817acd64adc8ca584bdf3982">dbus_message_ref</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;{</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <a class="code" href="group__DBusTypes.html#gab18afa60e9b17b6e322735bda3d863d8">dbus_int32_t</a> old_refcount;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  _dbus_return_val_if_fail (message-&gt;<a class="code" href="structDBusMessage.html#a96263aa8a777c8c661d2596911c7d592">generation</a> == <a class="code" href="group__DBusMemoryInternals.html#ga7c224d82013e2bdc181c1d85dcb6f295">_dbus_current_generation</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  _dbus_return_val_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac71fa5534264093e6af8bc41f15237c8">in_cache</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  old_refcount = <a class="code" href="group__DBusSysdeps.html#gae74c3fcf12acaeccdb152ef907de951c">_dbus_atomic_inc</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a324c5377e0be18dd84ac519ab2d23f0d">refcount</a>);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (old_refcount &gt;= 1);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  _dbus_message_trace_ref (message, old_refcount, old_refcount + 1, <span class="stringliteral">&quot;ref&quot;</span>);</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01690"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464"> 1690</a></span>&#160;<a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;{</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; <a class="code" href="group__DBusTypes.html#gab18afa60e9b17b6e322735bda3d863d8">dbus_int32_t</a> old_refcount;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  _dbus_return_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  _dbus_return_if_fail (message-&gt;<a class="code" href="structDBusMessage.html#a96263aa8a777c8c661d2596911c7d592">generation</a> == <a class="code" href="group__DBusMemoryInternals.html#ga7c224d82013e2bdc181c1d85dcb6f295">_dbus_current_generation</a>);</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  _dbus_return_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac71fa5534264093e6af8bc41f15237c8">in_cache</a>);</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  old_refcount = <a class="code" href="group__DBusSysdeps.html#ga3c50a069f795dceeb9172fe2b517bbdc">_dbus_atomic_dec</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a324c5377e0be18dd84ac519ab2d23f0d">refcount</a>);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (old_refcount &gt;= 1);</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  _dbus_message_trace_ref (message, old_refcount, old_refcount - 1, <span class="stringliteral">&quot;unref&quot;</span>);</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="keywordflow">if</span> (old_refcount == 1)</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    {</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="comment">/* Calls application callbacks! */</span></div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      dbus_message_cache_or_finalize (message);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    }</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;}</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l01722"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga41cace31999105137772b6257ea540f9"> 1722</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga41cace31999105137772b6257ea540f9">dbus_message_get_type</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;{</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusProtocol.html#gac975525a6ce258a7a70c583c9741b516">DBUS_MESSAGE_TYPE_INVALID</a>);</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga4427247494fc5c988498c5a87d42092d">_dbus_header_get_message_type</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;}</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l01792"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga591f3aab5dd2c87e56e05423c2a671d9"> 1792</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga591f3aab5dd2c87e56e05423c2a671d9">dbus_message_append_args</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                          <span class="keywordtype">int</span>          first_arg_type,</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                          ...)</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;{</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> retval;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  va_list var_args;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  va_start (var_args, first_arg_type);</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  retval = <a class="code" href="group__DBusMessage.html#ga106e541001d6b884d1c3cea6044693ab">dbus_message_append_args_valist</a> (message,</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                                            first_arg_type,</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                                            var_args);</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  va_end (var_args);</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;}</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l01824"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga106e541001d6b884d1c3cea6044693ab"> 1824</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga106e541001d6b884d1c3cea6044693ab">dbus_message_append_args_valist</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;                                 <span class="keywordtype">int</span>          first_arg_type,</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                                 va_list      var_args)</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;{</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <span class="keywordtype">int</span> type;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> iter;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  type = first_arg_type;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <a class="code" href="group__DBusMessage.html#gaf733047c467ce21f4a53b65a388f1e9d">dbus_message_iter_init_append</a> (message, &amp;iter);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  <span class="keywordflow">while</span> (type != <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>)</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    {</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DBusSignature.html#ga2d8afef7d754cf15d6b9733f00654c0e">dbus_type_is_basic</a> (type))</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        {</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;          <span class="keyword">const</span> <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a> *value;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;          value = va_arg (var_args, <span class="keyword">const</span> <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a>*);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMessage.html#ga17491f3b75b3203f6fc47dcc2e3b221b">dbus_message_iter_append_basic</a> (&amp;iter,</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                                               type,</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                                               value))</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        }</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a>)</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        {</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;          <span class="keywordtype">int</span> element_type;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;          <a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> array;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;          <span class="keywordtype">char</span> buf[2];</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;          element_type = va_arg (var_args, <span class="keywordtype">int</span>);</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;              </div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;          buf[0] = element_type;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;          buf[1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMessage.html#ga943150f4e87fd8507da224d22c266100">dbus_message_iter_open_container</a> (&amp;iter,</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                                                 <a class="code" href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a>,</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                                                 buf,</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                                                 &amp;array))</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;            <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="group__DBusSignature.html#ga2f89962cbd33e4ad843824157bae2093">dbus_type_is_fixed</a> (element_type) &amp;&amp;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;              element_type != <a class="code" href="group__DBusProtocol.html#ga59f8acaeb207b182982dfb97174b7f16">DBUS_TYPE_UNIX_FD</a>)</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            {</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;              <span class="keyword">const</span> <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a> **value;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;              <span class="keywordtype">int</span> n_elements;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;              value = va_arg (var_args, <span class="keyword">const</span> <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a>**);</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;              n_elements = va_arg (var_args, <span class="keywordtype">int</span>);</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;              </div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;              <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMessage.html#ga6e2d1e936c3c61fe00d80a3f22fd5e76">dbus_message_iter_append_fixed_array</a> (&amp;array,</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                                                         element_type,</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                                                         value,</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                                                         n_elements)) {</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                <a class="code" href="group__DBusMessage.html#ga6e62697ca11f0a57dbecc93d5721612c">dbus_message_iter_abandon_container</a> (&amp;iter, &amp;array);</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;              }</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            }</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_DBUS_TYPE_IS_STRINGLIKE (element_type))</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            {</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;              <span class="keyword">const</span> <span class="keywordtype">char</span> ***value_p;</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;              <span class="keyword">const</span> <span class="keywordtype">char</span> **value;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;              <span class="keywordtype">int</span> n_elements;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;              <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;              </div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;              value_p = va_arg (var_args, <span class="keyword">const</span> <span class="keywordtype">char</span>***);</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;              n_elements = va_arg (var_args, <span class="keywordtype">int</span>);</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;              value = *value_p;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;              </div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;              i = 0;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;              <span class="keywordflow">while</span> (i &lt; n_elements)</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                {</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMessage.html#ga17491f3b75b3203f6fc47dcc2e3b221b">dbus_message_iter_append_basic</a> (&amp;array,</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                                                       element_type,</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                                                       &amp;value[i])) {</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                    <a class="code" href="group__DBusMessage.html#ga6e62697ca11f0a57dbecc93d5721612c">dbus_message_iter_abandon_container</a> (&amp;iter, &amp;array);</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                    <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                  }</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                  ++i;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                }</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            }</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            {</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;              <a class="code" href="group__DBusInternalsUtils.html#gabea2c16d6d3fe7c4eb5b9496fc877f84">_dbus_warn</a> (<span class="stringliteral">&quot;arrays of %s can&#39;t be appended with %s for now\n&quot;</span>,</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                          <a class="code" href="group__DBusMarshal.html#ga48a595c2b26dce6e9c25ce040e5247e5">_dbus_type_to_string</a> (element_type),</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                          _DBUS_FUNCTION_NAME);</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;              <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            }</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMessage.html#gaf00482f63d4af88b7851621d1f24087a">dbus_message_iter_close_container</a> (&amp;iter, &amp;array))</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        }</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        {</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#gabea2c16d6d3fe7c4eb5b9496fc877f84">_dbus_warn</a> (<span class="stringliteral">&quot;type %s isn&#39;t supported yet in %s\n&quot;</span>,</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                      <a class="code" href="group__DBusMarshal.html#ga48a595c2b26dce6e9c25ce040e5247e5">_dbus_type_to_string</a> (type), _DBUS_FUNCTION_NAME);</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;          <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        }</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      type = va_arg (var_args, <span class="keywordtype">int</span>);</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    }</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; failed:</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;}</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l01980"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gad8953f53ceea7de81cde792e3edd0230"> 1980</a></span>&#160;<a class="code" href="group__DBusMessage.html#gad8953f53ceea7de81cde792e3edd0230">dbus_message_get_args</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>     *message,</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                       <a class="code" href="structDBusError.html">DBusError</a>       *error,</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                       <span class="keywordtype">int</span>              first_arg_type,</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                       ...)</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;{</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> retval;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  va_list var_args;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  _dbus_return_val_if_error_is_set (error, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  va_start (var_args, first_arg_type);</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  retval = <a class="code" href="group__DBusMessage.html#gab0f9bbe4f3d26bc9b5cf4f243c268aaa">dbus_message_get_args_valist</a> (message, error, first_arg_type, var_args);</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  va_end (var_args);</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;}</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02009"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gab0f9bbe4f3d26bc9b5cf4f243c268aaa"> 2009</a></span>&#160;<a class="code" href="group__DBusMessage.html#gab0f9bbe4f3d26bc9b5cf4f243c268aaa">dbus_message_get_args_valist</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>     *message,</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                              <a class="code" href="structDBusError.html">DBusError</a>       *error,</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                              <span class="keywordtype">int</span>              first_arg_type,</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                              va_list          var_args)</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;{</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> iter;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  _dbus_return_val_if_error_is_set (error, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <a class="code" href="group__DBusMessage.html#ga9f98b47c84f0e401ea985e681de4e963">dbus_message_iter_init</a> (message, &amp;iter);</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMessageInternals.html#ga1ae02a435d19c3363e11c74b08c43ab2">_dbus_message_iter_get_args_valist</a> (&amp;iter, error, first_arg_type, var_args);</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;}</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;_dbus_message_iter_init_common (<a class="code" href="structDBusMessage.html">DBusMessage</a>         *message,</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                                <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real,</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                                <span class="keywordtype">int</span>                  <a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a>)</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;{</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  _DBUS_STATIC_ASSERT (<span class="keyword">sizeof</span> (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a>) &lt;= <span class="keyword">sizeof</span> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a>));</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="comment">/* Since the iterator will read or write who-knows-what from the</span></div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="comment">   * message, we need to get in the right byte order</span></div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <a class="code" href="group__DBusMessageInternals.html#ga1dfae386ef0d4d808584abeafc44e8ca">ensure_byte_order</a> (message);</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  </div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a> = <a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac10324f74497a5c2288eef8fbcd3ae42">changed_stamp</a> = message-&gt;<a class="code" href="structDBusMessage.html#a5d102e908f6ff96a5a0aa6a39b4963a8">changed_stamp</a>;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> = <a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a>;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> = 0;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;}</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02064"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga9f98b47c84f0e401ea985e681de4e963"> 2064</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga9f98b47c84f0e401ea985e681de4e963">dbus_message_iter_init</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>     *message,</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                        <a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter)</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;{</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a> *type_str;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordtype">int</span> type_pos;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  _dbus_return_val_if_fail (iter != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  get_const_signature (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>, &amp;type_str, &amp;type_pos);</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  _dbus_message_iter_init_common (message, real,</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;                                  DBUS_MESSAGE_ITER_TYPE_READER);</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga35d70cf69b1196518367e3e68e9b2dd2">_dbus_type_reader_init</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>,</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                          <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>),</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                          type_str, type_pos,</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                          &amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>,</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                          0);</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>) != <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;}</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02095"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaaffc75a699c96ff6197287f166df2149"> 2095</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaaffc75a699c96ff6197287f166df2149">dbus_message_iter_has_next</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter)</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;{</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_check (real), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  _dbus_return_val_if_fail (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_READER, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga97a59dbd1597ef1b267457e809f095de">_dbus_type_reader_has_next</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>);</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;}</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02114"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga554e9fafd4dcc84cebe9da9344846a82"> 2114</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga554e9fafd4dcc84cebe9da9344846a82">dbus_message_iter_next</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter)</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;{</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_check (real), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  _dbus_return_val_if_fail (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_READER, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>);</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;}</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l02139"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga5aae3c882a75aed953d8b3d489e9b271"> 2139</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga5aae3c882a75aed953d8b3d489e9b271">dbus_message_iter_get_arg_type</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter)</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;{</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_check (real), <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>);</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  _dbus_return_val_if_fail (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_READER, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>);</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;}</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l02158"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga868a7aeddb9b54b2805776b512f68cb4"> 2158</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga868a7aeddb9b54b2805776b512f68cb4">dbus_message_iter_get_element_type</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter)</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;{</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_check (real), <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>);</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  _dbus_return_val_if_fail (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_READER, <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>);</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  _dbus_return_val_if_fail (<a class="code" href="group__DBusMessage.html#ga5aae3c882a75aed953d8b3d489e9b271">dbus_message_iter_get_arg_type</a> (iter) == <a class="code" href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a>, <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>);</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga6e5439f7ca5ee8a1ce943ddab7611d0d">_dbus_type_reader_get_element_type</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>);</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;}</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l02195"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga7652e1208743da5dd4ecc5aef07bf207"> 2195</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga7652e1208743da5dd4ecc5aef07bf207">dbus_message_iter_recurse</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a>  *iter,</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                           <a class="code" href="structDBusMessageIter.html">DBusMessageIter</a>  *sub)</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;{</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real_sub = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)sub;</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  _dbus_return_if_fail (_dbus_message_iter_check (real));</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  _dbus_return_if_fail (sub != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  *real_sub = *real;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>, &amp;real_sub-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;}</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<span class="keywordtype">char</span> *</div><div class="line"><a name="l02220"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gab4579a88a1a7eaf648350466f585ef8b"> 2220</a></span>&#160;<a class="code" href="group__DBusMessage.html#gab4579a88a1a7eaf648350466f585ef8b">dbus_message_iter_get_signature</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter)</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;{</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a> *sig;</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <a class="code" href="structDBusString.html">DBusString</a> retstr;</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <span class="keywordtype">char</span> *ret;</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  <span class="keywordtype">int</span> start, len;</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_check (real), <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga348252317f7bb8ac43529972945830ae">_dbus_string_init</a> (&amp;retstr))</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga4578cc623c8b0978ca780ce0ab950fdb">_dbus_type_reader_get_signature</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>, &amp;sig,</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;                                   &amp;start, &amp;len);</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga724656b7091b910965bd1af42d0b7bab">_dbus_string_append_len</a> (&amp;retstr,</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                                _dbus_string_get_const_data (sig) + start,</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;                                len))</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga556cc30c3ab032dbc63e217119f0d1f5">_dbus_string_steal_data</a> (&amp;retstr, &amp;ret))</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (&amp;retstr);</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;}</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l02293"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga41c23a05e552d0574d0444d4693d18ab"> 2293</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga41c23a05e552d0574d0444d4693d18ab">dbus_message_iter_get_basic</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a>  *iter,</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;                             <span class="keywordtype">void</span>             *value)</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;{</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  _dbus_return_if_fail (_dbus_message_iter_check (real));</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  _dbus_return_if_fail (value != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__DBusMessage.html#ga5aae3c882a75aed953d8b3d489e9b271">dbus_message_iter_get_arg_type</a> (iter) == <a class="code" href="group__DBusProtocol.html#ga59f8acaeb207b182982dfb97174b7f16">DBUS_TYPE_UNIX_FD</a>)</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    {</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      <a class="code" href="unionDBusBasicValue.html">DBusBasicValue</a> idx;</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;      <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a>(&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>, &amp;idx);</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      <span class="keywordflow">if</span> (idx.<a class="code" href="unionDBusBasicValue.html#a2501e54560ae240442d9d841b96b086b">u32</a> &gt;= real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;n_unix_fds) {</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;        <span class="comment">/* Hmm, we cannot really signal an error here, so let&#39;s make</span></div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<span class="comment">           sure to return an invalid fd. */</span></div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        *((<span class="keywordtype">int</span>*) value) = -1;</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;      }</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      *((<span class="keywordtype">int</span>*) value) = <a class="code" href="group__DBusSysdepsUnix.html#gad79d20e59fb519233004208988851cf1">_dbus_dup</a>(real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;unix_fds[idx.<a class="code" href="unionDBusBasicValue.html#a2501e54560ae240442d9d841b96b086b">u32</a>], <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;      *((<span class="keywordtype">int</span>*) value) = -1;</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    }</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    {</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      <a class="code" href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>,</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                                    value);</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    }</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;}</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l02346"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gab8ff47649497b3e0b93a2289f5d3eb23"> 2346</a></span>&#160;<a class="code" href="group__DBusMessage.html#gab8ff47649497b3e0b93a2289f5d3eb23">dbus_message_iter_get_array_len</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter)</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;{</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_check (real), 0);</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga7def93d676d528c261aa274cea41c29d">_dbus_type_reader_get_array_length</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>);</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;}</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l02391"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gae195a3312ae445e7ef0196854f3523f8"> 2391</a></span>&#160;<a class="code" href="group__DBusMessage.html#gae195a3312ae445e7ef0196854f3523f8">dbus_message_iter_get_fixed_array</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a>  *iter,</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;                                   <span class="keywordtype">void</span>             *value,</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;                                   <span class="keywordtype">int</span>              *n_elements)</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;{</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="keywordtype">int</span> subtype = <a class="code" href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a>(&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>);</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  _dbus_return_if_fail (_dbus_message_iter_check (real));</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  _dbus_return_if_fail (value != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  _dbus_return_if_fail ((subtype == <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>) ||</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;                        (<a class="code" href="group__DBusSignature.html#ga2f89962cbd33e4ad843824157bae2093">dbus_type_is_fixed</a> (subtype) &amp;&amp; subtype != <a class="code" href="group__DBusProtocol.html#ga59f8acaeb207b182982dfb97174b7f16">DBUS_TYPE_UNIX_FD</a>));</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;  <a class="code" href="group__DBusMarshal.html#gae9a65c05e58ace9c83352f65af2fe745">_dbus_type_reader_read_fixed_multi</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">reader</a>,</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;                                      value, n_elements);</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;}</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l02421"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaf733047c467ce21f4a53b65a388f1e9d"> 2421</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaf733047c467ce21f4a53b65a388f1e9d">dbus_message_iter_init_append</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>     *message,</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                               <a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter)</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;{</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  _dbus_return_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  _dbus_return_if_fail (iter != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  _dbus_message_iter_init_common (message, real,</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;                                  DBUS_MESSAGE_ITER_TYPE_WRITER);</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="comment">/* We create the signature string and point iterators at it &quot;on demand&quot;</span></div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;<span class="comment">   * when a value is actually appended. That means that init() never fails</span></div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;<span class="comment">   * due to OOM.</span></div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  <a class="code" href="group__DBusMarshal.html#gaa9ecf7e96d5323bc1da9cdf0c3f2c1e7">_dbus_type_writer_init_types_delayed</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>,</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                                        <a class="code" href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>),</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                                        &amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>,</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                                        _dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>));</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;}</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;_dbus_message_iter_open_signature (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real)</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;{</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  <a class="code" href="structDBusString.html">DBusString</a> *str;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a> *current_sig;</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <span class="keywordtype">int</span> current_sig_pos;</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER);</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="keywordflow">if</span> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>.<a class="code" href="structDBusTypeWriter.html#a95204ef3a9cf29ee31687032b142b836">type_str</a> != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    {</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> &gt; 0);</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;      real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> += 1;</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    }</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  str = <a class="code" href="group__DBusMemory.html#ga54ccb556e7964112a825a7f46c156ca0">dbus_new</a> (<a class="code" href="structDBusString.html">DBusString</a>, 1);</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keywordflow">if</span> (str == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#gaf4661ba8e7067f349ba03c9f5776bbb0">_dbus_header_get_field_raw</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;                                   <a class="code" href="group__DBusProtocol.html#ga450d63fa110d3cb891082e23291580b4">DBUS_HEADER_FIELD_SIGNATURE</a>,</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;                                   &amp;current_sig, &amp;current_sig_pos))</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    current_sig = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="keywordflow">if</span> (current_sig)</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    {</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;      <span class="keywordtype">int</span> current_len;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      current_len = _dbus_string_get_byte (current_sig, current_sig_pos);</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;      current_sig_pos += 1; <span class="comment">/* move on to sig data */</span></div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga569b784beea1b4fa98f05d27e6dd0e72">_dbus_string_init_preallocated</a> (str, current_len + 4))</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;        {</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;          <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (str);</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        }</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#gaf5f13bc7ac7a623516930d26ae2589bf">_dbus_string_copy_len</a> (current_sig, current_sig_pos, current_len,</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;                                  str, 0))</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;        {</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;          <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (str);</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;          <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (str);</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        }</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    }</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    {</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga569b784beea1b4fa98f05d27e6dd0e72">_dbus_string_init_preallocated</a> (str, 4))</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        {</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;          <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (str);</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        }</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    }</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> = 1;</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga863b2f232a21582f9e6fe1951b09da91">_dbus_type_writer_add_types</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>,</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;                               str, _dbus_string_get_length (str));</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;}</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;_dbus_message_iter_close_signature (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real)</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;{</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <a class="code" href="structDBusString.html">DBusString</a> *str;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *v_STRING;</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> retval;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER);</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>.<a class="code" href="structDBusTypeWriter.html#a95204ef3a9cf29ee31687032b142b836">type_str</a> != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> &gt; 0);</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> -= 1;</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <span class="keywordflow">if</span> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> &gt; 0)</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> == 0);</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  retval = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  str = real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>.<a class="code" href="structDBusTypeWriter.html#a95204ef3a9cf29ee31687032b142b836">type_str</a>;</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  v_STRING = _dbus_string_get_const_data (str);</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga4349de00b7754a337526e36fda133464">_dbus_header_set_field_basic</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga450d63fa110d3cb891082e23291580b4">DBUS_HEADER_FIELD_SIGNATURE</a>,</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga26ed6c20c3d9f0b50ea0a1cf80be3279">DBUS_TYPE_SIGNATURE</a>,</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;                                     &amp;v_STRING))</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    retval = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga34d675b57c7e6569707d22ba76ae010c">_dbus_type_writer_remove_types</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>);</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (str);</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (str);</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;  <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;}</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;_dbus_message_iter_abandon_signature (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real)</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;{</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  <a class="code" href="structDBusString.html">DBusString</a> *str;</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER);</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>.<a class="code" href="structDBusTypeWriter.html#a95204ef3a9cf29ee31687032b142b836">type_str</a> != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> &gt; 0);</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> -= 1;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  <span class="keywordflow">if</span> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> &gt; 0)</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">sig_refcount</a> == 0);</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  str = real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>.<a class="code" href="structDBusTypeWriter.html#a95204ef3a9cf29ee31687032b142b836">type_str</a>;</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga34d675b57c7e6569707d22ba76ae010c">_dbus_type_writer_remove_types</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>);</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (str);</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (str);</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;}</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;_dbus_message_iter_append_check (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *iter)</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;{</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keywordflow">if</span> (!_dbus_message_iter_check (iter))</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>)</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    {</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga63f2f8a068454b781f214ba596e313b4">_dbus_warn_check_failed</a> (<span class="stringliteral">&quot;dbus append iterator can&#39;t be used: message is locked (has already been sent)\n&quot;</span>);</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    }</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;}</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DBUS_DISABLE_CHECKS */</span><span class="preprocessor"></span></div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> *</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;expand_fd_array(<a class="code" href="structDBusMessage.html">DBusMessage</a> *m,</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;                <span class="keywordtype">unsigned</span>     n)</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;{</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a>(m);</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <span class="comment">/* This makes space for adding n new fds to the array and returns a</span></div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;<span class="comment">     pointer to the place were the first fd should be put. */</span></div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <span class="keywordflow">if</span> (m-&gt;n_unix_fds + n &gt; m-&gt;n_unix_fds_allocated)</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    {</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;      <span class="keywordtype">unsigned</span> k;</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      <span class="keywordtype">int</span> *p;</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;      <span class="comment">/* Make twice as much space as necessary */</span></div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;      k = (m-&gt;n_unix_fds + n) * 2;</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;      <span class="comment">/* Allocate at least four */</span></div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;      <span class="keywordflow">if</span> (k &lt; 4)</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;        k = 4;</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;      p = <a class="code" href="group__DBusMemory.html#ga2d505f2960ccf343042d363170b27f9c">dbus_realloc</a>(m-&gt;unix_fds, k * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;      <span class="keywordflow">if</span> (p == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;      m-&gt;unix_fds = p;</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;      m-&gt;n_unix_fds_allocated = k;</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    }</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="keywordflow">return</span> m-&gt;unix_fds + m-&gt;n_unix_fds;</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;}</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02656"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga17491f3b75b3203f6fc47dcc2e3b221b"> 2656</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga17491f3b75b3203f6fc47dcc2e3b221b">dbus_message_iter_append_basic</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter,</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;                                <span class="keywordtype">int</span>              type,</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">void</span>      *value)</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;{</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> ret;</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_append_check (real), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;  _dbus_return_val_if_fail (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;  _dbus_return_val_if_fail (<a class="code" href="group__DBusSignature.html#ga2d8afef7d754cf15d6b9733f00654c0e">dbus_type_is_basic</a> (type), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  _dbus_return_val_if_fail (value != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="keywordflow">switch</span> (type)</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    {</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> *string_p;</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;      <span class="keyword">const</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> *bool_p;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>:</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;        string_p = value;</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;        _dbus_return_val_if_fail (_dbus_check_is_valid_utf8 (*string_p), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga31cc59c99a6cbbfcef71756e1390dc4c">DBUS_TYPE_OBJECT_PATH</a>:</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        string_p = value;</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        _dbus_return_val_if_fail (_dbus_check_is_valid_path (*string_p), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga26ed6c20c3d9f0b50ea0a1cf80be3279">DBUS_TYPE_SIGNATURE</a>:</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;        string_p = value;</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;        _dbus_return_val_if_fail (_dbus_check_is_valid_signature (*string_p), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga624ecee83984330ad89cbf064a2b28e6">DBUS_TYPE_BOOLEAN</a>:</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;        bool_p = value;</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        _dbus_return_val_if_fail (*bool_p == 0 || *bool_p == 1, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;          {</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;            <span class="comment">/* nothing to check, all possible values are allowed */</span></div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;          }</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    }</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <span class="keywordflow">if</span> (!_dbus_message_iter_open_signature (real))</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;  <span class="keywordflow">if</span> (type == <a class="code" href="group__DBusProtocol.html#ga59f8acaeb207b182982dfb97174b7f16">DBUS_TYPE_UNIX_FD</a>)</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    {</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;      <span class="keywordtype">int</span> *fds;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;      <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> <a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>;</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      <span class="comment">/* First step, include the fd in the fd list of this message */</span></div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;      <span class="keywordflow">if</span> (!(fds = expand_fd_array(real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>, 1)))</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      *fds = <a class="code" href="group__DBusSysdepsUnix.html#gad79d20e59fb519233004208988851cf1">_dbus_dup</a>(*(<span class="keywordtype">int</span>*) value, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      <span class="keywordflow">if</span> (*fds &lt; 0)</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      u = real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;n_unix_fds;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;      <span class="comment">/* Second step, write the index to the fd */</span></div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      <span class="keywordflow">if</span> (!(ret = <a class="code" href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>, <a class="code" href="group__DBusProtocol.html#ga59f8acaeb207b182982dfb97174b7f16">DBUS_TYPE_UNIX_FD</a>, &amp;u))) {</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;        <a class="code" href="group__DBusSysdepsUnix.html#gac448479a1674e3b86cee9a4bdc7eba03">_dbus_close</a>(*fds, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      }</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;n_unix_fds += 1;</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;      u += 1;</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;      <span class="comment">/* Final step, update the header accordingly */</span></div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;      ret = <a class="code" href="group__DBusMarshal.html#ga4349de00b7754a337526e36fda133464">_dbus_header_set_field_basic</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;                                          <a class="code" href="group__DBusProtocol.html#ga03b9c24acbfd1e3da19804c739612885">DBUS_HEADER_FIELD_UNIX_FDS</a>,</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;                                          <a class="code" href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a>,</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;                                          &amp;u);</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;      <span class="comment">/* If any of these operations fail the message is</span></div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;<span class="comment">         hosed. However, no memory or fds should be leaked since what</span></div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;<span class="comment">         has been added to message has been added to the message, and</span></div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;<span class="comment">         can hence be accounted for when the message is being</span></div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;<span class="comment">         freed. */</span></div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;      ret = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    }</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    {</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;      ret = <a class="code" href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>, type, value);</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    }</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;  <span class="keywordflow">if</span> (!_dbus_message_iter_close_signature (real))</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    ret = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;}</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02791"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga6e2d1e936c3c61fe00d80a3f22fd5e76"> 2791</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga6e2d1e936c3c61fe00d80a3f22fd5e76">dbus_message_iter_append_fixed_array</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter,</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;                                      <span class="keywordtype">int</span>              element_type,</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;                                      <span class="keyword">const</span> <span class="keywordtype">void</span>      *value,</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;                                      <span class="keywordtype">int</span>              n_elements)</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;{</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> ret;</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_append_check (real), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;  _dbus_return_val_if_fail (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;  _dbus_return_val_if_fail (<a class="code" href="group__DBusSignature.html#ga2f89962cbd33e4ad843824157bae2093">dbus_type_is_fixed</a> (element_type) &amp;&amp; element_type != <a class="code" href="group__DBusProtocol.html#ga59f8acaeb207b182982dfb97174b7f16">DBUS_TYPE_UNIX_FD</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;  _dbus_return_val_if_fail (real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>.<a class="code" href="structDBusTypeWriter.html#ad0953035070c7c7d21b044b7b2f0f491">container_type</a> == <a class="code" href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;  _dbus_return_val_if_fail (value != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;  _dbus_return_val_if_fail (n_elements &gt;= 0, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;  _dbus_return_val_if_fail (n_elements &lt;=</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;                            <a class="code" href="group__DBusProtocol.html#ga5265afa08a4c8d9f31b287a57e8cb217">DBUS_MAXIMUM_ARRAY_LENGTH</a> / <a class="code" href="group__DBusMarshal.html#ga2ba80f227880e442c140bc67653b0abd">_dbus_type_get_alignment</a> (element_type),</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;                            <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  <span class="keywordflow">if</span> (element_type == <a class="code" href="group__DBusProtocol.html#ga624ecee83984330ad89cbf064a2b28e6">DBUS_TYPE_BOOLEAN</a>)</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    {</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;      <span class="keyword">const</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> * <span class="keyword">const</span> *bools = value;</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;      <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; n_elements; i++)</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;        {</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;          _dbus_return_val_if_fail ((*bools)[i] == 0 || (*bools)[i] == 1, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        }</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    }</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  ret = <a class="code" href="group__DBusMarshal.html#gacf99495cbed7462992b6a231563b4528">_dbus_type_writer_write_fixed_multi</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>, element_type, value, n_elements);</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;}</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02849"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga943150f4e87fd8507da224d22c266100"> 2849</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga943150f4e87fd8507da224d22c266100">dbus_message_iter_open_container</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter,</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;                                  <span class="keywordtype">int</span>              type,</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;                                  <span class="keyword">const</span> <span class="keywordtype">char</span>      *contained_signature,</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;                                  <a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *sub)</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;{</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real_sub = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)sub;</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;  <a class="code" href="structDBusString.html">DBusString</a> contained_str;</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_append_check (real), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  _dbus_return_val_if_fail (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;  _dbus_return_val_if_fail (<a class="code" href="group__DBusSignature.html#gaa0c4c8aa34fa266daa55bd37bdad39b8">dbus_type_is_container</a> (type), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;  _dbus_return_val_if_fail (sub != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;  _dbus_return_val_if_fail ((type == <a class="code" href="group__DBusProtocol.html#gae4b22a74b9edb0ec0ff6e0294794d3f9">DBUS_TYPE_STRUCT</a> &amp;&amp;</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                             contained_signature == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;                            (type == <a class="code" href="group__DBusProtocol.html#gad2fc8e6c50e0ad927f4249fb9e53ca97">DBUS_TYPE_DICT_ENTRY</a> &amp;&amp;</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                             contained_signature == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;                            (type == <a class="code" href="group__DBusProtocol.html#ga4aa7a463ad2bce4e9aa95e3e397ddcf1">DBUS_TYPE_VARIANT</a> &amp;&amp;</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                             contained_signature != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                            (type == <a class="code" href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a> &amp;&amp;</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                             contained_signature != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;  </div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;  <span class="comment">/* this would fail if the contained_signature is a dict entry, since</span></div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;<span class="comment">   * dict entries are invalid signatures standalone (they must be in</span></div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;<span class="comment">   * an array)</span></div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  _dbus_return_val_if_fail ((type == <a class="code" href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a> &amp;&amp; contained_signature &amp;&amp; *contained_signature == <a class="code" href="group__DBusProtocol.html#gad51b5f7a2e6d927295479dd371f6b353">DBUS_DICT_ENTRY_BEGIN_CHAR</a>) ||</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;                            (contained_signature == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;                             _dbus_check_is_valid_signature (contained_signature)),</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;                            <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;  <span class="keywordflow">if</span> (!_dbus_message_iter_open_signature (real))</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  *real_sub = *real;</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <span class="keywordflow">if</span> (contained_signature != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    {</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;      <a class="code" href="group__DBusString.html#ga374640ddfa2f0b27a8356e2379ba8043">_dbus_string_init_const</a> (&amp;contained_str, contained_signature);</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga4c0a1036e59dac270141052d951baff2">_dbus_type_writer_recurse</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>,</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;                                        type,</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;                                        &amp;contained_str, 0,</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;                                        &amp;real_sub-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>);</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    }</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    {</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga4c0a1036e59dac270141052d951baff2">_dbus_type_writer_recurse</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>,</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;                                        type,</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;                                        <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0,</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                                        &amp;real_sub-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>);</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    } </div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;}</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l02918"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaf00482f63d4af88b7851621d1f24087a"> 2918</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaf00482f63d4af88b7851621d1f24087a">dbus_message_iter_close_container</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter,</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;                                   <a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *sub)</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;{</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real_sub = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)sub;</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> ret;</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_append_check (real), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  _dbus_return_val_if_fail (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;  _dbus_return_val_if_fail (_dbus_message_iter_append_check (real_sub), <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  _dbus_return_val_if_fail (real_sub-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  ret = <a class="code" href="group__DBusMarshal.html#gacbe7eddf4f9c19da91b742087fcc111a">_dbus_type_writer_unrecurse</a> (&amp;real-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>,</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;                                     &amp;real_sub-&gt;<a class="code" href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">u</a>.<a class="code" href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">writer</a>);</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  <span class="keywordflow">if</span> (!_dbus_message_iter_close_signature (real))</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    ret = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;}</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l02951"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga6e62697ca11f0a57dbecc93d5721612c"> 2951</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga6e62697ca11f0a57dbecc93d5721612c">dbus_message_iter_abandon_container</a> (<a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *iter,</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;                                     <a class="code" href="structDBusMessageIter.html">DBusMessageIter</a> *sub)</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;{</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)iter;</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;<span class="preprocessor">#ifndef DBUS_DISABLE_CHECKS</span></div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;  <a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *real_sub = (<a class="code" href="structDBusMessageRealIter.html">DBusMessageRealIter</a> *)sub;</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  _dbus_return_if_fail (_dbus_message_iter_append_check (real));</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  _dbus_return_if_fail (real-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER);</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  _dbus_return_if_fail (_dbus_message_iter_append_check (real_sub));</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  _dbus_return_if_fail (real_sub-&gt;<a class="code" href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">iter_type</a> == DBUS_MESSAGE_ITER_TYPE_WRITER);</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  _dbus_message_iter_abandon_signature (real);</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;}</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l02984"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga0e86aeb2dc6831ccc9a21fcbf8cc16f7"> 2984</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga0e86aeb2dc6831ccc9a21fcbf8cc16f7">dbus_message_set_no_reply</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;                           <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a>  no_reply)</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;{</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  _dbus_return_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;  _dbus_return_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>);</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;  <a class="code" href="group__DBusMarshal.html#gad2073f8f2f2ba3b710aa929dced34cc3">_dbus_header_toggle_flag</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;                            <a class="code" href="group__DBusProtocol.html#ga0dcac038284250b3b0bff49cb4990626">DBUS_HEADER_FLAG_NO_REPLY_EXPECTED</a>,</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                            no_reply);</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;}</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03003"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga622d051a2e5f578814116a958b240aa4"> 3003</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga622d051a2e5f578814116a958b240aa4">dbus_message_get_no_reply</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;{</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga56619efed3088554b8760edd246b4157">_dbus_header_get_flag</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga0dcac038284250b3b0bff49cb4990626">DBUS_HEADER_FLAG_NO_REPLY_EXPECTED</a>);</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;}</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03026"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga1596d92a8d604f954b48c7410263d2f0"> 3026</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga1596d92a8d604f954b48c7410263d2f0">dbus_message_set_auto_start</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;                             <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a>  auto_start)</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;{</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;  _dbus_return_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;  _dbus_return_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>);</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;  <a class="code" href="group__DBusMarshal.html#gad2073f8f2f2ba3b710aa929dced34cc3">_dbus_header_toggle_flag</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;                            <a class="code" href="group__DBusProtocol.html#ga8699fad5ce9ff93fe3f3471ba463dd40">DBUS_HEADER_FLAG_NO_AUTO_START</a>,</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                            !auto_start);</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;}</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03045"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga85d396a3a774e15c3dbb7704aa173384"> 3045</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga85d396a3a774e15c3dbb7704aa173384">dbus_message_get_auto_start</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;{</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="group__DBusMarshal.html#ga56619efed3088554b8760edd246b4157">_dbus_header_get_flag</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;                                 <a class="code" href="group__DBusProtocol.html#ga8699fad5ce9ff93fe3f3471ba463dd40">DBUS_HEADER_FLAG_NO_AUTO_START</a>);</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;}</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03067"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaaf25da0ba1482266293d329314c21786"> 3067</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaaf25da0ba1482266293d329314c21786">dbus_message_set_path</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>   *message,</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">char</span>    *object_path)</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;{</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;  _dbus_return_val_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  _dbus_return_val_if_fail (object_path == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;                            _dbus_check_is_valid_path (object_path),</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;                            <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;  <span class="keywordflow">return</span> set_or_delete_string_field (message,</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga0cd885e6e808b28ff082a7f8a2c9f579">DBUS_HEADER_FIELD_PATH</a>,</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga31cc59c99a6cbbfcef71756e1390dc4c">DBUS_TYPE_OBJECT_PATH</a>,</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;                                     object_path);</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;}</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>*</div><div class="line"><a name="l03096"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga18adf731bb42d324fe2624407319e4af"> 3096</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga18adf731bb42d324fe2624407319e4af">dbus_message_get_path</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>   *message)</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;{</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *v;</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  v = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* in case field doesn&#39;t exist */</span></div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga0cd885e6e808b28ff082a7f8a2c9f579">DBUS_HEADER_FIELD_PATH</a>,</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga31cc59c99a6cbbfcef71756e1390dc4c">DBUS_TYPE_OBJECT_PATH</a>,</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;                                (<span class="keywordtype">void</span> *) &amp;v);</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;  <span class="keywordflow">return</span> v;</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;}</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03120"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gad2c87d3472bd3bfa8eca8a97f2db026b"> 3120</a></span>&#160;<a class="code" href="group__DBusMessage.html#gad2c87d3472bd3bfa8eca8a97f2db026b">dbus_message_has_path</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>   *message,</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">char</span>    *path)</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;{</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *msg_path;</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;  msg_path = <a class="code" href="group__DBusMessage.html#ga18adf731bb42d324fe2624407319e4af">dbus_message_get_path</a> (message);</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;  </div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;  <span class="keywordflow">if</span> (msg_path == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    {</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;      <span class="keywordflow">if</span> (path == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    }</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;  <span class="keywordflow">if</span> (path == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;   </div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  <span class="keywordflow">if</span> (strcmp (msg_path, path) == 0)</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;}</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03164"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaf2b5b3319da838b1f1b360c04a33f153"> 3164</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaf2b5b3319da838b1f1b360c04a33f153">dbus_message_get_path_decomposed</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>   *message,</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;                                  <span class="keywordtype">char</span>        ***path)</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;{</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *v;</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  _dbus_return_val_if_fail (path != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;  *path = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;  v = <a class="code" href="group__DBusMessage.html#ga18adf731bb42d324fe2624407319e4af">dbus_message_get_path</a> (message);</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;  <span class="keywordflow">if</span> (v != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    {</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="group__DBusObjectTree.html#gab282b916368cd512842d3aaae31e65c7">_dbus_decompose_path</a> (v, strlen (v),</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;                                 path, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    }</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;}</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03198"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga02b754855e4d9a1cade8e4fc17a3f5c7"> 3198</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga02b754855e4d9a1cade8e4fc17a3f5c7">dbus_message_set_interface</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *message,</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">char</span>   *iface)</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;{</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  _dbus_return_val_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  _dbus_return_val_if_fail (iface == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;                            _dbus_check_is_valid_interface (iface),</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;                            <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;  <span class="keywordflow">return</span> set_or_delete_string_field (message,</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga296b5f099b6c347f65d53ef0a6fa2b0d">DBUS_HEADER_FIELD_INTERFACE</a>,</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;                                     iface);</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;}</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>*</div><div class="line"><a name="l03227"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga1ad192bd4538cae556121a71b4e09d42"> 3227</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga1ad192bd4538cae556121a71b4e09d42">dbus_message_get_interface</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;{</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *v;</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;  v = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* in case field doesn&#39;t exist */</span></div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga296b5f099b6c347f65d53ef0a6fa2b0d">DBUS_HEADER_FIELD_INTERFACE</a>,</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;                                (<span class="keywordtype">void</span> *) &amp;v);</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;  <span class="keywordflow">return</span> v;</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;}</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03249"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga0d1debd1c101a80c386d6ec92cdb1d93"> 3249</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga0d1debd1c101a80c386d6ec92cdb1d93">dbus_message_has_interface</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>   *message,</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">char</span>    *iface)</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;{</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *msg_interface;</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;  msg_interface = <a class="code" href="group__DBusMessage.html#ga1ad192bd4538cae556121a71b4e09d42">dbus_message_get_interface</a> (message);</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;   </div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;  <span class="keywordflow">if</span> (msg_interface == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;    {</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;      <span class="keywordflow">if</span> (iface == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;    }</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;  <span class="keywordflow">if</span> (iface == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;     </div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  <span class="keywordflow">if</span> (strcmp (msg_interface, iface) == 0)</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;}</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03286"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga3afdda6016816cc70b451d8657065208"> 3286</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga3afdda6016816cc70b451d8657065208">dbus_message_set_member</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *message,</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span>   *member)</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;{</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  _dbus_return_val_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;  _dbus_return_val_if_fail (member == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;                            _dbus_check_is_valid_member (member),</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;                            <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;  <span class="keywordflow">return</span> set_or_delete_string_field (message,</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga2aa9d65ef983ac9c08c1d4cb31366818">DBUS_HEADER_FIELD_MEMBER</a>,</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;                                     member);</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;}</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>*</div><div class="line"><a name="l03313"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaf5c6b705c53db07a5ae2c6b76f230cf9"> 3313</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaf5c6b705c53db07a5ae2c6b76f230cf9">dbus_message_get_member</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;{</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *v;</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  v = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* in case field doesn&#39;t exist */</span></div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga2aa9d65ef983ac9c08c1d4cb31366818">DBUS_HEADER_FIELD_MEMBER</a>,</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;                                (<span class="keywordtype">void</span> *) &amp;v);</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;  <span class="keywordflow">return</span> v;</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;}</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03335"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gad7021a30bf930f8090bc38f862f19adb"> 3335</a></span>&#160;<a class="code" href="group__DBusMessage.html#gad7021a30bf930f8090bc38f862f19adb">dbus_message_has_member</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>   *message,</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span>    *member)</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;{</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *msg_member;</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;  msg_member = <a class="code" href="group__DBusMessage.html#gaf5c6b705c53db07a5ae2c6b76f230cf9">dbus_message_get_member</a> (message);</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160; </div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;  <span class="keywordflow">if</span> (msg_member == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    {</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;      <span class="keywordflow">if</span> (member == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    }</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;  <span class="keywordflow">if</span> (member == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    </div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  <span class="keywordflow">if</span> (strcmp (msg_member, member) == 0)</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;}</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03371"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga892f9857707371c2a53cec6b54c843c7"> 3371</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga892f9857707371c2a53cec6b54c843c7">dbus_message_set_error_name</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *message,</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">char</span>   *error_name)</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;{</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;  _dbus_return_val_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;  _dbus_return_val_if_fail (error_name == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;                            _dbus_check_is_valid_error_name (error_name),</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;                            <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;  <span class="keywordflow">return</span> set_or_delete_string_field (message,</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#gac551be0f921390d01104cce30a814a5e">DBUS_HEADER_FIELD_ERROR_NAME</a>,</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                                     error_name);</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;}</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>*</div><div class="line"><a name="l03397"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga4e98b2283707a8e0313fc7c6fe3b1b5f"> 3397</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga4e98b2283707a8e0313fc7c6fe3b1b5f">dbus_message_get_error_name</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;{</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *v;</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;  v = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* in case field doesn&#39;t exist */</span></div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;                                <a class="code" href="group__DBusProtocol.html#gac551be0f921390d01104cce30a814a5e">DBUS_HEADER_FIELD_ERROR_NAME</a>,</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;                                (<span class="keywordtype">void</span> *) &amp;v);</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;  <span class="keywordflow">return</span> v;</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;}</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03425"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gacc47c1af23addfc4198b70084ba068fc"> 3425</a></span>&#160;<a class="code" href="group__DBusMessage.html#gacc47c1af23addfc4198b70084ba068fc">dbus_message_set_destination</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *message,</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">char</span>   *destination)</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;{</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  _dbus_return_val_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  _dbus_return_val_if_fail (destination == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;                            _dbus_check_is_valid_bus_name (destination),</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;                            <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;  <span class="keywordflow">return</span> set_or_delete_string_field (message,</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#gade98f71a08a1e0198d095fdb6d46cab9">DBUS_HEADER_FIELD_DESTINATION</a>,</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;                                     destination);</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;}</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>*</div><div class="line"><a name="l03450"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaac65c926e6253e49aa689b4f032fad45"> 3450</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaac65c926e6253e49aa689b4f032fad45">dbus_message_get_destination</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;{</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *v;</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  v = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* in case field doesn&#39;t exist */</span></div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;                                <a class="code" href="group__DBusProtocol.html#gade98f71a08a1e0198d095fdb6d46cab9">DBUS_HEADER_FIELD_DESTINATION</a>,</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;                                (<span class="keywordtype">void</span> *) &amp;v);</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;  <span class="keywordflow">return</span> v;</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;}</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03479"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaa2170744c2c19217d9df02551f16bc92"> 3479</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaa2170744c2c19217d9df02551f16bc92">dbus_message_set_sender</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *message,</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span>   *sender)</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;{</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  _dbus_return_val_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  _dbus_return_val_if_fail (sender == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;                            _dbus_check_is_valid_bus_name (sender),</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;                            <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;  <span class="keywordflow">return</span> set_or_delete_string_field (message,</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga3ba84ae623951832bd73e2796bb13e71">DBUS_HEADER_FIELD_SENDER</a>,</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;                                     <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;                                     sender);</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;}</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>*</div><div class="line"><a name="l03510"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga13ce514ceb2d1598751f3a7760cf1375"> 3510</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga13ce514ceb2d1598751f3a7760cf1375">dbus_message_get_sender</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;{</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *v;</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;  v = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* in case field doesn&#39;t exist */</span></div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga3ba84ae623951832bd73e2796bb13e71">DBUS_HEADER_FIELD_SENDER</a>,</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>,</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;                                (<span class="keywordtype">void</span> *) &amp;v);</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  <span class="keywordflow">return</span> v;</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;}</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>*</div><div class="line"><a name="l03543"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaed63e4c2baaa50d782e8ebb7643def19"> 3543</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaed63e4c2baaa50d782e8ebb7643def19">dbus_message_get_signature</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;{</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;  <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a> *type_str;</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;  <span class="keywordtype">int</span> type_pos;</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;  get_const_signature (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>, &amp;type_str, &amp;type_pos);</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;  <span class="keywordflow">return</span> _dbus_string_get_const_data_len (type_str, type_pos, 0);</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;}</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;_dbus_message_has_type_interface_member (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;                                         <span class="keywordtype">int</span>          type,</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;                                         <span class="keyword">const</span> <span class="keywordtype">char</span>  *iface,</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;                                         <span class="keyword">const</span> <span class="keywordtype">char</span>  *member)</div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;{</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *n;</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (iface != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (member != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__DBusMessage.html#ga41cace31999105137772b6257ea540f9">dbus_message_get_type</a> (message) != type)</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;  <span class="comment">/* Optimize by checking the short member name first</span></div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;<span class="comment">   * instead of the longer interface name</span></div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;</div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;  n = <a class="code" href="group__DBusMessage.html#gaf5c6b705c53db07a5ae2c6b76f230cf9">dbus_message_get_member</a> (message);</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;</div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;  <span class="keywordflow">if</span> (n &amp;&amp; strcmp (n, member) == 0)</div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    {</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;      n = <a class="code" href="group__DBusMessage.html#ga1ad192bd4538cae556121a71b4e09d42">dbus_message_get_interface</a> (message);</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;</div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;      <span class="keywordflow">if</span> (n == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || strcmp (n, iface) == 0)</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    }</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;}</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03602"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gad8bd4730941af47d8d0f9c9b00562a44"> 3602</a></span>&#160;<a class="code" href="group__DBusMessage.html#gad8bd4730941af47d8d0f9c9b00562a44">dbus_message_is_method_call</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">char</span>  *iface,</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">char</span>  *method)</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;{</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  _dbus_return_val_if_fail (iface != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;  _dbus_return_val_if_fail (method != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;  <span class="comment">/* don&#39;t check that interface/method are valid since it would be</span></div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;<span class="comment">   * expensive, and not catch many common errors</span></div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;</div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;  <span class="keywordflow">return</span> _dbus_message_has_type_interface_member (message,</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;                                                  <a class="code" href="group__DBusProtocol.html#ga09416afd76b65139eddd31e1085d9ebf">DBUS_MESSAGE_TYPE_METHOD_CALL</a>,</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;                                                  iface, method);</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;}</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03630"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaed0e32329f142cc246662227c81d5d1f"> 3630</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaed0e32329f142cc246662227c81d5d1f">dbus_message_is_signal</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span>  *iface,</div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span>  *signal_name)</div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;{</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;  _dbus_return_val_if_fail (iface != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  _dbus_return_val_if_fail (signal_name != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;  <span class="comment">/* don&#39;t check that interface/name are valid since it would be</span></div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;<span class="comment">   * expensive, and not catch many common errors</span></div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;  <span class="keywordflow">return</span> _dbus_message_has_type_interface_member (message,</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;                                                  <a class="code" href="group__DBusProtocol.html#ga728d893ff0c00e126517ba39835220a5">DBUS_MESSAGE_TYPE_SIGNAL</a>,</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;                                                  iface, signal_name);</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;}</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03657"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga70ef9d7fad409666a0b5f3a8d4f0dd92"> 3657</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga70ef9d7fad409666a0b5f3a8d4f0dd92">dbus_message_is_error</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">char</span>  *error_name)</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;{</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *n;</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;  _dbus_return_val_if_fail (error_name != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;  <span class="comment">/* don&#39;t check that error_name is valid since it would be expensive,</span></div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;<span class="comment">   * and not catch many common errors</span></div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__DBusMessage.html#ga41cace31999105137772b6257ea540f9">dbus_message_get_type</a> (message) != <a class="code" href="group__DBusProtocol.html#ga2b9423d95066313d73eeea8eeaf86812">DBUS_MESSAGE_TYPE_ERROR</a>)</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  n = <a class="code" href="group__DBusMessage.html#ga4e98b2283707a8e0313fc7c6fe3b1b5f">dbus_message_get_error_name</a> (message);</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;  <span class="keywordflow">if</span> (n &amp;&amp; strcmp (n, error_name) == 0)</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;}</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03690"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga017cb8d960d4c360cb6b30ded5292509"> 3690</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga017cb8d960d4c360cb6b30ded5292509">dbus_message_has_destination</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *message,</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">char</span>   *name)</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;{</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *s;</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;  _dbus_return_val_if_fail (name != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;  <span class="comment">/* don&#39;t check that name is valid since it would be expensive, and</span></div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;<span class="comment">   * not catch many common errors</span></div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;  s = <a class="code" href="group__DBusMessage.html#gaac65c926e6253e49aa689b4f032fad45">dbus_message_get_destination</a> (message);</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;</div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;  <span class="keywordflow">if</span> (s &amp;&amp; strcmp (s, name) == 0)</div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;}</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03725"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga332fb0c71efcd1e9ef43ebdf2a25350c"> 3725</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga332fb0c71efcd1e9ef43ebdf2a25350c">dbus_message_has_sender</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *message,</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span>   *name)</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;{</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *s;</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;  _dbus_return_val_if_fail (name != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;  <span class="comment">/* don&#39;t check that name is valid since it would be expensive, and</span></div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;<span class="comment">   * not catch many common errors</span></div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;  s = <a class="code" href="group__DBusMessage.html#ga13ce514ceb2d1598751f3a7760cf1375">dbus_message_get_sender</a> (message);</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;  <span class="keywordflow">if</span> (s &amp;&amp; strcmp (s, name) == 0)</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;}</div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03754"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga8d563a936b6147f12dce7f24df3557b7"> 3754</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga8d563a936b6147f12dce7f24df3557b7">dbus_message_has_signature</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>   *message,</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">char</span>    *signature)</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;{</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *s;</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;  _dbus_return_val_if_fail (signature != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;  <span class="comment">/* don&#39;t check that signature is valid since it would be expensive,</span></div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;<span class="comment">   * and not catch many common errors</span></div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  s = <a class="code" href="group__DBusMessage.html#gaed63e4c2baaa50d782e8ebb7643def19">dbus_message_get_signature</a> (message);</div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;  <span class="keywordflow">if</span> (s &amp;&amp; strcmp (s, signature) == 0)</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;}</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03796"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gaba5e49e956e6bbd1f857ffd21c289276"> 3796</a></span>&#160;<a class="code" href="group__DBusMessage.html#gaba5e49e956e6bbd1f857ffd21c289276">dbus_set_error_from_message</a> (<a class="code" href="structDBusError.html">DBusError</a>   *error,</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;                             <a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;{</div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *str;</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;  _dbus_return_val_if_error_is_set (error, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__DBusMessage.html#ga41cace31999105137772b6257ea540f9">dbus_message_get_type</a> (message) != <a class="code" href="group__DBusProtocol.html#ga2b9423d95066313d73eeea8eeaf86812">DBUS_MESSAGE_TYPE_ERROR</a>)</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;</div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;  str = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;  <a class="code" href="group__DBusMessage.html#gad8953f53ceea7de81cde792e3edd0230">dbus_message_get_args</a> (message, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;                         <a class="code" href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a>, &amp;str,</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;                         <a class="code" href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a>);</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;</div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  <a class="code" href="group__DBusErrors.html#ga89d2ad4bde21f9e0057fac07a79885e3">dbus_set_error</a> (error, <a class="code" href="group__DBusMessage.html#ga4e98b2283707a8e0313fc7c6fe3b1b5f">dbus_message_get_error_name</a> (message),</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;                  str ? <span class="stringliteral">&quot;%s&quot;</span> : <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, str);</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;</div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;}</div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;</div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l03825"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga7436b74471eb3642f81fd456f8f2b69c"> 3825</a></span>&#160;<a class="code" href="group__DBusMessage.html#ga7436b74471eb3642f81fd456f8f2b69c">dbus_message_contains_unix_fds</a>(<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;{</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a>(message);</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;  <span class="keywordflow">return</span> message-&gt;n_unix_fds &gt; 0;</div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;}</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;</div><div class="line"><a name="l03854"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gacbe0bfe7a9551ab0489a0ec9aba6e94e"> 3854</a></span>&#160;<span class="preprocessor">#define INITIAL_LOADER_DATA_LEN 32</span></div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>*</div><div class="line"><a name="l03863"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga66f1c10cf909ba09ed732bc125ff8671"> 3863</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga66f1c10cf909ba09ed732bc125ff8671">_dbus_message_loader_new</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;{</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  <a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader;</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  loader = <a class="code" href="group__DBusMemory.html#gaba9d823abda7f4cadbaf5177d3b8b793">dbus_new0</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>, 1);</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;  <span class="keywordflow">if</span> (loader == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;  </div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#af3372b7d574dab49a7435d8f29ea2258">refcount</a> = 1;</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;</div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a> = <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>;</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  <span class="comment">/* this can be configured by the app, but defaults to the protocol max */</span></div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#a174d67695b3aca6ee3bb8e1e5e033334">max_message_size</a> = <a class="code" href="group__DBusProtocol.html#ga2874c299e1c87fe745ef09bf231264e9">DBUS_MAXIMUM_MESSAGE_LENGTH</a>;</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;</div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;  <span class="comment">/* We set a very relatively conservative default here since due to how</span></div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;<span class="comment">  SCM_RIGHTS works we need to preallocate an fd array of the maximum</span></div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;<span class="comment">  number of unix fds we want to receive in advance. A</span></div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;<span class="comment">  try-and-reallocate loop is not possible. */</span></div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#a2134a617c0d631d946adee1f08443851">max_message_unix_fds</a> = DBUS_DEFAULT_MESSAGE_UNIX_FDS;</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga348252317f7bb8ac43529972945830ae">_dbus_string_init</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>))</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;    {</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;      <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (loader);</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;    }</div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;  <span class="comment">/* preallocate the buffer for speed, ignore failure */</span></div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;  <a class="code" href="group__DBusString.html#ga08c423b93c28dd746dcb93e0461ab95c">_dbus_string_set_length</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>, <a class="code" href="group__DBusMessageInternals.html#gacbe0bfe7a9551ab0489a0ec9aba6e94e">INITIAL_LOADER_DATA_LEN</a>);</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;  <a class="code" href="group__DBusString.html#ga08c423b93c28dd746dcb93e0461ab95c">_dbus_string_set_length</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>, 0);</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;</div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;  loader-&gt;unix_fds = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;  loader-&gt;n_unix_fds = loader-&gt;n_unix_fds_allocated = 0;</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;  loader-&gt;unix_fds_outstanding = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;  <span class="keywordflow">return</span> loader;</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;}</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *</div><div class="line"><a name="l03911"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gad39efb9ff20c7538f12e164a6920edc4"> 3911</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gad39efb9ff20c7538f12e164a6920edc4">_dbus_message_loader_ref</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader)</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;{</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#af3372b7d574dab49a7435d8f29ea2258">refcount</a> += 1;</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;  <span class="keywordflow">return</span> loader;</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;}</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03925"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga51299aab1f5e0b2408ab858d3377b20c"> 3925</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga51299aab1f5e0b2408ab858d3377b20c">_dbus_message_loader_unref</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader)</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;{</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#af3372b7d574dab49a7435d8f29ea2258">refcount</a> -= 1;</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;  <span class="keywordflow">if</span> (loader-&gt;<a class="code" href="structDBusMessageLoader.html#af3372b7d574dab49a7435d8f29ea2258">refcount</a> == 0)</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;    {</div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;      close_unix_fds(loader-&gt;unix_fds, &amp;loader-&gt;n_unix_fds);</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;      <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a>(loader-&gt;unix_fds);</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;      <a class="code" href="group__DBusList.html#ga8dd69084b53361803a765e6d53d5b9d1">_dbus_list_foreach</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>,</div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;                          (<a class="code" href="group__DBusInternalsUtils.html#ga692fe3070eecaffa172266d2f138fd69">DBusForeachFunction</a>) <a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a>,</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;                          <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;      <a class="code" href="group__DBusList.html#gaa36d13444a050a923941c53650b72f9d">_dbus_list_clear</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>);</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;      <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>);</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;      <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a> (loader);</div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;    }</div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;}</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03962"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gae77f064b8034189a955d5be982d2fbdb"> 3962</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gae77f064b8034189a955d5be982d2fbdb">_dbus_message_loader_get_buffer</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>  *loader,</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;                                 <a class="code" href="structDBusString.html">DBusString</a>        **buffer)</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;{</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (!loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7fe926ecd87e9ddb37e7481195bc3d67">buffer_outstanding</a>);</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;  *buffer = &amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>;</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7fe926ecd87e9ddb37e7481195bc3d67">buffer_outstanding</a> = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;}</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03982"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gaf5cb6398adb9fe39560fe6aef69ebb09"> 3982</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gaf5cb6398adb9fe39560fe6aef69ebb09">_dbus_message_loader_return_buffer</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>  *loader,</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;                                    <a class="code" href="structDBusString.html">DBusString</a>         *buffer)</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;{</div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7fe926ecd87e9ddb37e7481195bc3d67">buffer_outstanding</a>);</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (buffer == &amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>);</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7fe926ecd87e9ddb37e7481195bc3d67">buffer_outstanding</a> = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;}</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l04002"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga4ed7327f9dee98711ebd7c9e5b74dec0"> 4002</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga4ed7327f9dee98711ebd7c9e5b74dec0">_dbus_message_loader_get_unix_fds</a>(<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>  *loader,</div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;                                  <span class="keywordtype">int</span>               **fds,</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;                                  <span class="keywordtype">unsigned</span>           *max_n_fds)</div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;{</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (!loader-&gt;unix_fds_outstanding);</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;</div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;  <span class="comment">/* Allocate space where we can put the fds we read. We allocate</span></div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;<span class="comment">     space for max_message_unix_fds since this is an</span></div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;<span class="comment">     upper limit how many fds can be received within a single</span></div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;<span class="comment">     message. Since SCM_RIGHTS doesn&#39;t allow a reallocate+retry logic</span></div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;<span class="comment">     we are allocating the maximum possible array size right from the</span></div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;<span class="comment">     beginning. This sucks a bit, however unless SCM_RIGHTS is fixed</span></div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;<span class="comment">     there is no better way. */</span></div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;  <span class="keywordflow">if</span> (loader-&gt;n_unix_fds_allocated &lt; loader-&gt;<a class="code" href="structDBusMessageLoader.html#a2134a617c0d631d946adee1f08443851">max_message_unix_fds</a>)</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;    {</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;      <span class="keywordtype">int</span> *a = <a class="code" href="group__DBusMemory.html#ga2d505f2960ccf343042d363170b27f9c">dbus_realloc</a>(loader-&gt;unix_fds,</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;                            loader-&gt;<a class="code" href="structDBusMessageLoader.html#a2134a617c0d631d946adee1f08443851">max_message_unix_fds</a> * <span class="keyword">sizeof</span>(loader-&gt;unix_fds[0]));</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;      <span class="keywordflow">if</span> (!a)</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;      loader-&gt;unix_fds = a;</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;      loader-&gt;n_unix_fds_allocated = loader-&gt;<a class="code" href="structDBusMessageLoader.html#a2134a617c0d631d946adee1f08443851">max_message_unix_fds</a>;</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;    }</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  *fds = loader-&gt;unix_fds + loader-&gt;n_unix_fds;</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;  *max_n_fds = loader-&gt;n_unix_fds_allocated - loader-&gt;n_unix_fds;</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;  loader-&gt;unix_fds_outstanding = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a>(<span class="stringliteral">&quot;Platform doesn&#39;t support unix fd passing&quot;</span>);</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;}</div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;</div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l04051"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga2bf4dd7eda1a539454486e127b75d7c3"> 4051</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga2bf4dd7eda1a539454486e127b75d7c3">_dbus_message_loader_return_unix_fds</a>(<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>  *loader,</div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;                                     <span class="keywordtype">int</span>                *fds,</div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;                                     <span class="keywordtype">unsigned</span>            n_fds)</div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;{</div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a>(loader-&gt;unix_fds_outstanding);</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a>(loader-&gt;unix_fds + loader-&gt;n_unix_fds == fds);</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a>(loader-&gt;n_unix_fds + n_fds &lt;= loader-&gt;n_unix_fds_allocated);</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;  loader-&gt;n_unix_fds += n_fds;</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;  loader-&gt;unix_fds_outstanding = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;  <span class="keywordflow">if</span> (n_fds &amp;&amp; loader-&gt;unix_fds_change)</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;    loader-&gt;unix_fds_change (loader-&gt;unix_fds_change_data);</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a>(<span class="stringliteral">&quot;Platform doesn&#39;t support unix fd passing&quot;</span>);</div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;}</div><div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;</div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;<span class="comment"> * FIXME when we move the header out of the buffer, that memmoves all</span></div><div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;<span class="comment"> * buffered messages. Kind of crappy.</span></div><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;<span class="comment"> * Also we copy the header and body, which is kind of crappy.  To</span></div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;<span class="comment"> * avoid this, we have to allow header and body to be in a single</span></div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;<span class="comment"> * memory block, which is good for messages we read and bad for</span></div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;<span class="comment"> * messages we are creating. But we could move_len() the buffer into</span></div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;<span class="comment"> * this single memory block, and move_len() will just swap the buffers</span></div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;<span class="comment"> * if you&#39;re moving the entire buffer replacing the dest string.</span></div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;<span class="comment"> * We could also have the message loader tell the transport how many</span></div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;<span class="comment"> * bytes to read; so it would first ask for some arbitrary number like</span></div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;<span class="comment"> * 256, then if the message was incomplete it would use the</span></div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;<span class="comment"> * header/body len to ask for exactly the size of the message (or</span></div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;<span class="comment"> * blocks the size of a typical kernel buffer for the socket). That</span></div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;<span class="comment"> * way we don&#39;t get trailing bytes in the buffer that have to be</span></div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;<span class="comment"> * memmoved. Though I suppose we also don&#39;t have a chance of reading a</span></div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;<span class="comment"> * bunch of small messages at once, so the optimization may be stupid.</span></div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;<span class="comment"> * Another approach would be to keep a &quot;start&quot; index into</span></div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;<span class="comment"> * loader-&gt;data and only delete it occasionally, instead of after</span></div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;<span class="comment"> * each message is loaded.</span></div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;<span class="comment"> * load_message() returns FALSE if not enough memory OR the loader was corrupted</span></div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;<span class="keyword">static</span> <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;load_message (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader,</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;              <a class="code" href="structDBusMessage.html">DBusMessage</a>       *message,</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;              <span class="keywordtype">int</span>                byte_order,</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;              <span class="keywordtype">int</span>                fields_array_len,</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;              <span class="keywordtype">int</span>                header_len,</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;              <span class="keywordtype">int</span>                body_len)</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;{</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> oom;</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a> validity;</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;  <span class="keyword">const</span> <a class="code" href="structDBusString.html">DBusString</a> *type_str;</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;  <span class="keywordtype">int</span> type_pos;</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;  <a class="code" href="group__DBusMarshal.html#gaf9dce059725fa793c44b219460cbbe6d">DBusValidationMode</a> mode;</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;  <a class="code" href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a> n_unix_fds = 0;</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;  mode = DBUS_VALIDATION_MODE_DATA_IS_UNTRUSTED;</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;  </div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;  oom = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;</div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga3926bb35edf78d114cf0c341fe3258e0">_dbus_verbose_bytes_of_string</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>, 0, header_len <span class="comment">/* + body_len */</span>);</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;  <span class="comment">/* 1. VALIDATE AND COPY OVER HEADER */</span></div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>.<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>) == 0);</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> ((header_len + body_len) &lt;= _dbus_string_get_length (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>));</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMarshal.html#ga0c3a3f95d9a53b91a0cd0b260196685b">_dbus_header_load</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;                          mode,</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;                          &amp;validity,</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;                          byte_order,</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;                          fields_array_len,</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;                          header_len,</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;                          body_len,</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;                          &amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>, 0,</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;                          _dbus_string_get_length (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>)))</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    {</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;Failed to load header for new message code %d\n&quot;</span>, validity);</div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;      <span class="comment">/* assert here so we can catch any code that still uses DBUS_VALID to indicate</span></div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;<span class="comment">         oom errors.  They should use DBUS_VALIDITY_UNKNOWN_OOM_ERROR instead */</span></div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (validity != <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>);</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;</div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;      <span class="keywordflow">if</span> (validity == <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007ca08cf1e84457c1f41acaf082de2060a65">DBUS_VALIDITY_UNKNOWN_OOM_ERROR</a>)</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;        oom = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;        {</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;          loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;          loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a> = validity;</div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;        }</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;      <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;    }</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (validity == <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>);</div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;</div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;  <span class="comment">/* 2. VALIDATE BODY */</span></div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;  <span class="keywordflow">if</span> (mode != DBUS_VALIDATION_MODE_WE_TRUST_THIS_DATA_ABSOLUTELY)</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    {</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;      get_const_signature (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>, &amp;type_str, &amp;type_pos);</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;      </div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;      <span class="comment">/* Because the bytes_remaining arg is NULL, this validates that the</span></div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;<span class="comment">       * body is the right length</span></div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;      validity = <a class="code" href="group__DBusMarshal.html#gae997884ec8091aacb5492c2b5a7eaef9">_dbus_validate_body_with_reason</a> (type_str,</div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;                                                  type_pos,</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;                                                  byte_order,</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;                                                  <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;                                                  &amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>,</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;                                                  header_len,</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;                                                  body_len);</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;      <span class="keywordflow">if</span> (validity != <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>)</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;        {</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;          _dbus_verbose (<span class="stringliteral">&quot;Failed to validate message body code %d\n&quot;</span>, validity);</div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;          loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;          loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a> = validity;</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;          </div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;          <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;        }</div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;    }</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;  <span class="comment">/* 3. COPY OVER UNIX FDS */</span></div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a>(&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;                               <a class="code" href="group__DBusProtocol.html#ga03b9c24acbfd1e3da19804c739612885">DBUS_HEADER_FIELD_UNIX_FDS</a>,</div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;                               <a class="code" href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a>,</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;                               &amp;n_unix_fds);</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;</div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;  <span class="keywordflow">if</span> (n_unix_fds &gt; loader-&gt;n_unix_fds)</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    {</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;      _dbus_verbose(<span class="stringliteral">&quot;Message contains references to more unix fds than were sent %u != %u\n&quot;</span>,</div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;                    n_unix_fds, loader-&gt;n_unix_fds);</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;      loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;      loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a> = DBUS_INVALID_MISSING_UNIX_FDS;</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;      <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;    }</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;  <span class="comment">/* If this was a recycled message there might still be</span></div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;<span class="comment">     some memory allocated for the fds */</span></div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;  <a class="code" href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a>(message-&gt;unix_fds);</div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;</div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;  <span class="keywordflow">if</span> (n_unix_fds &gt; 0)</div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;    {</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;      message-&gt;unix_fds = <a class="code" href="group__DBusInternalsUtils.html#gaad95864dca5140b730bc143cb2d1b024">_dbus_memdup</a>(loader-&gt;unix_fds, n_unix_fds * <span class="keyword">sizeof</span>(message-&gt;unix_fds[0]));</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;      <span class="keywordflow">if</span> (message-&gt;unix_fds == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;        {</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;          _dbus_verbose (<span class="stringliteral">&quot;Failed to allocate file descriptor array\n&quot;</span>);</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;          oom = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;          <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;        }</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;</div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;      message-&gt;n_unix_fds_allocated = message-&gt;n_unix_fds = n_unix_fds;</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;      loader-&gt;n_unix_fds -= n_unix_fds;</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;      memmove (loader-&gt;unix_fds, loader-&gt;unix_fds + n_unix_fds, loader-&gt;n_unix_fds * sizeof (loader-&gt;unix_fds[0]));</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;      <span class="keywordflow">if</span> (loader-&gt;unix_fds_change)</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;        loader-&gt;unix_fds_change (loader-&gt;unix_fds_change_data);</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;    }</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;    message-&gt;unix_fds = <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;</div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;  <span class="keywordflow">if</span> (n_unix_fds &gt; 0)</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;    {</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;Hmm, message claims to come with file descriptors &quot;</span></div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;                     <span class="stringliteral">&quot;but that&#39;s not supported on our platform, disconnecting.\n&quot;</span>);</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;      loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;      loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a> = DBUS_INVALID_MISSING_UNIX_FDS;</div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;      <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;    }</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;</div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;</div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;  <span class="comment">/* 3. COPY OVER BODY AND QUEUE MESSAGE */</span></div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusList.html#gad99045e79db46159babe69718f343053">_dbus_list_append</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>, message))</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;    {</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;Failed to append new message to loader queue\n&quot;</span>);</div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;      oom = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;      <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;    }</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>) == 0);</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_string_get_length (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>) &gt;=</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;                (header_len + body_len));</div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#gaf5f13bc7ac7a623516930d26ae2589bf">_dbus_string_copy_len</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>, header_len, body_len, &amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>, 0))</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;    {</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;Failed to move body into new message\n&quot;</span>);</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;      oom = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;      <span class="keywordflow">goto</span> failed;</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;    }</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;  <a class="code" href="group__DBusString.html#ga7e0e164ad5bb094e5ccad9edc7ae4235">_dbus_string_delete</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>, 0, header_len + body_len);</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;  <span class="comment">/* don&#39;t waste more than 2k of memory */</span></div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <a class="code" href="group__DBusString.html#gac49ec5782ca606029c096124b5e43ffc">_dbus_string_compact</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>, 2048);</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>.<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>) == header_len);</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (_dbus_string_get_length (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>) == body_len);</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;  _dbus_verbose (<span class="stringliteral">&quot;Loaded message %p\n&quot;</span>, message);</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (!oom);</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (!loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a>);</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a> != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusList.html#ga5929ad5253d2f538158e513e9df3002b">_dbus_list_find_last</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>, message) != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;</div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160; failed:</div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;  <span class="comment">/* Clean up */</span></div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;</div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;  <span class="comment">/* does nothing if the message isn&#39;t in the list */</span></div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;  <a class="code" href="group__DBusList.html#gad93f1fc853914144e94fc7a7dc0945aa">_dbus_list_remove_last</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>, message);</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;  </div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;  <span class="keywordflow">if</span> (oom)</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;    <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (!loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a>);</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;    <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a>);</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga3926bb35edf78d114cf0c341fe3258e0">_dbus_verbose_bytes_of_string</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>, 0, _dbus_string_get_length (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>));</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;}</div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;</div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l04302"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gaf55885371a6d022ec94c79bd7138923f"> 4302</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gaf55885371a6d022ec94c79bd7138923f">_dbus_message_loader_queue_messages</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader)</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;{</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;  <span class="keywordflow">while</span> (!loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> &amp;&amp;</div><div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;         _dbus_string_get_length (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>) &gt;= <a class="code" href="group__DBusProtocol.html#gaf8c13dd883c21b5dea179d77d8ac12e3">DBUS_MINIMUM_HEADER_SIZE</a>)</div><div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;    {</div><div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;      <a class="code" href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a> validity;</div><div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;      <span class="keywordtype">int</span> byte_order, fields_array_len, header_len, body_len;</div><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DBusMarshal.html#ga674d74081baf6e7531e0d4a286724210">_dbus_header_have_message_untrusted</a> (loader-&gt;<a class="code" href="structDBusMessageLoader.html#a174d67695b3aca6ee3bb8e1e5e033334">max_message_size</a>,</div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;                                               &amp;validity,</div><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;                                               &amp;byte_order,</div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;                                               &amp;fields_array_len,</div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;                                               &amp;header_len,</div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;                                               &amp;body_len,</div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;                                               &amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>, 0,</div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;                                               _dbus_string_get_length (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">data</a>)))</div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;        {</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;          <a class="code" href="structDBusMessage.html">DBusMessage</a> *<a class="code" href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">message</a>;</div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;</div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (validity == <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>);</div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;</div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;          message = dbus_message_new_empty_header ();</div><div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;          <span class="keywordflow">if</span> (message == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;</div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;          <span class="keywordflow">if</span> (!load_message (loader, message,</div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;                             byte_order, fields_array_len,</div><div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;                             header_len, body_len))</div><div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;            {</div><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;              <a class="code" href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a> (message);</div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;              <span class="comment">/* load_message() returns false if corrupted or OOM; if</span></div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;<span class="comment">               * corrupted then return TRUE for not OOM</span></div><div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;<span class="comment">               */</span></div><div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;              <span class="keywordflow">return</span> loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a>;</div><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;            }</div><div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;</div><div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a> != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;          <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (<a class="code" href="group__DBusList.html#ga5929ad5253d2f538158e513e9df3002b">_dbus_list_find_last</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>, message) != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;        }</div><div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;        {</div><div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;          _dbus_verbose (<span class="stringliteral">&quot;Initial peek at header says we don&#39;t have a whole message yet, or data broken with invalid code %d\n&quot;</span>,</div><div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;                         validity);</div><div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;          <span class="keywordflow">if</span> (validity != <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>)</div><div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;            {</div><div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;              loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> = <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;              loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a> = validity;</div><div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;            }</div><div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;        }</div><div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;    }</div><div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;</div><div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;}</div><div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;</div><div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a>*</div><div class="line"><a name="l04365"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga66674354acdd09ca6e11d600b34bdd5f"> 4365</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga66674354acdd09ca6e11d600b34bdd5f">_dbus_message_loader_peek_message</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader)</div><div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;{</div><div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;  <span class="keywordflow">if</span> (loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>)</div><div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;    <span class="keywordflow">return</span> loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>-&gt;<a class="code" href="structDBusList.html#a29ab457bcf9092252bb0c4282c727055">data</a>;</div><div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;}</div><div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;</div><div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a>*</div><div class="line"><a name="l04382"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga9e5e75716d7263d9908d45a60b1b6bdc"> 4382</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga9e5e75716d7263d9908d45a60b1b6bdc">_dbus_message_loader_pop_message</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader)</div><div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;{</div><div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusList.html#gacb96c9d3e9a869e63b8db4f8913a5a60">_dbus_list_pop_first</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>);</div><div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;}</div><div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;</div><div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;<a class="code" href="structDBusList.html">DBusList</a>*</div><div class="line"><a name="l04396"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga6ec3c1ad57340f717a47d79092122d04"> 4396</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga6ec3c1ad57340f717a47d79092122d04">_dbus_message_loader_pop_message_link</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader)</div><div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;{</div><div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusList.html#gaab9a957eca9bf5466bbf377a23b4b25c">_dbus_list_pop_first_link</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>);</div><div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;}</div><div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;</div><div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l04408"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga71b290eb470a55217971fcd6851fc40c"> 4408</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga71b290eb470a55217971fcd6851fc40c">_dbus_message_loader_putback_message_link</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>  *loader,</div><div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;                                           <a class="code" href="structDBusList.html">DBusList</a>           *link)</div><div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;{</div><div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;  <a class="code" href="group__DBusList.html#gab3dd068e3bd8a319c0d12150785050a7">_dbus_list_prepend_link</a> (&amp;loader-&gt;<a class="code" href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">messages</a>, link);</div><div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;}</div><div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;</div><div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l04424"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga38da52ac9344b00df530098bdd9a3842"> 4424</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga38da52ac9344b00df530098bdd9a3842">_dbus_message_loader_get_is_corrupted</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader)</div><div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;{</div><div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> ((loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> &amp;&amp; loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a> != <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>) ||</div><div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;                (!loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> &amp;&amp; loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a> == <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>));</div><div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;  <span class="keywordflow">return</span> loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a>;</div><div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;}</div><div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;</div><div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;<a class="code" href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a></div><div class="line"><a name="l04438"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gafb8c42ed5242274586607812ff6fba10"> 4438</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gafb8c42ed5242274586607812ff6fba10">_dbus_message_loader_get_corruption_reason</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader)</div><div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;{</div><div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;  <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> ((loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> &amp;&amp; loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a> != <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>) ||</div><div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;                (!loader-&gt;<a class="code" href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">corrupted</a> &amp;&amp; loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a> == <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>));</div><div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;</div><div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;  <span class="keywordflow">return</span> loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a>;</div><div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;}</div><div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;</div><div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l04453"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga031623c6235f98801cab3e53f0a5f757"> 4453</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga031623c6235f98801cab3e53f0a5f757">_dbus_message_loader_set_max_message_size</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>  *loader,</div><div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;                                           <span class="keywordtype">long</span>                size)</div><div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;{</div><div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;  <span class="keywordflow">if</span> (size &gt; <a class="code" href="group__DBusProtocol.html#ga2874c299e1c87fe745ef09bf231264e9">DBUS_MAXIMUM_MESSAGE_LENGTH</a>)</div><div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;    {</div><div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;clamping requested max message size %ld to %d\n&quot;</span>,</div><div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;                     size, <a class="code" href="group__DBusProtocol.html#ga2874c299e1c87fe745ef09bf231264e9">DBUS_MAXIMUM_MESSAGE_LENGTH</a>);</div><div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;      size = <a class="code" href="group__DBusProtocol.html#ga2874c299e1c87fe745ef09bf231264e9">DBUS_MAXIMUM_MESSAGE_LENGTH</a>;</div><div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;    }</div><div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#a174d67695b3aca6ee3bb8e1e5e033334">max_message_size</a> = size;</div><div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;}</div><div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;</div><div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;<span class="keywordtype">long</span></div><div class="line"><a name="l04472"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gadd76a4b7191465f2dcb8e6b56b717961"> 4472</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gadd76a4b7191465f2dcb8e6b56b717961">_dbus_message_loader_get_max_message_size</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>  *loader)</div><div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;{</div><div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;  <span class="keywordflow">return</span> loader-&gt;<a class="code" href="structDBusMessageLoader.html#a174d67695b3aca6ee3bb8e1e5e033334">max_message_size</a>;</div><div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;}</div><div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;</div><div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l04484"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gadd6c0fa721b4340df936363fbde912dc"> 4484</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gadd6c0fa721b4340df936363fbde912dc">_dbus_message_loader_set_max_message_unix_fds</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>  *loader,</div><div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;                                               <span class="keywordtype">long</span>                n)</div><div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;{</div><div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;  <span class="keywordflow">if</span> (n &gt; <a class="code" href="group__DBusProtocol.html#ga2735432928240c083c72a5f5d23ec6a1">DBUS_MAXIMUM_MESSAGE_UNIX_FDS</a>)</div><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;    {</div><div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;      _dbus_verbose (<span class="stringliteral">&quot;clamping requested max message unix_fds %ld to %d\n&quot;</span>,</div><div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;                     n, <a class="code" href="group__DBusProtocol.html#ga2735432928240c083c72a5f5d23ec6a1">DBUS_MAXIMUM_MESSAGE_UNIX_FDS</a>);</div><div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;      n = <a class="code" href="group__DBusProtocol.html#ga2735432928240c083c72a5f5d23ec6a1">DBUS_MAXIMUM_MESSAGE_UNIX_FDS</a>;</div><div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    }</div><div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;  loader-&gt;<a class="code" href="structDBusMessageLoader.html#a2134a617c0d631d946adee1f08443851">max_message_unix_fds</a> = n;</div><div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;}</div><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;<span class="keywordtype">long</span></div><div class="line"><a name="l04503"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#gaf65867d15c7d8adb91f430c483c180be"> 4503</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gaf65867d15c7d8adb91f430c483c180be">_dbus_message_loader_get_max_message_unix_fds</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a>  *loader)</div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;{</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;  <span class="keywordflow">return</span> loader-&gt;<a class="code" href="structDBusMessageLoader.html#a2134a617c0d631d946adee1f08443851">max_message_unix_fds</a>;</div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;}</div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l04514"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga8e01aad6af940ec4051703f59330da37"> 4514</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga8e01aad6af940ec4051703f59330da37">_dbus_message_loader_get_pending_fds_count</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader)</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;{</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;  <span class="keywordflow">return</span> loader-&gt;n_unix_fds;</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;}</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;</div><div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l04532"></a><span class="lineno"><a class="line" href="group__DBusMessageInternals.html#ga658a91d8efc59934016fae6905bfc4bf"> 4532</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga658a91d8efc59934016fae6905bfc4bf">_dbus_message_loader_set_pending_fds_function</a> (<a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader,</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;                                               <span class="keywordtype">void</span> (* callback) (<span class="keywordtype">void</span> *),</div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;                                               <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;{</div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;<span class="preprocessor">#ifdef HAVE_UNIX_FD_PASSING</span></div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;  loader-&gt;unix_fds_change = callback;</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;  loader-&gt;unix_fds_change_data = data;</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;}</div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;</div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;<span class="keyword">static</span> <a class="code" href="structDBusDataSlotAllocator.html">DBusDataSlotAllocator</a> slot_allocator =</div><div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;  _DBUS_DATA_SLOT_ALLOCATOR_INIT (<a class="code" href="group__DBusInternalsUtils.html#gade571435b55fae64217f5142aa78ee8d">_DBUS_LOCK_NAME</a> (message_slots));</div><div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;</div><div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l04560"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gafdde8db1152649d37c9f7e316ca59e56"> 4560</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga537b3456202fdd9f305666504bde98fb">dbus_message_allocate_data_slot</a> (<a class="code" href="group__DBusTypes.html#gab18afa60e9b17b6e322735bda3d863d8">dbus_int32_t</a> *slot_p)</div><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;{</div><div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusDataSlot.html#gaf61f2bd0148bace4f67a2d6d97b26ea9">_dbus_data_slot_allocator_alloc</a> (&amp;slot_allocator,</div><div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;                                          slot_p);</div><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;}</div><div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;</div><div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l04578"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga23227ce2bd5c52d05581d3fe1232ae66"> 4578</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gac7a5ba135e1aec4ad8c7b43752af02e1">dbus_message_free_data_slot</a> (<a class="code" href="group__DBusTypes.html#gab18afa60e9b17b6e322735bda3d863d8">dbus_int32_t</a> *slot_p)</div><div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;{</div><div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;  _dbus_return_if_fail (*slot_p &gt;= 0);</div><div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;</div><div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;  <a class="code" href="group__DBusDataSlot.html#ga059c50a24cd9fc984e918e6159841633">_dbus_data_slot_allocator_free</a> (&amp;slot_allocator, slot_p);</div><div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;}</div><div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;</div><div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l04599"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga29331c4e9c2d53cbe60382056f6495a1"> 4599</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga69d0bc701f9ca935e6de8a3f3e376c0a">dbus_message_set_data</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>     *message,</div><div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;                       <a class="code" href="group__DBusTypes.html#gab18afa60e9b17b6e322735bda3d863d8">dbus_int32_t</a>     slot,</div><div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;                       <span class="keywordtype">void</span>            *data,</div><div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;                       <a class="code" href="group__DBusMemory.html#ga061bcded226d76c7d7de35beaa165cb5">DBusFreeFunction</a> free_data_func)</div><div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;{</div><div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;  <a class="code" href="group__DBusMemory.html#ga061bcded226d76c7d7de35beaa165cb5">DBusFreeFunction</a> old_free_func;</div><div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;  <span class="keywordtype">void</span> *old_data;</div><div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> retval;</div><div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;</div><div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;  _dbus_return_val_if_fail (slot &gt;= 0, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;</div><div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;  retval = <a class="code" href="group__DBusDataSlot.html#gad2952f9f686d96e7114fc49ab7452e1a">_dbus_data_slot_list_set</a> (&amp;slot_allocator,</div><div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;                                     &amp;message-&gt;<a class="code" href="structDBusMessage.html#a179c446523c6321e04f88a671363be19">slot_list</a>,</div><div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;                                     slot, data, free_data_func,</div><div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;                                     &amp;old_free_func, &amp;old_data);</div><div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;</div><div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;  <span class="keywordflow">if</span> (retval)</div><div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;    {</div><div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;      <span class="comment">/* Do the actual free outside the message lock */</span></div><div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;      <span class="keywordflow">if</span> (old_free_func)</div><div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;        (* old_free_func) (old_data);</div><div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;    }</div><div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;</div><div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;  <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;}</div><div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;</div><div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;<span class="keywordtype">void</span>*</div><div class="line"><a name="l04635"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gabbde522fe2321618ee39df1a028a2ec6"> 4635</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga62769bfaf8f1b2edc7922c579bc0649d">dbus_message_get_data</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>   *message,</div><div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;                       <a class="code" href="group__DBusTypes.html#gab18afa60e9b17b6e322735bda3d863d8">dbus_int32_t</a>   slot)</div><div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;{</div><div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;  <span class="keywordtype">void</span> *res;</div><div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;</div><div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;</div><div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;  res = <a class="code" href="group__DBusDataSlot.html#ga43f741229f0c38788442601e2750ec66">_dbus_data_slot_list_get</a> (&amp;slot_allocator,</div><div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;                                  &amp;message-&gt;<a class="code" href="structDBusMessage.html#a179c446523c6321e04f88a671363be19">slot_list</a>,</div><div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;                                  slot);</div><div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;</div><div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;  <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;}</div><div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;</div><div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l04663"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gabc69747028f1e5adedc68f5ffd538c74"> 4663</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga40412bdfc6ba9cf9e167db4c23df0a7e">dbus_message_type_from_string</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *type_str)</div><div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;{</div><div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;  <span class="keywordflow">if</span> (strcmp (type_str, <span class="stringliteral">&quot;method_call&quot;</span>) == 0)</div><div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusProtocol.html#ga09416afd76b65139eddd31e1085d9ebf">DBUS_MESSAGE_TYPE_METHOD_CALL</a>;</div><div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;  <span class="keywordflow">if</span> (strcmp (type_str, <span class="stringliteral">&quot;method_return&quot;</span>) == 0)</div><div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusProtocol.html#ga4a9012edd7f22342f845e98150aeb858">DBUS_MESSAGE_TYPE_METHOD_RETURN</a>;</div><div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp (type_str, <span class="stringliteral">&quot;signal&quot;</span>) == 0)</div><div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusProtocol.html#ga728d893ff0c00e126517ba39835220a5">DBUS_MESSAGE_TYPE_SIGNAL</a>;</div><div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp (type_str, <span class="stringliteral">&quot;error&quot;</span>) == 0)</div><div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusProtocol.html#ga2b9423d95066313d73eeea8eeaf86812">DBUS_MESSAGE_TYPE_ERROR</a>;</div><div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusProtocol.html#gac975525a6ce258a7a70c583c9741b516">DBUS_MESSAGE_TYPE_INVALID</a>;</div><div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;}</div><div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;</div><div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *</div><div class="line"><a name="l04691"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga13f28b9d8b321baa4536f820a359c092"> 4691</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga75bcb613a291eb7e427f77f2f3635b8f">dbus_message_type_to_string</a> (<span class="keywordtype">int</span> type)</div><div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;{</div><div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;  <span class="keywordflow">switch</span> (type)</div><div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;    {</div><div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga09416afd76b65139eddd31e1085d9ebf">DBUS_MESSAGE_TYPE_METHOD_CALL</a>:</div><div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;method_call&quot;</span>;</div><div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga4a9012edd7f22342f845e98150aeb858">DBUS_MESSAGE_TYPE_METHOD_RETURN</a>:</div><div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;method_return&quot;</span>;</div><div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga728d893ff0c00e126517ba39835220a5">DBUS_MESSAGE_TYPE_SIGNAL</a>:</div><div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;signal&quot;</span>;</div><div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__DBusProtocol.html#ga2b9423d95066313d73eeea8eeaf86812">DBUS_MESSAGE_TYPE_ERROR</a>:</div><div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;error&quot;</span>;</div><div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;invalid&quot;</span>;</div><div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;    }</div><div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;}</div><div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;</div><div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l04721"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga3f90a918ada328450fcfe9ac403b8807"> 4721</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gad85c737f9e7d03005d6028d6bbae7e87">dbus_message_marshal</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a>  *msg,</div><div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;                      <span class="keywordtype">char</span>        **marshalled_data_p,</div><div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;                      <span class="keywordtype">int</span>          *len_p)</div><div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;{</div><div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;  <a class="code" href="structDBusString.html">DBusString</a> tmp;</div><div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> was_locked;</div><div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;</div><div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;  _dbus_return_val_if_fail (msg != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;  _dbus_return_val_if_fail (marshalled_data_p != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;  _dbus_return_val_if_fail (len_p != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;  </div><div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga348252317f7bb8ac43529972945830ae">_dbus_string_init</a> (&amp;tmp))</div><div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;</div><div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;  <span class="comment">/* Ensure the message is locked, to ensure the length header is filled in. */</span></div><div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;  was_locked = msg-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>;</div><div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;</div><div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;  <span class="keywordflow">if</span> (!was_locked)</div><div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;    <a class="code" href="group__DBusMessageInternals.html#ga3ecc9c24381af05289161f477ad6a578">dbus_message_lock</a> (msg);</div><div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;</div><div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga3c10f0d1bcaa3b450025b9c6a8b901d7">_dbus_string_copy</a> (&amp;(msg-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>.<a class="code" href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">data</a>), 0, &amp;tmp, 0))</div><div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;</div><div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;  *len_p = _dbus_string_get_length (&amp;tmp);</div><div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;</div><div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga3c10f0d1bcaa3b450025b9c6a8b901d7">_dbus_string_copy</a> (&amp;(msg-&gt;<a class="code" href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">body</a>), 0, &amp;tmp, *len_p))</div><div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;</div><div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;  *len_p = _dbus_string_get_length (&amp;tmp);</div><div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;</div><div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusString.html#ga556cc30c3ab032dbc63e217119f0d1f5">_dbus_string_steal_data</a> (&amp;tmp, marshalled_data_p))</div><div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;</div><div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;  <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (&amp;tmp);</div><div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;</div><div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;  <span class="keywordflow">if</span> (!was_locked)</div><div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;    msg-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a> = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;</div><div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;</div><div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160; fail:</div><div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;  <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (&amp;tmp);</div><div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;</div><div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;  <span class="keywordflow">if</span> (!was_locked)</div><div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;    msg-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a> = <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;</div><div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;}</div><div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;</div><div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;<a class="code" href="structDBusMessage.html">DBusMessage</a> *</div><div class="line"><a name="l04783"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga54242692a860bc712bda120ccee3535f"> 4783</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga776fe8b5cd935d642875efa1d13a31b3">dbus_message_demarshal</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *str,</div><div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;                        <span class="keywordtype">int</span>         len,</div><div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;                        <a class="code" href="structDBusError.html">DBusError</a>  *error)</div><div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;{</div><div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;  <a class="code" href="structDBusMessageLoader.html">DBusMessageLoader</a> *loader;</div><div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;  <a class="code" href="structDBusString.html">DBusString</a> *buffer;</div><div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;  <a class="code" href="structDBusMessage.html">DBusMessage</a> *msg;</div><div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;</div><div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;  _dbus_return_val_if_fail (str != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;</div><div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;  loader = <a class="code" href="group__DBusMessageInternals.html#ga66f1c10cf909ba09ed732bc125ff8671">_dbus_message_loader_new</a> ();</div><div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;</div><div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;  <span class="keywordflow">if</span> (loader == <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;</div><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;  <a class="code" href="group__DBusMessageInternals.html#gae77f064b8034189a955d5be982d2fbdb">_dbus_message_loader_get_buffer</a> (loader, &amp;buffer);</div><div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;  <a class="code" href="group__DBusString.html#ga724656b7091b910965bd1af42d0b7bab">_dbus_string_append_len</a> (buffer, str, len);</div><div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;  <a class="code" href="group__DBusMessageInternals.html#gaf5cb6398adb9fe39560fe6aef69ebb09">_dbus_message_loader_return_buffer</a> (loader, buffer);</div><div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;</div><div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="group__DBusMessageInternals.html#gaf55885371a6d022ec94c79bd7138923f">_dbus_message_loader_queue_messages</a> (loader))</div><div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;    <span class="keywordflow">goto</span> fail_oom;</div><div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;</div><div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__DBusMessageInternals.html#ga38da52ac9344b00df530098bdd9a3842">_dbus_message_loader_get_is_corrupted</a> (loader))</div><div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;    <span class="keywordflow">goto</span> fail_corrupt;</div><div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;</div><div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;  msg = <a class="code" href="group__DBusMessageInternals.html#ga9e5e75716d7263d9908d45a60b1b6bdc">_dbus_message_loader_pop_message</a> (loader);</div><div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;</div><div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;  <span class="keywordflow">if</span> (!msg)</div><div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;    <span class="keywordflow">goto</span> fail_oom;</div><div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;</div><div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;  <a class="code" href="group__DBusMessageInternals.html#ga51299aab1f5e0b2408ab858d3377b20c">_dbus_message_loader_unref</a> (loader);</div><div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;  <span class="keywordflow">return</span> msg;</div><div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;</div><div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160; fail_corrupt:</div><div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;  <a class="code" href="group__DBusErrors.html#ga89d2ad4bde21f9e0057fac07a79885e3">dbus_set_error</a> (error, <a class="code" href="group__DBusProtocol.html#gacf5321b161193ad66d5bdf5c910a9792">DBUS_ERROR_INVALID_ARGS</a>, <span class="stringliteral">&quot;Message is corrupted (%s)&quot;</span>,</div><div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;                  _dbus_validity_to_error_message (loader-&gt;<a class="code" href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">corruption_reason</a>));</div><div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;  <a class="code" href="group__DBusMessageInternals.html#ga51299aab1f5e0b2408ab858d3377b20c">_dbus_message_loader_unref</a> (loader);</div><div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;</div><div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160; fail_oom:</div><div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;  _DBUS_SET_OOM (error);</div><div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;  <a class="code" href="group__DBusMessageInternals.html#ga51299aab1f5e0b2408ab858d3377b20c">_dbus_message_loader_unref</a> (loader);</div><div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;}</div><div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;</div><div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;<span class="keywordtype">int</span> </div><div class="line"><a name="l04841"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#ga67b26fd2c8e3305f3a467a5f3e36b24a"> 4841</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gab0f8d8a640413e7c9b6c8f154acfbd1a">dbus_message_demarshal_bytes_needed</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *buf, </div><div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;                                    <span class="keywordtype">int</span>         len)</div><div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;{</div><div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;  <a class="code" href="structDBusString.html">DBusString</a> str;</div><div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;  <span class="keywordtype">int</span> byte_order, fields_array_len, header_len, body_len;</div><div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;  <a class="code" href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a> validity = <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>;</div><div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;  <span class="keywordtype">int</span> have_message;</div><div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;</div><div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;  <span class="keywordflow">if</span> (!buf || len &lt; <a class="code" href="group__DBusProtocol.html#gaf8c13dd883c21b5dea179d77d8ac12e3">DBUS_MINIMUM_HEADER_SIZE</a>)</div><div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;</div><div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;  <span class="keywordflow">if</span> (len &gt; <a class="code" href="group__DBusProtocol.html#ga2874c299e1c87fe745ef09bf231264e9">DBUS_MAXIMUM_MESSAGE_LENGTH</a>)</div><div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    len = <a class="code" href="group__DBusProtocol.html#ga2874c299e1c87fe745ef09bf231264e9">DBUS_MAXIMUM_MESSAGE_LENGTH</a>;</div><div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;  <a class="code" href="group__DBusString.html#ga6792a5c1725faa9d635d95f7a3b5bfae">_dbus_string_init_const_len</a> (&amp;str, buf, len);</div><div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;  </div><div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;  validity = <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>;</div><div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;  have_message</div><div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;    = <a class="code" href="group__DBusMarshal.html#ga674d74081baf6e7531e0d4a286724210">_dbus_header_have_message_untrusted</a>(<a class="code" href="group__DBusProtocol.html#ga2874c299e1c87fe745ef09bf231264e9">DBUS_MAXIMUM_MESSAGE_LENGTH</a>,</div><div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;                                          &amp;validity, &amp;byte_order,</div><div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;                                          &amp;fields_array_len,</div><div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;                                          &amp;header_len,</div><div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;                                          &amp;body_len,</div><div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;                                          &amp;str, 0,</div><div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;                                          len);</div><div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;  <a class="code" href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a> (&amp;str);</div><div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;</div><div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;  <span class="keywordflow">if</span> (validity == <a class="code" href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a>)</div><div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;    {</div><div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;      <a class="code" href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a> (have_message || (header_len + body_len) &gt; len);</div><div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;      (void) have_message; <span class="comment">/* unused unless asserting */</span></div><div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;      <span class="keywordflow">return</span> header_len + body_len;</div><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;    }</div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;    {</div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;      <span class="keywordflow">return</span> -1; <span class="comment">/* broken! */</span></div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    }</div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;}</div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;</div><div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l04901"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gae734e7f4079375a0256d9e7f855ec4e4"> 4901</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#ga8955cc5a3fcc905230b9afc05e4b1470">dbus_message_set_allow_interactive_authorization</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message,</div><div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;                                                  <a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a>  allow)</div><div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;{</div><div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;  _dbus_return_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;  _dbus_return_if_fail (!message-&gt;<a class="code" href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">locked</a>);</div><div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;</div><div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;  <a class="code" href="group__DBusMarshal.html#gad2073f8f2f2ba3b710aa929dced34cc3">_dbus_header_toggle_flag</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;                            <a class="code" href="group__DBusProtocol.html#ga9e3539506c57a085ce40ca4dc919015b">DBUS_HEADER_FLAG_ALLOW_INTERACTIVE_AUTHORIZATION</a>,</div><div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;                            allow);</div><div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;}</div><div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;</div><div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;<a class="code" href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="line"><a name="l04919"></a><span class="lineno"><a class="line" href="group__DBusMessage.html#gae9daa615b732c27d690399cc32e1f5b9"> 4919</a></span>&#160;<a class="code" href="group__DBusMessageInternals.html#gafc4b23ac32a763afa783b2a07143731b">dbus_message_get_allow_interactive_authorization</a> (<a class="code" href="structDBusMessage.html">DBusMessage</a> *message)</div><div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;{</div><div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;  _dbus_return_val_if_fail (message != <a class="code" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;</div><div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__DBusMarshal.html#ga56619efed3088554b8760edd246b4157">_dbus_header_get_flag</a> (&amp;message-&gt;<a class="code" href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">header</a>,</div><div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;                                <a class="code" href="group__DBusProtocol.html#ga9e3539506c57a085ce40ca4dc919015b">DBUS_HEADER_FLAG_ALLOW_INTERACTIVE_AUTHORIZATION</a>);</div><div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;}</div><div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;</div><div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;<span class="comment">/* tests in dbus-message-util.c */</span></div><div class="ttc" id="group__DBusSignature_html_ga2f89962cbd33e4ad843824157bae2093"><div class="ttname"><a href="group__DBusSignature.html#ga2f89962cbd33e4ad843824157bae2093">dbus_type_is_fixed</a></div><div class="ttdeci">dbus_bool_t dbus_type_is_fixed(int typecode)</div><div class="ttdoc">Tells you whether values of this type can change length if you set them to some other value...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-signature_8c_source.html#l00349">dbus-signature.c:349</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gae9a65c05e58ace9c83352f65af2fe745"><div class="ttname"><a href="group__DBusMarshal.html#gae9a65c05e58ace9c83352f65af2fe745">_dbus_type_reader_read_fixed_multi</a></div><div class="ttdeci">void _dbus_type_reader_read_fixed_multi(const DBusTypeReader *reader, void *value, int *n_elements)</div><div class="ttdoc">Reads a block of fixed-length basic values, from the current point in an array to the end of the arra...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00923">dbus-marshal-recursive.c:923</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga40412bdfc6ba9cf9e167db4c23df0a7e"><div class="ttname"><a href="group__DBusMessageInternals.html#ga40412bdfc6ba9cf9e167db4c23df0a7e">dbus_message_type_from_string</a></div><div class="ttdeci">int dbus_message_type_from_string(const char *type_str)</div><div class="ttdoc">Utility function to convert a machine-readable (not translated) string into a D-Bus message type...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04663">dbus-message.c:4663</a></div></div>
<div class="ttc" id="group__DBusTypes_html_gaf513803b030613a669cc7ef199f90a8b"><div class="ttname"><a href="group__DBusTypes.html#gaf513803b030613a669cc7ef199f90a8b">dbus_uint32_t</a></div><div class="ttdeci">unsigned int dbus_uint32_t</div><div class="ttdoc">A 32-bit unsigned integer on all platforms. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-arch-deps_8h_source.html#l00043">dbus-arch-deps.h:43</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga834035e4817acd64adc8ca584bdf3982"><div class="ttname"><a href="group__DBusMessage.html#ga834035e4817acd64adc8ca584bdf3982">dbus_message_ref</a></div><div class="ttdeci">DBusMessage * dbus_message_ref(DBusMessage *message)</div><div class="ttdoc">Increments the reference count of a DBusMessage. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01667">dbus-message.c:1667</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga3ecc9c24381af05289161f477ad6a578"><div class="ttname"><a href="group__DBusMessageInternals.html#ga3ecc9c24381af05289161f477ad6a578">dbus_message_lock</a></div><div class="ttdeci">void dbus_message_lock(DBusMessage *message)</div><div class="ttdoc">Locks a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00384">dbus-message.c:384</a></div></div>
<div class="ttc" id="structDBusError_html_afb559175326de5b6b340e26204e92d72"><div class="ttname"><a href="structDBusError.html#afb559175326de5b6b340e26204e92d72">DBusError::message</a></div><div class="ttdeci">const char * message</div><div class="ttdoc">public error message field </div><div class="ttdef"><b>Definition:</b> <a href="dbus-errors_8h_source.html#l00051">dbus-errors.h:51</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gad2c87d3472bd3bfa8eca8a97f2db026b"><div class="ttname"><a href="group__DBusMessage.html#gad2c87d3472bd3bfa8eca8a97f2db026b">dbus_message_has_path</a></div><div class="ttdeci">dbus_bool_t dbus_message_has_path(DBusMessage *message, const char *path)</div><div class="ttdoc">Checks if the message has a particular object path. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03120">dbus-message.c:3120</a></div></div>
<div class="ttc" id="group__DBusSysdeps_html_ga626c810359ba0e362367ce2ec6691aca"><div class="ttname"><a href="group__DBusSysdeps.html#ga626c810359ba0e362367ce2ec6691aca">_dbus_atomic_get</a></div><div class="ttdeci">dbus_int32_t _dbus_atomic_get(DBusAtomic *atomic)</div><div class="ttdoc">Atomically get the value of an integer. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-sysdeps-unix_8c_source.html#l02609">dbus-sysdeps-unix.c:2609</a></div></div>
<div class="ttc" id="structDBusMessage_html_a5d102e908f6ff96a5a0aa6a39b4963a8"><div class="ttname"><a href="structDBusMessage.html#a5d102e908f6ff96a5a0aa6a39b4963a8">DBusMessage::changed_stamp</a></div><div class="ttdeci">dbus_uint32_t changed_stamp</div><div class="ttdoc">Incremented when iterators are invalidated. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00116">dbus-message-private.h:116</a></div></div>
<div class="ttc" id="group__DBusMacros_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdoc">A null pointer, defined appropriately for C or C++. </div></div>
<div class="ttc" id="group__DBusMessage_html_gad8bd4730941af47d8d0f9c9b00562a44"><div class="ttname"><a href="group__DBusMessage.html#gad8bd4730941af47d8d0f9c9b00562a44">dbus_message_is_method_call</a></div><div class="ttdeci">dbus_bool_t dbus_message_is_method_call(DBusMessage *message, const char *iface, const char *method)</div><div class="ttdoc">Checks whether the message is a method call with the given interface and member fields. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03602">dbus-message.c:3602</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0c3a3f95d9a53b91a0cd0b260196685b"><div class="ttname"><a href="group__DBusMarshal.html#ga0c3a3f95d9a53b91a0cd0b260196685b">_dbus_header_load</a></div><div class="ttdeci">dbus_bool_t _dbus_header_load(DBusHeader *header, DBusValidationMode mode, DBusValidity *validity, int byte_order, int fields_array_len, int header_len, int body_len, const DBusString *str, int start, int len)</div><div class="ttdoc">Creates a message header from potentially-untrusted data. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00970">dbus-marshal-header.c:970</a></div></div>
<div class="ttc" id="group__DBusMemory_html_ga061bcded226d76c7d7de35beaa165cb5"><div class="ttname"><a href="group__DBusMemory.html#ga061bcded226d76c7d7de35beaa165cb5">DBusFreeFunction</a></div><div class="ttdeci">void(* DBusFreeFunction)(void *memory)</div><div class="ttdoc">The type of a function which frees a block of memory. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-memory_8h_source.html#l00064">dbus-memory.h:64</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gadd76a4b7191465f2dcb8e6b56b717961"><div class="ttname"><a href="group__DBusMessageInternals.html#gadd76a4b7191465f2dcb8e6b56b717961">_dbus_message_loader_get_max_message_size</a></div><div class="ttdeci">long _dbus_message_loader_get_max_message_size(DBusMessageLoader *loader)</div><div class="ttdoc">Gets the maximum allowed message size in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04472">dbus-message.c:4472</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga0e86aeb2dc6831ccc9a21fcbf8cc16f7"><div class="ttname"><a href="group__DBusMessage.html#ga0e86aeb2dc6831ccc9a21fcbf8cc16f7">dbus_message_set_no_reply</a></div><div class="ttdeci">void dbus_message_set_no_reply(DBusMessage *message, dbus_bool_t no_reply)</div><div class="ttdoc">Sets a flag indicating that the message does not want a reply; if this flag is set, the other end of the connection may (but is not required to) optimize by not sending method return or error replies. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02984">dbus-message.c:2984</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga71b290eb470a55217971fcd6851fc40c"><div class="ttname"><a href="group__DBusMessageInternals.html#ga71b290eb470a55217971fcd6851fc40c">_dbus_message_loader_putback_message_link</a></div><div class="ttdeci">void _dbus_message_loader_putback_message_link(DBusMessageLoader *loader, DBusList *link)</div><div class="ttdoc">Returns a popped message link, used to undo a pop. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04408">dbus-message.c:4408</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0d5aad82f8bf5a314dcf3f70930e254b"><div class="ttname"><a href="group__DBusMarshal.html#ga0d5aad82f8bf5a314dcf3f70930e254b">_dbus_header_copy</a></div><div class="ttdeci">dbus_bool_t _dbus_header_copy(const DBusHeader *header, DBusHeader *dest)</div><div class="ttdoc">Initializes dest with a copy of the given header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00490">dbus-marshal-header.c:490</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga5aae3c882a75aed953d8b3d489e9b271"><div class="ttname"><a href="group__DBusMessage.html#ga5aae3c882a75aed953d8b3d489e9b271">dbus_message_iter_get_arg_type</a></div><div class="ttdeci">int dbus_message_iter_get_arg_type(DBusMessageIter *iter)</div><div class="ttdoc">Returns the argument type of the argument that the message iterator points to. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02139">dbus-message.c:2139</a></div></div>
<div class="ttc" id="structDBusMessageRealIter_html_a93789e6f814d55b5952fee34d286f6d6"><div class="ttname"><a href="structDBusMessageRealIter.html#a93789e6f814d55b5952fee34d286f6d6">DBusMessageRealIter::sig_refcount</a></div><div class="ttdeci">dbus_uint32_t sig_refcount</div><div class="ttdoc">depth of open_signature() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00131">dbus-message.c:131</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gaf5cb6398adb9fe39560fe6aef69ebb09"><div class="ttname"><a href="group__DBusMessageInternals.html#gaf5cb6398adb9fe39560fe6aef69ebb09">_dbus_message_loader_return_buffer</a></div><div class="ttdeci">void _dbus_message_loader_return_buffer(DBusMessageLoader *loader, DBusString *buffer)</div><div class="ttdoc">Returns a buffer obtained from _dbus_message_loader_get_buffer(), indicating to the loader how many b...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03982">dbus-message.c:3982</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga34d675b57c7e6569707d22ba76ae010c"><div class="ttname"><a href="group__DBusMarshal.html#ga34d675b57c7e6569707d22ba76ae010c">_dbus_type_writer_remove_types</a></div><div class="ttdeci">void _dbus_type_writer_remove_types(DBusTypeWriter *writer)</div><div class="ttdoc">Removes type string from the writer. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l01560">dbus-marshal-recursive.c:1560</a></div></div>
<div class="ttc" id="group__DBusMemory_html_ga2d505f2960ccf343042d363170b27f9c"><div class="ttname"><a href="group__DBusMemory.html#ga2d505f2960ccf343042d363170b27f9c">dbus_realloc</a></div><div class="ttdeci">void * dbus_realloc(void *memory, size_t bytes)</div><div class="ttdoc">Resizes a block of memory previously allocated by dbus_malloc() or dbus_malloc0(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-memory_8c_source.html#l00601">dbus-memory.c:601</a></div></div>
<div class="ttc" id="group__DBusMemory_html_ga34e666b19b015035a9a31e53da84b39a"><div class="ttname"><a href="group__DBusMemory.html#ga34e666b19b015035a9a31e53da84b39a">dbus_free</a></div><div class="ttdeci">void dbus_free(void *memory)</div><div class="ttdoc">Frees a block of memory previously allocated by dbus_malloc() or dbus_malloc0(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-memory_8c_source.html#l00701">dbus-memory.c:701</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga2bf4dd7eda1a539454486e127b75d7c3"><div class="ttname"><a href="group__DBusMessageInternals.html#ga2bf4dd7eda1a539454486e127b75d7c3">_dbus_message_loader_return_unix_fds</a></div><div class="ttdeci">void _dbus_message_loader_return_unix_fds(DBusMessageLoader *loader, int *fds, unsigned n_fds)</div><div class="ttdoc">Returns a buffer obtained from _dbus_message_loader_get_unix_fds(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04051">dbus-message.c:4051</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga390710c25564c80025a006c376da2030"><div class="ttname"><a href="group__DBusMessage.html#ga390710c25564c80025a006c376da2030">dbus_message_get_serial</a></div><div class="ttdeci">dbus_uint32_t dbus_message_get_serial(DBusMessage *message)</div><div class="ttdoc">Returns the serial of a message or 0 if none has been specified. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01127">dbus-message.c:1127</a></div></div>
<div class="ttc" id="structDBusMessageLoader_html_a5ad667f9a5b58d23f2089e7cea58f6cc"><div class="ttname"><a href="structDBusMessageLoader.html#a5ad667f9a5b58d23f2089e7cea58f6cc">DBusMessageLoader::messages</a></div><div class="ttdeci">DBusList * messages</div><div class="ttdoc">Complete messages. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00066">dbus-message-private.h:66</a></div></div>
<div class="ttc" id="structDBusTypeWriter_html"><div class="ttname"><a href="structDBusTypeWriter.html">DBusTypeWriter</a></div><div class="ttdoc">The type writer is an iterator for writing to a block of values. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8h_source.html#l00064">dbus-marshal-recursive.h:64</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga7652e1208743da5dd4ecc5aef07bf207"><div class="ttname"><a href="group__DBusMessage.html#ga7652e1208743da5dd4ecc5aef07bf207">dbus_message_iter_recurse</a></div><div class="ttdeci">void dbus_message_iter_recurse(DBusMessageIter *iter, DBusMessageIter *sub)</div><div class="ttdoc">Recurses into a container value when reading values from a message, initializing a sub-iterator to us...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02195">dbus-message.c:2195</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga082b410820c74b2a6ca816a8e0c91803"><div class="ttname"><a href="group__DBusMarshal.html#ga082b410820c74b2a6ca816a8e0c91803">_dbus_type_reader_recurse</a></div><div class="ttdeci">void _dbus_type_reader_recurse(DBusTypeReader *reader, DBusTypeReader *sub)</div><div class="ttdoc">Initialize a new reader pointing to the first type and corresponding value that&amp;#39;s a child of the curr...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00988">dbus-marshal-recursive.c:988</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga9e5e75716d7263d9908d45a60b1b6bdc"><div class="ttname"><a href="group__DBusMessageInternals.html#ga9e5e75716d7263d9908d45a60b1b6bdc">_dbus_message_loader_pop_message</a></div><div class="ttdeci">DBusMessage * _dbus_message_loader_pop_message(DBusMessageLoader *loader)</div><div class="ttdoc">Pops a loaded message (passing ownership of the message to the caller). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04382">dbus-message.c:4382</a></div></div>
<div class="ttc" id="group__DBusList_html_ga5929ad5253d2f538158e513e9df3002b"><div class="ttname"><a href="group__DBusList.html#ga5929ad5253d2f538158e513e9df3002b">_dbus_list_find_last</a></div><div class="ttdeci">DBusList * _dbus_list_find_last(DBusList **list, void *data)</div><div class="ttdoc">Finds a value in the list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00472">dbus-list.c:472</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga02b754855e4d9a1cade8e4fc17a3f5c7"><div class="ttname"><a href="group__DBusMessage.html#ga02b754855e4d9a1cade8e4fc17a3f5c7">dbus_message_set_interface</a></div><div class="ttdeci">dbus_bool_t dbus_message_set_interface(DBusMessage *message, const char *iface)</div><div class="ttdoc">Sets the interface this message is being sent to (for DBUS_MESSAGE_TYPE_METHOD_CALL) or the interface...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03198">dbus-message.c:3198</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga33122bcaf8f5896ec222c755b6effb40"><div class="ttname"><a href="group__DBusProtocol.html#ga33122bcaf8f5896ec222c755b6effb40">DBUS_ERROR_NOT_SUPPORTED</a></div><div class="ttdeci">#define DBUS_ERROR_NOT_SUPPORTED</div><div class="ttdoc">Requested operation isn&amp;#39;t supported (like ENOSYS on UNIX). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00369">dbus-protocol.h:369</a></div></div>
<div class="ttc" id="group__DBusMemory_html_ga54ccb556e7964112a825a7f46c156ca0"><div class="ttname"><a href="group__DBusMemory.html#ga54ccb556e7964112a825a7f46c156ca0">dbus_new</a></div><div class="ttdeci">#define dbus_new(type, count)</div><div class="ttdoc">Safe macro for using dbus_malloc(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-memory_8h_source.html#l00058">dbus-memory.h:58</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gac7a5ba135e1aec4ad8c7b43752af02e1"><div class="ttname"><a href="group__DBusMessageInternals.html#gac7a5ba135e1aec4ad8c7b43752af02e1">dbus_message_free_data_slot</a></div><div class="ttdeci">void dbus_message_free_data_slot(dbus_int32_t *slot_p)</div><div class="ttdoc">Deallocates a global ID for message data slots. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04578">dbus-message.c:4578</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga450d63fa110d3cb891082e23291580b4"><div class="ttname"><a href="group__DBusProtocol.html#ga450d63fa110d3cb891082e23291580b4">DBUS_HEADER_FIELD_SIGNATURE</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_SIGNATURE</div><div class="ttdoc">Header field code for the type signature of a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00297">dbus-protocol.h:297</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga4e98b2283707a8e0313fc7c6fe3b1b5f"><div class="ttname"><a href="group__DBusMessage.html#ga4e98b2283707a8e0313fc7c6fe3b1b5f">dbus_message_get_error_name</a></div><div class="ttdeci">const char * dbus_message_get_error_name(DBusMessage *message)</div><div class="ttdoc">Gets the error name (DBUS_MESSAGE_TYPE_ERROR only) or NULL if none. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03397">dbus-message.c:3397</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaf00482f63d4af88b7851621d1f24087a"><div class="ttname"><a href="group__DBusMessage.html#gaf00482f63d4af88b7851621d1f24087a">dbus_message_iter_close_container</a></div><div class="ttdeci">dbus_bool_t dbus_message_iter_close_container(DBusMessageIter *iter, DBusMessageIter *sub)</div><div class="ttdoc">Closes a container-typed value appended to the message; may write out more information to the message...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02918">dbus-message.c:2918</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga70ef9d7fad409666a0b5f3a8d4f0dd92"><div class="ttname"><a href="group__DBusMessage.html#ga70ef9d7fad409666a0b5f3a8d4f0dd92">dbus_message_is_error</a></div><div class="ttdeci">dbus_bool_t dbus_message_is_error(DBusMessage *message, const char *error_name)</div><div class="ttdoc">Checks whether the message is an error reply with the given error name. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03657">dbus-message.c:3657</a></div></div>
<div class="ttc" id="group__DBusList_html_ga40abea762d9cb44e5ec6b31b1769dc2e"><div class="ttname"><a href="group__DBusList.html#ga40abea762d9cb44e5ec6b31b1769dc2e">_dbus_list_remove_link</a></div><div class="ttdeci">void _dbus_list_remove_link(DBusList **list, DBusList *link)</div><div class="ttdoc">Removes a link from the list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00527">dbus-list.c:527</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gae4b22a74b9edb0ec0ff6e0294794d3f9"><div class="ttname"><a href="group__DBusProtocol.html#gae4b22a74b9edb0ec0ff6e0294794d3f9">DBUS_TYPE_STRUCT</a></div><div class="ttdeci">#define DBUS_TYPE_STRUCT</div><div class="ttdoc">STRUCT and DICT_ENTRY are sort of special since their codes can&amp;#39;t appear in a type string...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00136">dbus-protocol.h:136</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gad2fc8e6c50e0ad927f4249fb9e53ca97"><div class="ttname"><a href="group__DBusProtocol.html#gad2fc8e6c50e0ad927f4249fb9e53ca97">DBUS_TYPE_DICT_ENTRY</a></div><div class="ttdeci">#define DBUS_TYPE_DICT_ENTRY</div><div class="ttdoc">Type code used to represent a dict entry; however, this type code does not appear in type signatures...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00143">dbus-protocol.h:143</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga13ce514ceb2d1598751f3a7760cf1375"><div class="ttname"><a href="group__DBusMessage.html#ga13ce514ceb2d1598751f3a7760cf1375">dbus_message_get_sender</a></div><div class="ttdeci">const char * dbus_message_get_sender(DBusMessage *message)</div><div class="ttdoc">Gets the unique name of the connection which originated this message, or NULL if unknown or inapplica...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03510">dbus-message.c:3510</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga1ae02a435d19c3363e11c74b08c43ab2"><div class="ttname"><a href="group__DBusMessageInternals.html#ga1ae02a435d19c3363e11c74b08c43ab2">_dbus_message_iter_get_args_valist</a></div><div class="ttdeci">dbus_bool_t _dbus_message_iter_get_args_valist(DBusMessageIter *iter, DBusError *error, int first_arg_type, va_list var_args)</div><div class="ttdoc">Implementation of the varargs arg-getting functions. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00796">dbus-message.c:796</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga7eb77066dadf5415896b44c56d93acce"><div class="ttname"><a href="group__DBusProtocol.html#ga7eb77066dadf5415896b44c56d93acce">DBUS_TYPE_STRING</a></div><div class="ttdeci">#define DBUS_TYPE_STRING</div><div class="ttdoc">Type code marking a UTF-8 encoded, nul-terminated Unicode string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00102">dbus-protocol.h:102</a></div></div>
<div class="ttc" id="structDBusMessage_html_a0b9d14d6e0529f0ec2e3c0087fe62a9e"><div class="ttname"><a href="structDBusMessage.html#a0b9d14d6e0529f0ec2e3c0087fe62a9e">DBusMessage::body</a></div><div class="ttdeci">DBusString body</div><div class="ttdoc">Body network data. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00105">dbus-message-private.h:105</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga7ec7222423db42935aae4a24499ee0fb"><div class="ttname"><a href="group__DBusMarshal.html#ga7ec7222423db42935aae4a24499ee0fb">_dbus_header_get_serial</a></div><div class="ttdeci">dbus_uint32_t _dbus_header_get_serial(DBusHeader *header)</div><div class="ttdoc">See dbus_message_get_serial() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00427">dbus-marshal-header.c:427</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga56619efed3088554b8760edd246b4157"><div class="ttname"><a href="group__DBusMarshal.html#ga56619efed3088554b8760edd246b4157">_dbus_header_get_flag</a></div><div class="ttdeci">dbus_bool_t _dbus_header_get_flag(DBusHeader *header, dbus_uint32_t flag)</div><div class="ttdoc">Gets a message flag bit, returning TRUE if the bit is set. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01479">dbus-marshal-header.c:1479</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_ga129c6c03f011cdc171934d5d386cc797"><div class="ttname"><a href="group__DBusInternalsUtils.html#ga129c6c03f011cdc171934d5d386cc797">_dbus_assert</a></div><div class="ttdeci">#define _dbus_assert(condition)</div><div class="ttdoc">Aborts with an error message if the condition is false. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8h_source.html#l00135">dbus-internals.h:135</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga0dcac038284250b3b0bff49cb4990626"><div class="ttname"><a href="group__DBusProtocol.html#ga0dcac038284250b3b0bff49cb4990626">DBUS_HEADER_FLAG_NO_REPLY_EXPECTED</a></div><div class="ttdeci">#define DBUS_HEADER_FLAG_NO_REPLY_EXPECTED</div><div class="ttdoc">If set, this flag means that the sender of a message does not care about getting a reply...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00249">dbus-protocol.h:249</a></div></div>
<div class="ttc" id="group__DBusList_html_ga20e549175e2b8f450f907592dc39d953"><div class="ttname"><a href="group__DBusList.html#ga20e549175e2b8f450f907592dc39d953">_dbus_list_append_link</a></div><div class="ttdeci">void _dbus_list_append_link(DBusList **list, DBusList *link)</div><div class="ttdoc">Appends a link to the list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00315">dbus-list.c:315</a></div></div>
<div class="ttc" id="structDBusCounter_html"><div class="ttname"><a href="structDBusCounter.html">DBusCounter</a></div><div class="ttdoc">Internals of DBusCounter. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-resources_8c_source.html#l00054">dbus-resources.c:54</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga537b3456202fdd9f305666504bde98fb"><div class="ttname"><a href="group__DBusMessageInternals.html#ga537b3456202fdd9f305666504bde98fb">dbus_message_allocate_data_slot</a></div><div class="ttdeci">dbus_bool_t dbus_message_allocate_data_slot(dbus_int32_t *slot_p)</div><div class="ttdoc">Allocates an integer ID to be used for storing application-specific data on any DBusMessage. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04560">dbus-message.c:4560</a></div></div>
<div class="ttc" id="structDBusList_html_a29ab457bcf9092252bb0c4282c727055"><div class="ttname"><a href="structDBusList.html#a29ab457bcf9092252bb0c4282c727055">DBusList::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">Data stored at this element. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8h_source.html#l00038">dbus-list.h:38</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gaeab2038ce58cd314dc1f23103abec5b0"><div class="ttname"><a href="group__DBusMessageInternals.html#gaeab2038ce58cd314dc1f23103abec5b0">MAX_MESSAGE_CACHE_SIZE</a></div><div class="ttdeci">#define MAX_MESSAGE_CACHE_SIZE</div><div class="ttdoc">Avoid caching too many messages. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00508">dbus-message.c:508</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gab9e5bf8d87a95c5ca7026a791148ebd4"><div class="ttname"><a href="group__DBusMessage.html#gab9e5bf8d87a95c5ca7026a791148ebd4">dbus_message_new</a></div><div class="ttdeci">DBusMessage * dbus_message_new(int message_type)</div><div class="ttdoc">Constructs a new message of the given message type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01289">dbus-message.c:1289</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga2a23b986cd4cef832b8823b6b0d1bcb1"><div class="ttname"><a href="group__DBusProtocol.html#ga2a23b986cd4cef832b8823b6b0d1bcb1">DBUS_ERROR_INCONSISTENT_MESSAGE</a></div><div class="ttdeci">#define DBUS_ERROR_INCONSISTENT_MESSAGE</div><div class="ttdoc">The message meta data does not match the payload. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00453">dbus-protocol.h:453</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gabe1b78193d712976734a39d35842f033"><div class="ttname"><a href="group__DBusMarshal.html#gabe1b78193d712976734a39d35842f033">_dbus_header_init</a></div><div class="ttdeci">dbus_bool_t _dbus_header_init(DBusHeader *header)</div><div class="ttdoc">Initializes a header, but doesn&amp;#39;t prepare it for use; to make the header valid, you have to call _dbu...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00460">dbus-marshal-header.c:460</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_ga63f2f8a068454b781f214ba596e313b4"><div class="ttname"><a href="group__DBusInternalsUtils.html#ga63f2f8a068454b781f214ba596e313b4">_dbus_warn_check_failed</a></div><div class="ttdeci">void _dbus_warn_check_failed(const char *format,...)</div><div class="ttdoc">Prints a &quot;critical&quot; warning to stderr when an assertion fails; differs from _dbus_warn primarily in t...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8c_source.html#l00258">dbus-internals.c:258</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaed63e4c2baaa50d782e8ebb7643def19"><div class="ttname"><a href="group__DBusMessage.html#gaed63e4c2baaa50d782e8ebb7643def19">dbus_message_get_signature</a></div><div class="ttdeci">const char * dbus_message_get_signature(DBusMessage *message)</div><div class="ttdoc">Gets the type signature of the message, i.e. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03543">dbus-message.c:3543</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaf733047c467ce21f4a53b65a388f1e9d"><div class="ttname"><a href="group__DBusMessage.html#gaf733047c467ce21f4a53b65a388f1e9d">dbus_message_iter_init_append</a></div><div class="ttdeci">void dbus_message_iter_init_append(DBusMessage *message, DBusMessageIter *iter)</div><div class="ttdoc">Initializes a DBusMessageIter for appending arguments to the end of a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02421">dbus-message.c:2421</a></div></div>
<div class="ttc" id="group__DBusErrors_html_gaac6c14ead14829ee4e090f39de6a7568"><div class="ttname"><a href="group__DBusErrors.html#gaac6c14ead14829ee4e090f39de6a7568">dbus_error_free</a></div><div class="ttdeci">void dbus_error_free(DBusError *error)</div><div class="ttdoc">Frees an error that&amp;#39;s been set (or just initialized), then reinitializes the error as in dbus_error_i...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-errors_8c_source.html#l00211">dbus-errors.c:211</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga1596d92a8d604f954b48c7410263d2f0"><div class="ttname"><a href="group__DBusMessage.html#ga1596d92a8d604f954b48c7410263d2f0">dbus_message_set_auto_start</a></div><div class="ttdeci">void dbus_message_set_auto_start(DBusMessage *message, dbus_bool_t auto_start)</div><div class="ttdoc">Sets a flag indicating that an owner for the destination name will be automatically started before th...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03026">dbus-message.c:3026</a></div></div>
<div class="ttc" id="structDBusMessageRealIter_html_ac9c3ce5775bc9f5f0720b65093345ec6"><div class="ttname"><a href="structDBusMessageRealIter.html#ac9c3ce5775bc9f5f0720b65093345ec6">DBusMessageRealIter::u</a></div><div class="ttdeci">union DBusMessageRealIter::@6 u</div><div class="ttdoc">the type writer or reader that does all the work </div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gafc4b23ac32a763afa783b2a07143731b"><div class="ttname"><a href="group__DBusMessageInternals.html#gafc4b23ac32a763afa783b2a07143731b">dbus_message_get_allow_interactive_authorization</a></div><div class="ttdeci">dbus_bool_t dbus_message_get_allow_interactive_authorization(DBusMessage *message)</div><div class="ttdoc">Returns whether the flag controlled by dbus_message_set_allow_interactive_authorization() has been se...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04919">dbus-message.c:4919</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga51299aab1f5e0b2408ab858d3377b20c"><div class="ttname"><a href="group__DBusMessageInternals.html#ga51299aab1f5e0b2408ab858d3377b20c">_dbus_message_loader_unref</a></div><div class="ttdeci">void _dbus_message_loader_unref(DBusMessageLoader *loader)</div><div class="ttdoc">Decrements the reference count of the loader and finalizes the loader when the count reaches zero...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03925">dbus-message.c:3925</a></div></div>
<div class="ttc" id="group__DBusResources_html_gae93240c77bfb66642453518c9bb90bc4"><div class="ttname"><a href="group__DBusResources.html#gae93240c77bfb66642453518c9bb90bc4">_dbus_counter_ref</a></div><div class="ttdeci">DBusCounter * _dbus_counter_ref(DBusCounter *counter)</div><div class="ttdoc">Increments refcount of the counter. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-resources_8c_source.html#l00108">dbus-resources.c:108</a></div></div>
<div class="ttc" id="structDBusHeader_html_a67df8bff43c10e2d4f6ae36b56ee5814"><div class="ttname"><a href="structDBusHeader.html#a67df8bff43c10e2d4f6ae36b56ee5814">DBusHeader::data</a></div><div class="ttdeci">DBusString data</div><div class="ttdoc">Header network data, stored separately from body so we can independently realloc it. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8h_source.html#l00049">dbus-marshal-header.h:49</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga0d1debd1c101a80c386d6ec92cdb1d93"><div class="ttname"><a href="group__DBusMessage.html#ga0d1debd1c101a80c386d6ec92cdb1d93">dbus_message_has_interface</a></div><div class="ttdeci">dbus_bool_t dbus_message_has_interface(DBusMessage *message, const char *iface)</div><div class="ttdoc">Checks if the message has an interface. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03249">dbus-message.c:3249</a></div></div>
<div class="ttc" id="group__DBusSysdepsUnix_html_gad79d20e59fb519233004208988851cf1"><div class="ttname"><a href="group__DBusSysdepsUnix.html#gad79d20e59fb519233004208988851cf1">_dbus_dup</a></div><div class="ttdeci">int _dbus_dup(int fd, DBusError *error)</div><div class="ttdoc">Duplicates a file descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-sysdeps-unix_8c_source.html#l03053">dbus-sysdeps-unix.c:3053</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gafb8c42ed5242274586607812ff6fba10"><div class="ttname"><a href="group__DBusMessageInternals.html#gafb8c42ed5242274586607812ff6fba10">_dbus_message_loader_get_corruption_reason</a></div><div class="ttdeci">DBusValidity _dbus_message_loader_get_corruption_reason(DBusMessageLoader *loader)</div><div class="ttdoc">Checks what kind of bad data confused the loader. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04438">dbus-message.c:4438</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0103b0214766b0ff1ca05bcc7f1e631b"><div class="ttname"><a href="group__DBusMarshal.html#ga0103b0214766b0ff1ca05bcc7f1e631b">_dbus_type_writer_write_basic</a></div><div class="ttdeci">dbus_bool_t _dbus_type_writer_write_basic(DBusTypeWriter *writer, int type, const void *value)</div><div class="ttdoc">Writes out a basic type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l02308">dbus-marshal-recursive.c:2308</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga2b9423d95066313d73eeea8eeaf86812"><div class="ttname"><a href="group__DBusProtocol.html#ga2b9423d95066313d73eeea8eeaf86812">DBUS_MESSAGE_TYPE_ERROR</a></div><div class="ttdeci">#define DBUS_MESSAGE_TYPE_ERROR</div><div class="ttdoc">Message type of an error reply message, see dbus_message_get_type() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00238">dbus-protocol.h:238</a></div></div>
<div class="ttc" id="group__DBusList_html_gac20b9981531cef590d49a59240344cd8"><div class="ttname"><a href="group__DBusList.html#gac20b9981531cef590d49a59240344cd8">_dbus_list_alloc_link</a></div><div class="ttdeci">DBusList * _dbus_list_alloc_link(void *data)</div><div class="ttdoc">Allocates a linked list node. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00242">dbus-list.c:242</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga2735432928240c083c72a5f5d23ec6a1"><div class="ttname"><a href="group__DBusProtocol.html#ga2735432928240c083c72a5f5d23ec6a1">DBUS_MAXIMUM_MESSAGE_UNIX_FDS</a></div><div class="ttdeci">#define DBUS_MAXIMUM_MESSAGE_UNIX_FDS</div><div class="ttdoc">The maximum total number of unix fds in a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00218">dbus-protocol.h:218</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga18adf731bb42d324fe2624407319e4af"><div class="ttname"><a href="group__DBusMessage.html#ga18adf731bb42d324fe2624407319e4af">dbus_message_get_path</a></div><div class="ttdeci">const char * dbus_message_get_path(DBusMessage *message)</div><div class="ttdoc">Gets the object path this message is being sent to (for DBUS_MESSAGE_TYPE_METHOD_CALL) or being emitt...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03096">dbus-message.c:3096</a></div></div>
<div class="ttc" id="group__DBusString_html_ga348252317f7bb8ac43529972945830ae"><div class="ttname"><a href="group__DBusString.html#ga348252317f7bb8ac43529972945830ae">_dbus_string_init</a></div><div class="ttdeci">dbus_bool_t _dbus_string_init(DBusString *str)</div><div class="ttdoc">Initializes a string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00175">dbus-string.c:175</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga4a9012edd7f22342f845e98150aeb858"><div class="ttname"><a href="group__DBusProtocol.html#ga4a9012edd7f22342f845e98150aeb858">DBUS_MESSAGE_TYPE_METHOD_RETURN</a></div><div class="ttdeci">#define DBUS_MESSAGE_TYPE_METHOD_RETURN</div><div class="ttdoc">Message type of a method return message, see dbus_message_get_type() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00236">dbus-protocol.h:236</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga6ce3213dfb17be7956affba40207a5a0"><div class="ttname"><a href="group__DBusMessage.html#ga6ce3213dfb17be7956affba40207a5a0">dbus_message_new_signal</a></div><div class="ttdeci">DBusMessage * dbus_message_new_signal(const char *path, const char *iface, const char *name)</div><div class="ttdoc">Constructs a new message representing a signal emission. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01424">dbus-message.c:1424</a></div></div>
<div class="ttc" id="group__DBusString_html_ga8d794f292831d1a7edeb971b13a2c641"><div class="ttname"><a href="group__DBusString.html#ga8d794f292831d1a7edeb971b13a2c641">_dbus_string_append_printf_valist</a></div><div class="ttdeci">dbus_bool_t _dbus_string_append_printf_valist(DBusString *str, const char *format, va_list args)</div><div class="ttdoc">Appends a printf-style formatted string to the DBusString. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l01072">dbus-string.c:1072</a></div></div>
<div class="ttc" id="structDBusMessageRealIter_html_ae5c4e45b0a5d6642850144f642d7db67"><div class="ttname"><a href="structDBusMessageRealIter.html#ae5c4e45b0a5d6642850144f642d7db67">DBusMessageRealIter::reader</a></div><div class="ttdeci">DBusTypeReader reader</div><div class="ttdoc">reader </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00135">dbus-message.c:135</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaf9dce059725fa793c44b219460cbbe6d"><div class="ttname"><a href="group__DBusMarshal.html#gaf9dce059725fa793c44b219460cbbe6d">DBusValidationMode</a></div><div class="ttdeci">DBusValidationMode</div><div class="ttdoc">This is used rather than a bool for high visibility. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8h_source.html#l00036">dbus-marshal-validate.h:36</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaaffc75a699c96ff6197287f166df2149"><div class="ttname"><a href="group__DBusMessage.html#gaaffc75a699c96ff6197287f166df2149">dbus_message_iter_has_next</a></div><div class="ttdeci">dbus_bool_t dbus_message_iter_has_next(DBusMessageIter *iter)</div><div class="ttdoc">Checks if an iterator has any more fields. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02095">dbus-message.c:2095</a></div></div>
<div class="ttc" id="structDBusMessageRealIter_html_a552cb582c65645ed46d9d1ad38ece3c7"><div class="ttname"><a href="structDBusMessageRealIter.html#a552cb582c65645ed46d9d1ad38ece3c7">DBusMessageRealIter::message</a></div><div class="ttdeci">DBusMessage * message</div><div class="ttdoc">Message used. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00128">dbus-message.c:128</a></div></div>
<div class="ttc" id="group__DBusString_html_ga3c10f0d1bcaa3b450025b9c6a8b901d7"><div class="ttname"><a href="group__DBusString.html#ga3c10f0d1bcaa3b450025b9c6a8b901d7">_dbus_string_copy</a></div><div class="ttdeci">dbus_bool_t _dbus_string_copy(const DBusString *source, int start, DBusString *dest, int insert_at)</div><div class="ttdoc">Like _dbus_string_move(), but does not delete the section of the source string that&amp;#39;s copied to the d...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l01282">dbus-string.c:1282</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga296b5f099b6c347f65d53ef0a6fa2b0d"><div class="ttname"><a href="group__DBusProtocol.html#ga296b5f099b6c347f65d53ef0a6fa2b0d">DBUS_HEADER_FIELD_INTERFACE</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_INTERFACE</div><div class="ttdoc">Header field code for the interface containing a member (method or signal). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00274">dbus-protocol.h:274</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gad51b5f7a2e6d927295479dd371f6b353"><div class="ttname"><a href="group__DBusProtocol.html#gad51b5f7a2e6d927295479dd371f6b353">DBUS_DICT_ENTRY_BEGIN_CHAR</a></div><div class="ttdeci">#define DBUS_DICT_ENTRY_BEGIN_CHAR</div><div class="ttdoc">Code marking the start of a dict entry type in a type signature. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00164">dbus-protocol.h:164</a></div></div>
<div class="ttc" id="group__DBusList_html_gaab9a957eca9bf5466bbf377a23b4b25c"><div class="ttname"><a href="group__DBusList.html#gaab9a957eca9bf5466bbf377a23b4b25c">_dbus_list_pop_first_link</a></div><div class="ttdeci">DBusList * _dbus_list_pop_first_link(DBusList **list)</div><div class="ttdoc">Removes the first link in the list and returns it. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00628">dbus-list.c:628</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gad7021a30bf930f8090bc38f862f19adb"><div class="ttname"><a href="group__DBusMessage.html#gad7021a30bf930f8090bc38f862f19adb">dbus_message_has_member</a></div><div class="ttdeci">dbus_bool_t dbus_message_has_member(DBusMessage *message, const char *member)</div><div class="ttdoc">Checks if the message has an interface member. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03335">dbus-message.c:3335</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0c4521d30d6650a33673a4d7f9cc007c"><div class="ttname"><a href="group__DBusMarshal.html#ga0c4521d30d6650a33673a4d7f9cc007c">DBusValidity</a></div><div class="ttdeci">DBusValidity</div><div class="ttdoc">This is primarily used in unit testing, so we can verify that each invalid message is invalid for the...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8h_source.html#l00049">dbus-marshal-validate.h:49</a></div></div>
<div class="ttc" id="structDBusMessageIter_html"><div class="ttname"><a href="structDBusMessageIter.html">DBusMessageIter</a></div><div class="ttdoc">DBusMessageIter struct; contains no public fields. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8h_source.html#l00051">dbus-message.h:51</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga9f98b47c84f0e401ea985e681de4e963"><div class="ttname"><a href="group__DBusMessage.html#ga9f98b47c84f0e401ea985e681de4e963">dbus_message_iter_init</a></div><div class="ttdeci">dbus_bool_t dbus_message_iter_init(DBusMessage *message, DBusMessageIter *iter)</div><div class="ttdoc">Initializes a DBusMessageIter for reading the arguments of the message passed in. ...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02064">dbus-message.c:2064</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gad009d79879d654a009c83627726435d8"><div class="ttname"><a href="group__DBusMessageInternals.html#gad009d79879d654a009c83627726435d8">_dbus_message_add_counter</a></div><div class="ttdeci">dbus_bool_t _dbus_message_add_counter(DBusMessage *message, DBusCounter *counter)</div><div class="ttdoc">Adds a counter to be incremented immediately with the size/unix fds of this message, and decremented by the size/unix fds of this message when this message if finalized. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00329">dbus-message.c:329</a></div></div>
<div class="ttc" id="group__DBusSysdeps_html_gab846071a4de54cb7e518654f9375313a"><div class="ttname"><a href="group__DBusSysdeps.html#gab846071a4de54cb7e518654f9375313a">_dbus_getenv</a></div><div class="ttdeci">const char * _dbus_getenv(const char *varname)</div><div class="ttdoc">Wrapper for getenv(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-sysdeps_8c_source.html#l00185">dbus-sysdeps.c:185</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaac65c926e6253e49aa689b4f032fad45"><div class="ttname"><a href="group__DBusMessage.html#gaac65c926e6253e49aa689b4f032fad45">dbus_message_get_destination</a></div><div class="ttdeci">const char * dbus_message_get_destination(DBusMessage *message)</div><div class="ttdoc">Gets the destination of a message or NULL if there is none set. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03450">dbus-message.c:3450</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gafaed2adc00b2ec54b2827ecb778bbe7e"><div class="ttname"><a href="group__DBusMessageInternals.html#gafaed2adc00b2ec54b2827ecb778bbe7e">_dbus_message_add_counter_link</a></div><div class="ttdeci">void _dbus_message_add_counter_link(DBusMessage *message, DBusList *link)</div><div class="ttdoc">Adds a counter to be incremented immediately with the size/unix fds of this message, and decremented by the size/unix fds of this message when this message if finalized. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00280">dbus-message.c:280</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga8912f600f81a773066ca03d9163613a9"><div class="ttname"><a href="group__DBusProtocol.html#ga8912f600f81a773066ca03d9163613a9">DBUS_TYPE_ARRAY</a></div><div class="ttdeci">#define DBUS_TYPE_ARRAY</div><div class="ttdoc">Type code marking a D-Bus array type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00120">dbus-protocol.h:120</a></div></div>
<div class="ttc" id="structDBusTypeWriter_html_a95204ef3a9cf29ee31687032b142b836"><div class="ttname"><a href="structDBusTypeWriter.html#a95204ef3a9cf29ee31687032b142b836">DBusTypeWriter::type_str</a></div><div class="ttdeci">DBusString * type_str</div><div class="ttdoc">where to write typecodes (or read type expectations) </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8h_source.html#l00074">dbus-marshal-recursive.h:74</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga6e2d1e936c3c61fe00d80a3f22fd5e76"><div class="ttname"><a href="group__DBusMessage.html#ga6e2d1e936c3c61fe00d80a3f22fd5e76">dbus_message_iter_append_fixed_array</a></div><div class="ttdeci">dbus_bool_t dbus_message_iter_append_fixed_array(DBusMessageIter *iter, int element_type, const void *value, int n_elements)</div><div class="ttdoc">Appends a block of fixed-length values to an array. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02791">dbus-message.c:2791</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga892f9857707371c2a53cec6b54c843c7"><div class="ttname"><a href="group__DBusMessage.html#ga892f9857707371c2a53cec6b54c843c7">dbus_message_set_error_name</a></div><div class="ttdeci">dbus_bool_t dbus_message_set_error_name(DBusMessage *message, const char *error_name)</div><div class="ttdoc">Sets the name of the error (DBUS_MESSAGE_TYPE_ERROR). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03371">dbus-message.c:3371</a></div></div>
<div class="ttc" id="group__DBusSysdeps_html_ga3c50a069f795dceeb9172fe2b517bbdc"><div class="ttname"><a href="group__DBusSysdeps.html#ga3c50a069f795dceeb9172fe2b517bbdc">_dbus_atomic_dec</a></div><div class="ttdeci">dbus_int32_t _dbus_atomic_dec(DBusAtomic *atomic)</div><div class="ttdoc">Atomically decrement an integer. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-sysdeps-unix_8c_source.html#l02585">dbus-sysdeps-unix.c:2585</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaf5c6b705c53db07a5ae2c6b76f230cf9"><div class="ttname"><a href="group__DBusMessage.html#gaf5c6b705c53db07a5ae2c6b76f230cf9">dbus_message_get_member</a></div><div class="ttdeci">const char * dbus_message_get_member(DBusMessage *message)</div><div class="ttdoc">Gets the interface member being invoked (DBUS_MESSAGE_TYPE_METHOD_CALL) or emitted (DBUS_MESSAGE_TYPE...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03313">dbus-message.c:3313</a></div></div>
<div class="ttc" id="group__DBusList_html_gad93f1fc853914144e94fc7a7dc0945aa"><div class="ttname"><a href="group__DBusList.html#gad93f1fc853914144e94fc7a7dc0945aa">_dbus_list_remove_last</a></div><div class="ttdeci">dbus_bool_t _dbus_list_remove_last(DBusList **list, void *data)</div><div class="ttdoc">Removes a value from the list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00446">dbus-list.c:446</a></div></div>
<div class="ttc" id="structDBusMessage_html"><div class="ttname"><a href="structDBusMessage.html">DBusMessage</a></div><div class="ttdoc">Internals of DBusMessage. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00099">dbus-message-private.h:99</a></div></div>
<div class="ttc" id="structDBusMessageRealIter_html"><div class="ttname"><a href="structDBusMessageRealIter.html">DBusMessageRealIter</a></div><div class="ttdoc">Internals of DBusMessageIter. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00126">dbus-message.c:126</a></div></div>
<div class="ttc" id="group__DBusMemory_html_gaba9d823abda7f4cadbaf5177d3b8b793"><div class="ttname"><a href="group__DBusMemory.html#gaba9d823abda7f4cadbaf5177d3b8b793">dbus_new0</a></div><div class="ttdeci">#define dbus_new0(type, count)</div><div class="ttdoc">Safe macro for using dbus_malloc0(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-memory_8h_source.html#l00059">dbus-memory.h:59</a></div></div>
<div class="ttc" id="structDBusMessageRealIter_html_ac10324f74497a5c2288eef8fbcd3ae42"><div class="ttname"><a href="structDBusMessageRealIter.html#ac10324f74497a5c2288eef8fbcd3ae42">DBusMessageRealIter::changed_stamp</a></div><div class="ttdeci">dbus_uint32_t changed_stamp</div><div class="ttdoc">stamp to detect invalid iters </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00129">dbus-message.c:129</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaa9ecf7e96d5323bc1da9cdf0c3f2c1e7"><div class="ttname"><a href="group__DBusMarshal.html#gaa9ecf7e96d5323bc1da9cdf0c3f2c1e7">_dbus_type_writer_init_types_delayed</a></div><div class="ttdeci">void _dbus_type_writer_init_types_delayed(DBusTypeWriter *writer, int byte_order, DBusString *value_str, int value_pos)</div><div class="ttdoc">Initialize a write iterator, with the signature to be provided later. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l01525">dbus-marshal-recursive.c:1525</a></div></div>
<div class="ttc" id="group__DBusString_html_gac49ec5782ca606029c096124b5e43ffc"><div class="ttname"><a href="group__DBusString.html#gac49ec5782ca606029c096124b5e43ffc">_dbus_string_compact</a></div><div class="ttdeci">dbus_bool_t _dbus_string_compact(DBusString *str, int max_waste)</div><div class="ttdoc">Compacts the string to avoid wasted memory. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00389">dbus-string.c:389</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga4427247494fc5c988498c5a87d42092d"><div class="ttname"><a href="group__DBusMarshal.html#ga4427247494fc5c988498c5a87d42092d">_dbus_header_get_message_type</a></div><div class="ttdeci">int _dbus_header_get_message_type(DBusHeader *header)</div><div class="ttdoc">Gets the type of the message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00386">dbus-marshal-header.c:386</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gac551be0f921390d01104cce30a814a5e"><div class="ttname"><a href="group__DBusProtocol.html#gac551be0f921390d01104cce30a814a5e">DBUS_HEADER_FIELD_ERROR_NAME</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_ERROR_NAME</div><div class="ttdoc">Header field code for an error name (found in DBUS_MESSAGE_TYPE_ERROR messages). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00280">dbus-protocol.h:280</a></div></div>
<div class="ttc" id="structDBusString_html"><div class="ttname"><a href="structDBusString.html">DBusString</a></div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8h_source.html#l00042">dbus-string.h:42</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gaf8c13dd883c21b5dea179d77d8ac12e3"><div class="ttname"><a href="group__DBusProtocol.html#gaf8c13dd883c21b5dea179d77d8ac12e3">DBUS_MINIMUM_HEADER_SIZE</a></div><div class="ttdeci">#define DBUS_MINIMUM_HEADER_SIZE</div><div class="ttdoc">The smallest header size that can occur. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00346">dbus-protocol.h:346</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gacbe7eddf4f9c19da91b742087fcc111a"><div class="ttname"><a href="group__DBusMarshal.html#gacbe7eddf4f9c19da91b742087fcc111a">_dbus_type_writer_unrecurse</a></div><div class="ttdeci">dbus_bool_t _dbus_type_writer_unrecurse(DBusTypeWriter *writer, DBusTypeWriter *sub)</div><div class="ttdoc">Closes a container created by _dbus_type_writer_recurse() and writes any additional information to th...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l02176">dbus-marshal-recursive.c:2176</a></div></div>
<div class="ttc" id="group__DBusSignature_html_ga2d8afef7d754cf15d6b9733f00654c0e"><div class="ttname"><a href="group__DBusSignature.html#ga2d8afef7d754cf15d6b9733f00654c0e">dbus_type_is_basic</a></div><div class="ttdeci">dbus_bool_t dbus_type_is_basic(int typecode)</div><div class="ttdoc">A &quot;basic type&quot; is a somewhat arbitrary concept, but the intent is to include those types that are ful...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-signature_8c_source.html#l00318">dbus-signature.c:318</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga031623c6235f98801cab3e53f0a5f757"><div class="ttname"><a href="group__DBusMessageInternals.html#ga031623c6235f98801cab3e53f0a5f757">_dbus_message_loader_set_max_message_size</a></div><div class="ttdeci">void _dbus_message_loader_set_max_message_size(DBusMessageLoader *loader, long size)</div><div class="ttdoc">Sets the maximum size message we allow. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04453">dbus-message.c:4453</a></div></div>
<div class="ttc" id="group__DBusTypes_html_ga39c9cb0f3a2a8ad6f55cc4855d035349"><div class="ttname"><a href="group__DBusTypes.html#ga39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a></div><div class="ttdeci">dbus_uint32_t dbus_bool_t</div><div class="ttdoc">A boolean, valid values are TRUE and FALSE. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-types_8h_source.html#l00035">dbus-types.h:35</a></div></div>
<div class="ttc" id="group__DBusString_html_ga374640ddfa2f0b27a8356e2379ba8043"><div class="ttname"><a href="group__DBusString.html#ga374640ddfa2f0b27a8356e2379ba8043">_dbus_string_init_const</a></div><div class="ttdeci">void _dbus_string_init_const(DBusString *str, const char *value)</div><div class="ttdoc">Initializes a constant string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00190">dbus-string.c:190</a></div></div>
<div class="ttc" id="structDBusMessage_html_a00cf6910d9f3bee5d5a82137c8c64a42"><div class="ttname"><a href="structDBusMessage.html#a00cf6910d9f3bee5d5a82137c8c64a42">DBusMessage::header</a></div><div class="ttdeci">DBusHeader header</div><div class="ttdoc">Header network data and associated cache. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00103">dbus-message-private.h:103</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaa2170744c2c19217d9df02551f16bc92"><div class="ttname"><a href="group__DBusMessage.html#gaa2170744c2c19217d9df02551f16bc92">dbus_message_set_sender</a></div><div class="ttdeci">dbus_bool_t dbus_message_set_sender(DBusMessage *message, const char *sender)</div><div class="ttdoc">Sets the message sender. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03479">dbus-message.c:3479</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaed0e32329f142cc246662227c81d5d1f"><div class="ttname"><a href="group__DBusMessage.html#gaed0e32329f142cc246662227c81d5d1f">dbus_message_is_signal</a></div><div class="ttdeci">dbus_bool_t dbus_message_is_signal(DBusMessage *message, const char *iface, const char *signal_name)</div><div class="ttdoc">Checks whether the message is a signal with the given interface and member fields. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03630">dbus-message.c:3630</a></div></div>
<div class="ttc" id="structDBusMessageLoader_html_a33c22d4f64a32a72faefb1df94fcfed1"><div class="ttname"><a href="structDBusMessageLoader.html#a33c22d4f64a32a72faefb1df94fcfed1">DBusMessageLoader::data</a></div><div class="ttdeci">DBusString data</div><div class="ttdoc">Buffered data. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00064">dbus-message-private.h:64</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaa54355ee98d6721d7a29b5ae7d92eb9a"><div class="ttname"><a href="group__DBusMarshal.html#gaa54355ee98d6721d7a29b5ae7d92eb9a">_dbus_type_reader_read_basic</a></div><div class="ttdeci">void _dbus_type_reader_read_basic(const DBusTypeReader *reader, void *value)</div><div class="ttdoc">Reads a basic-typed value, as with _dbus_marshal_read_basic(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00869">dbus-marshal-recursive.c:869</a></div></div>
<div class="ttc" id="structDBusMessage_html_ac926e7027f22608d75a6dfe18680b9e7"><div class="ttname"><a href="structDBusMessage.html#ac926e7027f22608d75a6dfe18680b9e7">DBusMessage::locked</a></div><div class="ttdeci">unsigned int locked</div><div class="ttdoc">Message being sent, no modifications allowed. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00107">dbus-message-private.h:107</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga1dfae386ef0d4d808584abeafc44e8ca"><div class="ttname"><a href="group__DBusMessageInternals.html#ga1dfae386ef0d4d808584abeafc44e8ca">ensure_byte_order</a></div><div class="ttdeci">#define ensure_byte_order(message)</div><div class="ttdoc">byte-swap the message if it doesn&amp;#39;t match our byte order. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00195">dbus-message.c:195</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gad39efb9ff20c7538f12e164a6920edc4"><div class="ttname"><a href="group__DBusMessageInternals.html#gad39efb9ff20c7538f12e164a6920edc4">_dbus_message_loader_ref</a></div><div class="ttdeci">DBusMessageLoader * _dbus_message_loader_ref(DBusMessageLoader *loader)</div><div class="ttdoc">Increments the reference count of the loader. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03911">dbus-message.c:3911</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga499973a18dcb17d854eaf14101a66736"><div class="ttname"><a href="group__DBusMarshal.html#ga499973a18dcb17d854eaf14101a66736">_dbus_header_get_field_basic</a></div><div class="ttdeci">dbus_bool_t _dbus_header_get_field_basic(DBusHeader *header, int field, int type, void *value)</div><div class="ttdoc">Gets the value of a field with basic type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01351">dbus-marshal-header.c:1351</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaf2b5b3319da838b1f1b360c04a33f153"><div class="ttname"><a href="group__DBusMessage.html#gaf2b5b3319da838b1f1b360c04a33f153">dbus_message_get_path_decomposed</a></div><div class="ttdeci">dbus_bool_t dbus_message_get_path_decomposed(DBusMessage *message, char ***path)</div><div class="ttdoc">Gets the object path this message is being sent to (for DBUS_MESSAGE_TYPE_METHOD_CALL) or being emitt...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03164">dbus-message.c:3164</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gga0c4521d30d6650a33673a4d7f9cc007ca08cf1e84457c1f41acaf082de2060a65"><div class="ttname"><a href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007ca08cf1e84457c1f41acaf082de2060a65">DBUS_VALIDITY_UNKNOWN_OOM_ERROR</a></div><div class="ttdoc">can&amp;#39;t determine validity due to OOM </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8h_source.html#l00052">dbus-marshal-validate.h:52</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_gabea2c16d6d3fe7c4eb5b9496fc877f84"><div class="ttname"><a href="group__DBusInternalsUtils.html#gabea2c16d6d3fe7c4eb5b9496fc877f84">_dbus_warn</a></div><div class="ttdeci">void _dbus_warn(const char *format,...)</div><div class="ttdoc">Prints a warning message to stderr. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8c_source.html#l00230">dbus-internals.c:230</a></div></div>
<div class="ttc" id="group__DBusString_html_ga7e0e164ad5bb094e5ccad9edc7ae4235"><div class="ttname"><a href="group__DBusString.html#ga7e0e164ad5bb094e5ccad9edc7ae4235">_dbus_string_delete</a></div><div class="ttdeci">void _dbus_string_delete(DBusString *str, int start, int len)</div><div class="ttdoc">Deletes a segment of a DBusString with length len starting at start. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l01192">dbus-string.c:1192</a></div></div>
<div class="ttc" id="group__DBusString_html_ga569b784beea1b4fa98f05d27e6dd0e72"><div class="ttname"><a href="group__DBusString.html#ga569b784beea1b4fa98f05d27e6dd0e72">_dbus_string_init_preallocated</a></div><div class="ttdeci">dbus_bool_t _dbus_string_init_preallocated(DBusString *str, int allocate_size)</div><div class="ttdoc">Initializes a string that can be up to the given allocation size before it has to realloc...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00132">dbus-string.c:132</a></div></div>
<div class="ttc" id="group__DBusResources_html_ga48d9b53d1a395ab3c4f1846ca569ef3f"><div class="ttname"><a href="group__DBusResources.html#ga48d9b53d1a395ab3c4f1846ca569ef3f">_dbus_counter_unref</a></div><div class="ttdeci">void _dbus_counter_unref(DBusCounter *counter)</div><div class="ttdoc">Decrements refcount of the counter and possibly finalizes the counter. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-resources_8c_source.html#l00124">dbus-resources.c:124</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gac84be3fd98e49409c1245a87c7de6f7d"><div class="ttname"><a href="group__DBusMessageInternals.html#gac84be3fd98e49409c1245a87c7de6f7d">_dbus_message_remove_counter</a></div><div class="ttdeci">void _dbus_message_remove_counter(DBusMessage *message, DBusCounter *counter)</div><div class="ttdoc">Removes a counter tracking the size/unix fds of this message, and decrements the counter by the size/...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00352">dbus-message.c:352</a></div></div>
<div class="ttc" id="group__DBusList_html_gad99045e79db46159babe69718f343053"><div class="ttname"><a href="group__DBusList.html#gad99045e79db46159babe69718f343053">_dbus_list_append</a></div><div class="ttdeci">dbus_bool_t _dbus_list_append(DBusList **list, void *data)</div><div class="ttdoc">Appends a value to the list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00270">dbus-list.c:270</a></div></div>
<div class="ttc" id="group__DBusObjectTree_html_gab282b916368cd512842d3aaae31e65c7"><div class="ttname"><a href="group__DBusObjectTree.html#gab282b916368cd512842d3aaae31e65c7">_dbus_decompose_path</a></div><div class="ttdeci">dbus_bool_t _dbus_decompose_path(const char *data, int len, char ***path, int *path_len)</div><div class="ttdoc">Decompose an object path. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-object-tree_8c_source.html#l01242">dbus-object-tree.c:1242</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_gaad95864dca5140b730bc143cb2d1b024"><div class="ttname"><a href="group__DBusInternalsUtils.html#gaad95864dca5140b730bc143cb2d1b024">_dbus_memdup</a></div><div class="ttdeci">void * _dbus_memdup(const void *mem, size_t n_bytes)</div><div class="ttdoc">Duplicates a block of memory. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8c_source.html#l00555">dbus-internals.c:555</a></div></div>
<div class="ttc" id="group__DBusDataSlot_html_gad2952f9f686d96e7114fc49ab7452e1a"><div class="ttname"><a href="group__DBusDataSlot.html#gad2952f9f686d96e7114fc49ab7452e1a">_dbus_data_slot_list_set</a></div><div class="ttdeci">dbus_bool_t _dbus_data_slot_list_set(DBusDataSlotAllocator *allocator, DBusDataSlotList *list, int slot, void *data, DBusFreeFunction free_data_func, DBusFreeFunction *old_free_func, void **old_data)</div><div class="ttdoc">Stores a pointer in the data slot list, along with an optional function to be used for freeing the da...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-dataslot_8c_source.html#l00221">dbus-dataslot.c:221</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaaf25da0ba1482266293d329314c21786"><div class="ttname"><a href="group__DBusMessage.html#gaaf25da0ba1482266293d329314c21786">dbus_message_set_path</a></div><div class="ttdeci">dbus_bool_t dbus_message_set_path(DBusMessage *message, const char *object_path)</div><div class="ttdoc">Sets the object path this message is being sent to (for DBUS_MESSAGE_TYPE_METHOD_CALL) or the one a s...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03067">dbus-message.c:3067</a></div></div>
<div class="ttc" id="group__DBusList_html_ga8dd69084b53361803a765e6d53d5b9d1"><div class="ttname"><a href="group__DBusList.html#ga8dd69084b53361803a765e6d53d5b9d1">_dbus_list_foreach</a></div><div class="ttdeci">void _dbus_list_foreach(DBusList **list, DBusForeachFunction function, void *data)</div><div class="ttdoc">Calls the given function for each element in the list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00759">dbus-list.c:759</a></div></div>
<div class="ttc" id="structDBusMessageLoader_html_a174d67695b3aca6ee3bb8e1e5e033334"><div class="ttname"><a href="structDBusMessageLoader.html#a174d67695b3aca6ee3bb8e1e5e033334">DBusMessageLoader::max_message_size</a></div><div class="ttdeci">long max_message_size</div><div class="ttdoc">Maximum size of a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00068">dbus-message-private.h:68</a></div></div>
<div class="ttc" id="group__DBusResources_html_ga7d9411d27b337289ab5648beb148cde6"><div class="ttname"><a href="group__DBusResources.html#ga7d9411d27b337289ab5648beb148cde6">_dbus_counter_adjust_unix_fd</a></div><div class="ttdeci">void _dbus_counter_adjust_unix_fd(DBusCounter *counter, long delta)</div><div class="ttdoc">Adjusts the value of the unix fd counter by the given delta which may be positive or negative...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-resources_8c_source.html#l00202">dbus-resources.c:202</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga746c09512d4905f2d2fac7ed4c3c63c2"><div class="ttname"><a href="group__DBusMarshal.html#ga746c09512d4905f2d2fac7ed4c3c63c2">_dbus_type_reader_next</a></div><div class="ttdeci">dbus_bool_t _dbus_type_reader_next(DBusTypeReader *reader)</div><div class="ttdoc">Skip to the next value on this &quot;level&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l01051">dbus-marshal-recursive.c:1051</a></div></div>
<div class="ttc" id="structDBusMessage_html_ac6fc05ddffb11ac60b9da046abd2dc52"><div class="ttname"><a href="structDBusMessage.html#ac6fc05ddffb11ac60b9da046abd2dc52">DBusMessage::counters</a></div><div class="ttdeci">DBusList * counters</div><div class="ttdoc">0-N DBusCounter used to track message size/unix fds. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00113">dbus-message-private.h:113</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga66f1c10cf909ba09ed732bc125ff8671"><div class="ttname"><a href="group__DBusMessageInternals.html#ga66f1c10cf909ba09ed732bc125ff8671">_dbus_message_loader_new</a></div><div class="ttdeci">DBusMessageLoader * _dbus_message_loader_new(void)</div><div class="ttdoc">Creates a new message loader. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03863">dbus-message.c:3863</a></div></div>
<div class="ttc" id="structDBusMessage_html_ab8f43d40fa870f97f1126256568cec61"><div class="ttname"><a href="structDBusMessage.html#ab8f43d40fa870f97f1126256568cec61">DBusMessage::size_counter_delta</a></div><div class="ttdeci">long size_counter_delta</div><div class="ttdoc">Size we incremented the size counters by. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00114">dbus-message-private.h:114</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga660989658f3be5e403da430f63afd0b7"><div class="ttname"><a href="group__DBusMessageInternals.html#ga660989658f3be5e403da430f63afd0b7">CHANGED_STAMP_BITS</a></div><div class="ttdeci">#define CHANGED_STAMP_BITS</div><div class="ttdoc">How many bits are in the changed_stamp used to validate iterators. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00090">dbus-message-private.h:90</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gae5277c7b7bfb7b85e421baceac0398c8"><div class="ttname"><a href="group__DBusMarshal.html#gae5277c7b7bfb7b85e421baceac0398c8">_dbus_header_byteswap</a></div><div class="ttdeci">void _dbus_header_byteswap(DBusHeader *header, int new_order)</div><div class="ttdoc">Swaps the header into the given order if required. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01496">dbus-marshal-header.c:1496</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga674d74081baf6e7531e0d4a286724210"><div class="ttname"><a href="group__DBusMarshal.html#ga674d74081baf6e7531e0d4a286724210">_dbus_header_have_message_untrusted</a></div><div class="ttdeci">dbus_bool_t _dbus_header_have_message_untrusted(int max_message_length, DBusValidity *validity, int *byte_order, int *fields_array_len, int *header_len, int *body_len, const DBusString *str, int start, int len)</div><div class="ttdoc">Given data long enough to contain the length of the message body and the fields array, check whether the data is long enough to contain the entire message (assuming the claimed lengths are accurate). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00673">dbus-marshal-header.c:673</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga09416afd76b65139eddd31e1085d9ebf"><div class="ttname"><a href="group__DBusProtocol.html#ga09416afd76b65139eddd31e1085d9ebf">DBUS_MESSAGE_TYPE_METHOD_CALL</a></div><div class="ttdeci">#define DBUS_MESSAGE_TYPE_METHOD_CALL</div><div class="ttdoc">Message type of a method call message, see dbus_message_get_type() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00234">dbus-protocol.h:234</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga03b9c24acbfd1e3da19804c739612885"><div class="ttname"><a href="group__DBusProtocol.html#ga03b9c24acbfd1e3da19804c739612885">DBUS_HEADER_FIELD_UNIX_FDS</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_UNIX_FDS</div><div class="ttdoc">Header field code for the number of unix file descriptors associated with this message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00302">dbus-protocol.h:302</a></div></div>
<div class="ttc" id="group__DBusMemoryInternals_html_ga7c224d82013e2bdc181c1d85dcb6f295"><div class="ttname"><a href="group__DBusMemoryInternals.html#ga7c224d82013e2bdc181c1d85dcb6f295">_dbus_current_generation</a></div><div class="ttdeci">int _dbus_current_generation</div><div class="ttdoc">_dbus_current_generation is used to track each time that dbus_shutdown() is called, so we can reinit things after it&amp;#39;s been called. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-memory_8c_source.html#l00781">dbus-memory.c:781</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gad8953f53ceea7de81cde792e3edd0230"><div class="ttname"><a href="group__DBusMessage.html#gad8953f53ceea7de81cde792e3edd0230">dbus_message_get_args</a></div><div class="ttdeci">dbus_bool_t dbus_message_get_args(DBusMessage *message, DBusError *error, int first_arg_type,...)</div><div class="ttdoc">Gets arguments from a message given a variable argument list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01980">dbus-message.c:1980</a></div></div>
<div class="ttc" id="structDBusError_html"><div class="ttname"><a href="structDBusError.html">DBusError</a></div><div class="ttdoc">Object representing an exception. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-errors_8h_source.html#l00048">dbus-errors.h:48</a></div></div>
<div class="ttc" id="structDBusMessage_html_ac71fa5534264093e6af8bc41f15237c8"><div class="ttname"><a href="structDBusMessage.html#ac71fa5534264093e6af8bc41f15237c8">DBusMessage::in_cache</a></div><div class="ttdeci">unsigned int in_cache</div><div class="ttdoc">Has been &quot;freed&quot; since it&amp;#39;s in the cache (this is a debug feature) </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00110">dbus-message-private.h:110</a></div></div>
<div class="ttc" id="group__DBusList_html_gacb96c9d3e9a869e63b8db4f8913a5a60"><div class="ttname"><a href="group__DBusList.html#gacb96c9d3e9a869e63b8db4f8913a5a60">_dbus_list_pop_first</a></div><div class="ttdeci">void * _dbus_list_pop_first(DBusList **list)</div><div class="ttdoc">Removes the first value in the list and returns it. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00649">dbus-list.c:649</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga26ed6c20c3d9f0b50ea0a1cf80be3279"><div class="ttname"><a href="group__DBusProtocol.html#ga26ed6c20c3d9f0b50ea0a1cf80be3279">DBUS_TYPE_SIGNATURE</a></div><div class="ttdeci">#define DBUS_TYPE_SIGNATURE</div><div class="ttdoc">Type code marking a D-Bus type signature. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00110">dbus-protocol.h:110</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga658a91d8efc59934016fae6905bfc4bf"><div class="ttname"><a href="group__DBusMessageInternals.html#ga658a91d8efc59934016fae6905bfc4bf">_dbus_message_loader_set_pending_fds_function</a></div><div class="ttdeci">void _dbus_message_loader_set_pending_fds_function(DBusMessageLoader *loader, void(*callback)(void *), void *data)</div><div class="ttdoc">Register a function to be called whenever the number of pending file descriptors in the loader change...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04532">dbus-message.c:4532</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga591f3aab5dd2c87e56e05423c2a671d9"><div class="ttname"><a href="group__DBusMessage.html#ga591f3aab5dd2c87e56e05423c2a671d9">dbus_message_append_args</a></div><div class="ttdeci">dbus_bool_t dbus_message_append_args(DBusMessage *message, int first_arg_type,...)</div><div class="ttdoc">Appends fields to a message given a variable argument list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01792">dbus-message.c:1792</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga728d893ff0c00e126517ba39835220a5"><div class="ttname"><a href="group__DBusProtocol.html#ga728d893ff0c00e126517ba39835220a5">DBUS_MESSAGE_TYPE_SIGNAL</a></div><div class="ttdeci">#define DBUS_MESSAGE_TYPE_SIGNAL</div><div class="ttdoc">Message type of a signal message, see dbus_message_get_type() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00240">dbus-protocol.h:240</a></div></div>
<div class="ttc" id="group__DBusErrors_html_ga89d2ad4bde21f9e0057fac07a79885e3"><div class="ttname"><a href="group__DBusErrors.html#ga89d2ad4bde21f9e0057fac07a79885e3">dbus_set_error</a></div><div class="ttdeci">void dbus_set_error(DBusError *error, const char *name, const char *format,...)</div><div class="ttdoc">Assigns an error name and message to a DBusError. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-errors_8c_source.html#l00354">dbus-errors.c:354</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga94c43b2b237d842a6b91da6f94818d47"><div class="ttname"><a href="group__DBusMessage.html#ga94c43b2b237d842a6b91da6f94818d47">dbus_message_get_reply_serial</a></div><div class="ttdeci">dbus_uint32_t dbus_message_get_reply_serial(DBusMessage *message)</div><div class="ttdoc">Returns the serial that the message is a reply to or 0 if none. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01163">dbus-message.c:1163</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gacbe0bfe7a9551ab0489a0ec9aba6e94e"><div class="ttname"><a href="group__DBusMessageInternals.html#gacbe0bfe7a9551ab0489a0ec9aba6e94e">INITIAL_LOADER_DATA_LEN</a></div><div class="ttdeci">#define INITIAL_LOADER_DATA_LEN</div><div class="ttdoc">The initial buffer size of the message loader. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03854">dbus-message.c:3854</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga8d563a936b6147f12dce7f24df3557b7"><div class="ttname"><a href="group__DBusMessage.html#ga8d563a936b6147f12dce7f24df3557b7">dbus_message_has_signature</a></div><div class="ttdeci">dbus_bool_t dbus_message_has_signature(DBusMessage *message, const char *signature)</div><div class="ttdoc">Checks whether the message has the given signature; see dbus_message_get_signature() for more details...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03754">dbus-message.c:3754</a></div></div>
<div class="ttc" id="group__DBusDataSlot_html_ga3c96d2ca263ba397b4da2956a49ae282"><div class="ttname"><a href="group__DBusDataSlot.html#ga3c96d2ca263ba397b4da2956a49ae282">_dbus_data_slot_list_clear</a></div><div class="ttdeci">void _dbus_data_slot_list_clear(DBusDataSlotList *list)</div><div class="ttdoc">Frees all data slots contained in the list, calling application-provided free functions if they exist...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-dataslot_8c_source.html#l00317">dbus-dataslot.c:317</a></div></div>
<div class="ttc" id="group__DBusSysdeps_html_gae74c3fcf12acaeccdb152ef907de951c"><div class="ttname"><a href="group__DBusSysdeps.html#gae74c3fcf12acaeccdb152ef907de951c">_dbus_atomic_inc</a></div><div class="ttdeci">dbus_int32_t _dbus_atomic_inc(DBusAtomic *atomic)</div><div class="ttdoc">Atomically increments an integer. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-sysdeps-unix_8c_source.html#l02562">dbus-sysdeps-unix.c:2562</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga38da52ac9344b00df530098bdd9a3842"><div class="ttname"><a href="group__DBusMessageInternals.html#ga38da52ac9344b00df530098bdd9a3842">_dbus_message_loader_get_is_corrupted</a></div><div class="ttdeci">dbus_bool_t _dbus_message_loader_get_is_corrupted(DBusMessageLoader *loader)</div><div class="ttdoc">Checks whether the loader is confused due to bad data. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04424">dbus-message.c:4424</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga4aa7a463ad2bce4e9aa95e3e397ddcf1"><div class="ttname"><a href="group__DBusProtocol.html#ga4aa7a463ad2bce4e9aa95e3e397ddcf1">DBUS_TYPE_VARIANT</a></div><div class="ttdeci">#define DBUS_TYPE_VARIANT</div><div class="ttdoc">Type code marking a D-Bus variant type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00124">dbus-protocol.h:124</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gaedb1740bd8a9174b98ac593eded25d49"><div class="ttname"><a href="group__DBusProtocol.html#gaedb1740bd8a9174b98ac593eded25d49">DBUS_TYPE_UINT32</a></div><div class="ttdeci">#define DBUS_TYPE_UINT32</div><div class="ttdoc">Type code marking a 32-bit unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00086">dbus-protocol.h:86</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gae997884ec8091aacb5492c2b5a7eaef9"><div class="ttname"><a href="group__DBusMarshal.html#gae997884ec8091aacb5492c2b5a7eaef9">_dbus_validate_body_with_reason</a></div><div class="ttdeci">DBusValidity _dbus_validate_body_with_reason(const DBusString *expected_signature, int expected_signature_start, int byte_order, int *bytes_remaining, const DBusString *value_str, int value_pos, int len)</div><div class="ttdoc">Verifies that the range of value_str from value_pos to value_end is a legitimate value of type expect...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8c_source.html#l00703">dbus-marshal-validate.c:703</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga6d41ad4de211c87f4b8a43340b6893e2"><div class="ttname"><a href="group__DBusMarshal.html#ga6d41ad4de211c87f4b8a43340b6893e2">_dbus_header_reinit</a></div><div class="ttdeci">void _dbus_header_reinit(DBusHeader *header)</div><div class="ttdoc">Re-initializes a header that was previously initialized and never freed. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00443">dbus-marshal-header.c:443</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8"><div class="ttname"><a href="group__DBusMarshal.html#gga0c4521d30d6650a33673a4d7f9cc007cae68ac5067fe94cdcfb35e115f36298c8">DBUS_VALID</a></div><div class="ttdoc">the data is valid </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-validate_8h_source.html#l00056">dbus-marshal-validate.h:56</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga98ddc82450d818138ef326a284201ee0"><div class="ttname"><a href="group__DBusMessage.html#ga98ddc82450d818138ef326a284201ee0">dbus_message_new_method_call</a></div><div class="ttdeci">DBusMessage * dbus_message_new_method_call(const char *destination, const char *path, const char *iface, const char *method)</div><div class="ttdoc">Constructs a new message to invoke a method on a remote object. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01333">dbus-message.c:1333</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gade98f71a08a1e0198d095fdb6d46cab9"><div class="ttname"><a href="group__DBusProtocol.html#gade98f71a08a1e0198d095fdb6d46cab9">DBUS_HEADER_FIELD_DESTINATION</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_DESTINATION</div><div class="ttdoc">Header field code for the destination bus name of a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00288">dbus-protocol.h:288</a></div></div>
<div class="ttc" id="structDBusTypeReader_html_aeb0846d954066f420e1df98b81148702"><div class="ttname"><a href="structDBusTypeReader.html#aeb0846d954066f420e1df98b81148702">DBusTypeReader::byte_order</a></div><div class="ttdeci">dbus_uint32_t byte_order</div><div class="ttdoc">byte order of the block </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8h_source.html#l00041">dbus-marshal-recursive.h:41</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga7814248f4d74d109d29dc00487cd9b0c"><div class="ttname"><a href="group__DBusMarshal.html#ga7814248f4d74d109d29dc00487cd9b0c">_dbus_header_delete_field</a></div><div class="ttdeci">dbus_bool_t _dbus_header_delete_field(DBusHeader *header, int field)</div><div class="ttdoc">Deletes a field, if it exists. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01416">dbus-marshal-header.c:1416</a></div></div>
<div class="ttc" id="group__DBusSysdepsUnix_html_gac448479a1674e3b86cee9a4bdc7eba03"><div class="ttname"><a href="group__DBusSysdepsUnix.html#gac448479a1674e3b86cee9a4bdc7eba03">_dbus_close</a></div><div class="ttdeci">dbus_bool_t _dbus_close(int fd, DBusError *error)</div><div class="ttdoc">Closes a file descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-sysdeps-unix_8c_source.html#l03025">dbus-sysdeps-unix.c:3025</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga017cb8d960d4c360cb6b30ded5292509"><div class="ttname"><a href="group__DBusMessage.html#ga017cb8d960d4c360cb6b30ded5292509">dbus_message_has_destination</a></div><div class="ttdeci">dbus_bool_t dbus_message_has_destination(DBusMessage *message, const char *name)</div><div class="ttdoc">Checks whether the message was sent to the given name. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03690">dbus-message.c:3690</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gac975525a6ce258a7a70c583c9741b516"><div class="ttname"><a href="group__DBusProtocol.html#gac975525a6ce258a7a70c583c9741b516">DBUS_MESSAGE_TYPE_INVALID</a></div><div class="ttdeci">#define DBUS_MESSAGE_TYPE_INVALID</div><div class="ttdoc">This value is never a valid message type, see dbus_message_get_type() </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00232">dbus-protocol.h:232</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga9e3539506c57a085ce40ca4dc919015b"><div class="ttname"><a href="group__DBusProtocol.html#ga9e3539506c57a085ce40ca4dc919015b">DBUS_HEADER_FLAG_ALLOW_INTERACTIVE_AUTHORIZATION</a></div><div class="ttdeci">#define DBUS_HEADER_FLAG_ALLOW_INTERACTIVE_AUTHORIZATION</div><div class="ttdoc">If set on a method call, this flag means that the caller is prepared to wait for interactive authoriz...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00261">dbus-protocol.h:261</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga85d396a3a774e15c3dbb7704aa173384"><div class="ttname"><a href="group__DBusMessage.html#ga85d396a3a774e15c3dbb7704aa173384">dbus_message_get_auto_start</a></div><div class="ttdeci">dbus_bool_t dbus_message_get_auto_start(DBusMessage *message)</div><div class="ttdoc">Returns TRUE if the message will cause an owner for destination name to be auto-started. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03045">dbus-message.c:3045</a></div></div>
<div class="ttc" id="structDBusTypeWriter_html_a6c4baf0b7148cf3f76924b654dada148"><div class="ttname"><a href="structDBusTypeWriter.html#a6c4baf0b7148cf3f76924b654dada148">DBusTypeWriter::byte_order</a></div><div class="ttdeci">dbus_uint32_t byte_order</div><div class="ttdoc">byte order to write values with </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8h_source.html#l00066">dbus-marshal-recursive.h:66</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_ga1b7db80a2ea11235768ec8aa698df0a5"><div class="ttname"><a href="group__DBusInternalsUtils.html#ga1b7db80a2ea11235768ec8aa698df0a5">_DBUS_UNLOCK</a></div><div class="ttdeci">#define _DBUS_UNLOCK(name)</div><div class="ttdoc">Unlocks a global lock. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8h_source.html#l00330">dbus-internals.h:330</a></div></div>
<div class="ttc" id="group__DBusString_html_ga781ca91acda49a834dce7d0ed0eef212"><div class="ttname"><a href="group__DBusString.html#ga781ca91acda49a834dce7d0ed0eef212">_dbus_string_free</a></div><div class="ttdeci">void _dbus_string_free(DBusString *str)</div><div class="ttdoc">Frees a string created by _dbus_string_init(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00259">dbus-string.c:259</a></div></div>
<div class="ttc" id="structDBusTypeReader_html"><div class="ttname"><a href="structDBusTypeReader.html">DBusTypeReader</a></div><div class="ttdoc">The type reader is an iterator for reading values from a block of values. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8h_source.html#l00039">dbus-marshal-recursive.h:39</a></div></div>
<div class="ttc" id="group__DBusDataSlot_html_ga43f741229f0c38788442601e2750ec66"><div class="ttname"><a href="group__DBusDataSlot.html#ga43f741229f0c38788442601e2750ec66">_dbus_data_slot_list_get</a></div><div class="ttdeci">void * _dbus_data_slot_list_get(DBusDataSlotAllocator *allocator, DBusDataSlotList *list, int slot)</div><div class="ttdoc">Retrieves data previously set with _dbus_data_slot_list_set_data(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-dataslot_8c_source.html#l00285">dbus-dataslot.c:285</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gaf65867d15c7d8adb91f430c483c180be"><div class="ttname"><a href="group__DBusMessageInternals.html#gaf65867d15c7d8adb91f430c483c180be">_dbus_message_loader_get_max_message_unix_fds</a></div><div class="ttdeci">long _dbus_message_loader_get_max_message_unix_fds(DBusMessageLoader *loader)</div><div class="ttdoc">Gets the maximum allowed number of unix fds per message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04503">dbus-message.c:4503</a></div></div>
<div class="ttc" id="group__DBusMacros_html_gaa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdoc">Expands to &quot;1&quot;. </div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gad85c737f9e7d03005d6028d6bbae7e87"><div class="ttname"><a href="group__DBusMessageInternals.html#gad85c737f9e7d03005d6028d6bbae7e87">dbus_message_marshal</a></div><div class="ttdeci">dbus_bool_t dbus_message_marshal(DBusMessage *msg, char **marshalled_data_p, int *len_p)</div><div class="ttdoc">Turn a DBusMessage into the marshalled form as described in the D-Bus specification. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04721">dbus-message.c:4721</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga4349de00b7754a337526e36fda133464"><div class="ttname"><a href="group__DBusMarshal.html#ga4349de00b7754a337526e36fda133464">_dbus_header_set_field_basic</a></div><div class="ttdeci">dbus_bool_t _dbus_header_set_field_basic(DBusHeader *header, int field, int type, const void *value)</div><div class="ttdoc">Sets the value of a field with basic type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01273">dbus-marshal-header.c:1273</a></div></div>
<div class="ttc" id="group__DBusDataSlot_html_ga6de49b3a1210202215d40a5a19806992"><div class="ttname"><a href="group__DBusDataSlot.html#ga6de49b3a1210202215d40a5a19806992">_dbus_data_slot_list_init</a></div><div class="ttdeci">void _dbus_data_slot_list_init(DBusDataSlotList *list)</div><div class="ttdoc">Initializes a slot list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-dataslot_8c_source.html#l00197">dbus-dataslot.c:197</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_ga0c4961ec784874f1b1f3aeccea8d3da1"><div class="ttname"><a href="group__DBusInternalsUtils.html#ga0c4961ec784874f1b1f3aeccea8d3da1">_dbus_assert_not_reached</a></div><div class="ttdeci">#define _dbus_assert_not_reached(explanation)</div><div class="ttdoc">Aborts with an error message if called. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8h_source.html#l00145">dbus-internals.h:145</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga4bed3858b3b48ec7c86d9fc56a6ce372"><div class="ttname"><a href="group__DBusMessage.html#ga4bed3858b3b48ec7c86d9fc56a6ce372">dbus_message_copy</a></div><div class="ttdeci">DBusMessage * dbus_message_copy(const DBusMessage *message)</div><div class="ttdoc">Creates a new message that is an exact replica of the message specified, except that its refcount is ...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01587">dbus-message.c:1587</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga868a7aeddb9b54b2805776b512f68cb4"><div class="ttname"><a href="group__DBusMessage.html#ga868a7aeddb9b54b2805776b512f68cb4">dbus_message_iter_get_element_type</a></div><div class="ttdeci">int dbus_message_iter_get_element_type(DBusMessageIter *iter)</div><div class="ttdoc">Returns the element type of the array that the message iterator points to. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02158">dbus-message.c:2158</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga617811b117ac5eb31151ffb7dabea7a8"><div class="ttname"><a href="group__DBusMessageInternals.html#ga617811b117ac5eb31151ffb7dabea7a8">_dbus_message_get_network_data</a></div><div class="ttdeci">void _dbus_message_get_network_data(DBusMessage *message, const DBusString **header, const DBusString **body)</div><div class="ttdoc">Gets the data to be sent over the network for this message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00208">dbus-message.c:208</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga2aa9d65ef983ac9c08c1d4cb31366818"><div class="ttname"><a href="group__DBusProtocol.html#ga2aa9d65ef983ac9c08c1d4cb31366818">DBUS_HEADER_FIELD_MEMBER</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_MEMBER</div><div class="ttdoc">Header field code for a member (method or signal). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00276">dbus-protocol.h:276</a></div></div>
<div class="ttc" id="structDBusMessageLoader_html_a2134a617c0d631d946adee1f08443851"><div class="ttname"><a href="structDBusMessageLoader.html#a2134a617c0d631d946adee1f08443851">DBusMessageLoader::max_message_unix_fds</a></div><div class="ttdeci">long max_message_unix_fds</div><div class="ttdoc">Maximum unix fds in a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00069">dbus-message-private.h:69</a></div></div>
<div class="ttc" id="structDBusMessageLoader_html_a7af27694794dc471ed3b251da8d7c62e"><div class="ttname"><a href="structDBusMessageLoader.html#a7af27694794dc471ed3b251da8d7c62e">DBusMessageLoader::corrupted</a></div><div class="ttdeci">unsigned int corrupted</div><div class="ttdoc">We got broken data, and are no longer working. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00073">dbus-message-private.h:73</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gab0f9bbe4f3d26bc9b5cf4f243c268aaa"><div class="ttname"><a href="group__DBusMessage.html#gab0f9bbe4f3d26bc9b5cf4f243c268aaa">dbus_message_get_args_valist</a></div><div class="ttdeci">dbus_bool_t dbus_message_get_args_valist(DBusMessage *message, DBusError *error, int first_arg_type, va_list var_args)</div><div class="ttdoc">Like dbus_message_get_args but takes a va_list for use by language bindings. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02009">dbus-message.c:2009</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga3ba84ae623951832bd73e2796bb13e71"><div class="ttname"><a href="group__DBusProtocol.html#ga3ba84ae623951832bd73e2796bb13e71">DBUS_HEADER_FIELD_SENDER</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_SENDER</div><div class="ttdoc">Header field code for the sender of a message; usually initialized by the message bus...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00293">dbus-protocol.h:293</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga863b2f232a21582f9e6fe1951b09da91"><div class="ttname"><a href="group__DBusMarshal.html#ga863b2f232a21582f9e6fe1951b09da91">_dbus_type_writer_add_types</a></div><div class="ttdeci">void _dbus_type_writer_add_types(DBusTypeWriter *writer, DBusString *type_str, int type_pos)</div><div class="ttdoc">Adds type string to the writer, if it had none. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l01543">dbus-marshal-recursive.c:1543</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga31cc59c99a6cbbfcef71756e1390dc4c"><div class="ttname"><a href="group__DBusProtocol.html#ga31cc59c99a6cbbfcef71756e1390dc4c">DBUS_TYPE_OBJECT_PATH</a></div><div class="ttdeci">#define DBUS_TYPE_OBJECT_PATH</div><div class="ttdoc">Type code marking a D-Bus object path. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00106">dbus-protocol.h:106</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaba5e49e956e6bbd1f857ffd21c289276"><div class="ttname"><a href="group__DBusMessage.html#gaba5e49e956e6bbd1f857ffd21c289276">dbus_set_error_from_message</a></div><div class="ttdeci">dbus_bool_t dbus_set_error_from_message(DBusError *error, DBusMessage *message)</div><div class="ttdoc">Sets a DBusError based on the contents of the given message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03796">dbus-message.c:3796</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga776fe8b5cd935d642875efa1d13a31b3"><div class="ttname"><a href="group__DBusMessageInternals.html#ga776fe8b5cd935d642875efa1d13a31b3">dbus_message_demarshal</a></div><div class="ttdeci">DBusMessage * dbus_message_demarshal(const char *str, int len, DBusError *error)</div><div class="ttdoc">Demarshal a D-Bus message from the format described in the D-Bus specification. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04783">dbus-message.c:4783</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gae195a3312ae445e7ef0196854f3523f8"><div class="ttname"><a href="group__DBusMessage.html#gae195a3312ae445e7ef0196854f3523f8">dbus_message_iter_get_fixed_array</a></div><div class="ttdeci">void dbus_message_iter_get_fixed_array(DBusMessageIter *iter, void *value, int *n_elements)</div><div class="ttdoc">Reads a block of fixed-length values from the message iterator. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02391">dbus-message.c:2391</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga59f8acaeb207b182982dfb97174b7f16"><div class="ttname"><a href="group__DBusProtocol.html#ga59f8acaeb207b182982dfb97174b7f16">DBUS_TYPE_UNIX_FD</a></div><div class="ttdeci">#define DBUS_TYPE_UNIX_FD</div><div class="ttdoc">Type code marking a unix file descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00114">dbus-protocol.h:114</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gac7901e4196f10d4763df89b42d5db03e"><div class="ttname"><a href="group__DBusMarshal.html#gac7901e4196f10d4763df89b42d5db03e">_dbus_header_create</a></div><div class="ttdeci">dbus_bool_t _dbus_header_create(DBusHeader *header, int byte_order, int message_type, const char *destination, const char *path, const char *interface, const char *member, const char *error_name)</div><div class="ttdoc">Fills in the primary fields of the header, so the header is ready for use. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00528">dbus-marshal-header.c:528</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga1ad192bd4538cae556121a71b4e09d42"><div class="ttname"><a href="group__DBusMessage.html#ga1ad192bd4538cae556121a71b4e09d42">dbus_message_get_interface</a></div><div class="ttdeci">const char * dbus_message_get_interface(DBusMessage *message)</div><div class="ttdoc">Gets the interface this message is being sent to (for DBUS_MESSAGE_TYPE_METHOD_CALL) or being emitted...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03227">dbus-message.c:3227</a></div></div>
<div class="ttc" id="structDBusDataSlotAllocator_html"><div class="ttname"><a href="structDBusDataSlotAllocator.html">DBusDataSlotAllocator</a></div><div class="ttdoc">An allocator that tracks a set of slot IDs. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-dataslot_8h_source.html#l00055">dbus-dataslot.h:55</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gaa9588da889743b2119dc6664712ae51e"><div class="ttname"><a href="group__DBusProtocol.html#gaa9588da889743b2119dc6664712ae51e">DBUS_TYPE_INVALID</a></div><div class="ttdeci">#define DBUS_TYPE_INVALID</div><div class="ttdoc">Type code that is never equal to a legitimate type code. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00060">dbus-protocol.h:60</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gaec08603ff3d49bbcded67d25188a23f1"><div class="ttname"><a href="group__DBusMessage.html#gaec08603ff3d49bbcded67d25188a23f1">dbus_message_set_reply_serial</a></div><div class="ttdeci">dbus_bool_t dbus_message_set_reply_serial(DBusMessage *message, dbus_uint32_t reply_serial)</div><div class="ttdoc">Sets the reply serial of a message (the serial of the message this is a reply to). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01143">dbus-message.c:1143</a></div></div>
<div class="ttc" id="group__DBusResources_html_gab8c0e970e0c3b4696ba06723639d8239"><div class="ttname"><a href="group__DBusResources.html#gab8c0e970e0c3b4696ba06723639d8239">_dbus_counter_notify</a></div><div class="ttdeci">void _dbus_counter_notify(DBusCounter *counter)</div><div class="ttdoc">Calls the notify function from _dbus_counter_set_notify(), if that function has been specified and th...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-resources_8c_source.html#l00182">dbus-resources.c:182</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga332fb0c71efcd1e9ef43ebdf2a25350c"><div class="ttname"><a href="group__DBusMessage.html#ga332fb0c71efcd1e9ef43ebdf2a25350c">dbus_message_has_sender</a></div><div class="ttdeci">dbus_bool_t dbus_message_has_sender(DBusMessage *message, const char *name)</div><div class="ttdoc">Checks whether the message has the given unique name as its sender. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03725">dbus-message.c:3725</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga554e9fafd4dcc84cebe9da9344846a82"><div class="ttname"><a href="group__DBusMessage.html#ga554e9fafd4dcc84cebe9da9344846a82">dbus_message_iter_next</a></div><div class="ttdeci">dbus_bool_t dbus_message_iter_next(DBusMessageIter *iter)</div><div class="ttdoc">Moves the iterator to the next field, if any. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02114">dbus-message.c:2114</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga47a86f36abae39fe43916681d3f16330"><div class="ttname"><a href="group__DBusMessageInternals.html#ga47a86f36abae39fe43916681d3f16330">_DBUS_STRING_DEFINE_STATIC</a></div><div class="ttdeci">_DBUS_STRING_DEFINE_STATIC(_dbus_empty_signature_str,&quot;&quot;)</div><div class="ttdoc">An static string representing an empty signature. </div></div>
<div class="ttc" id="group__DBusMessage_html_ga41c23a05e552d0574d0444d4693d18ab"><div class="ttname"><a href="group__DBusMessage.html#ga41c23a05e552d0574d0444d4693d18ab">dbus_message_iter_get_basic</a></div><div class="ttdeci">void dbus_message_iter_get_basic(DBusMessageIter *iter, void *value)</div><div class="ttdoc">Reads a basic-typed value from the message iterator. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02293">dbus-message.c:2293</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga62769bfaf8f1b2edc7922c579bc0649d"><div class="ttname"><a href="group__DBusMessageInternals.html#ga62769bfaf8f1b2edc7922c579bc0649d">dbus_message_get_data</a></div><div class="ttdeci">void * dbus_message_get_data(DBusMessage *message, dbus_int32_t slot)</div><div class="ttdoc">Retrieves data previously set with dbus_message_set_data(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04635">dbus-message.c:4635</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga35d70cf69b1196518367e3e68e9b2dd2"><div class="ttname"><a href="group__DBusMarshal.html#ga35d70cf69b1196518367e3e68e9b2dd2">_dbus_type_reader_init</a></div><div class="ttdeci">void _dbus_type_reader_init(DBusTypeReader *reader, int byte_order, const DBusString *type_str, int type_pos, const DBusString *value_str, int value_pos)</div><div class="ttdoc">Initializes a type reader. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00732">dbus-marshal-recursive.c:732</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gab90a814a27aeeace7e02c4ed130539cf"><div class="ttname"><a href="group__DBusMarshal.html#gab90a814a27aeeace7e02c4ed130539cf">_dbus_header_free</a></div><div class="ttdeci">void _dbus_header_free(DBusHeader *header)</div><div class="ttdoc">Frees a header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00476">dbus-marshal-header.c:476</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga6ec3c1ad57340f717a47d79092122d04"><div class="ttname"><a href="group__DBusMessageInternals.html#ga6ec3c1ad57340f717a47d79092122d04">_dbus_message_loader_pop_message_link</a></div><div class="ttdeci">DBusList * _dbus_message_loader_pop_message_link(DBusMessageLoader *loader)</div><div class="ttdoc">Pops a loaded message inside a list link (passing ownership of the message and link to the caller)...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04396">dbus-message.c:4396</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga5265afa08a4c8d9f31b287a57e8cb217"><div class="ttname"><a href="group__DBusProtocol.html#ga5265afa08a4c8d9f31b287a57e8cb217">DBUS_MAXIMUM_ARRAY_LENGTH</a></div><div class="ttdeci">#define DBUS_MAXIMUM_ARRAY_LENGTH</div><div class="ttdoc">Max length of a marshaled array in bytes (64M, 2^26) We use signed int for lengths so must be INT_MAX...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00203">dbus-protocol.h:203</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gacc47c1af23addfc4198b70084ba068fc"><div class="ttname"><a href="group__DBusMessage.html#gacc47c1af23addfc4198b70084ba068fc">dbus_message_set_destination</a></div><div class="ttdeci">dbus_bool_t dbus_message_set_destination(DBusMessage *message, const char *destination)</div><div class="ttdoc">Sets the message&amp;#39;s destination. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03425">dbus-message.c:3425</a></div></div>
<div class="ttc" id="group__DBusErrors_html_ga8937f0b7cdf8554fa6305158ce453fbe"><div class="ttname"><a href="group__DBusErrors.html#ga8937f0b7cdf8554fa6305158ce453fbe">dbus_error_init</a></div><div class="ttdeci">void dbus_error_init(DBusError *error)</div><div class="ttdoc">Initializes a DBusError structure. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-errors_8c_source.html#l00188">dbus-errors.c:188</a></div></div>
<div class="ttc" id="structDBusMessage_html_a324c5377e0be18dd84ac519ab2d23f0d"><div class="ttname"><a href="structDBusMessage.html#a324c5377e0be18dd84ac519ab2d23f0d">DBusMessage::refcount</a></div><div class="ttdeci">DBusAtomic refcount</div><div class="ttdoc">Reference count. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00101">dbus-message-private.h:101</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga622d051a2e5f578814116a958b240aa4"><div class="ttname"><a href="group__DBusMessage.html#ga622d051a2e5f578814116a958b240aa4">dbus_message_get_no_reply</a></div><div class="ttdeci">dbus_bool_t dbus_message_get_no_reply(DBusMessage *message)</div><div class="ttdoc">Returns TRUE if the message does not expect a reply. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03003">dbus-message.c:3003</a></div></div>
<div class="ttc" id="structDBusList_html"><div class="ttname"><a href="structDBusList.html">DBusList</a></div><div class="ttdoc">A node in a linked list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8h_source.html#l00034">dbus-list.h:34</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga4ed7327f9dee98711ebd7c9e5b74dec0"><div class="ttname"><a href="group__DBusMessageInternals.html#ga4ed7327f9dee98711ebd7c9e5b74dec0">_dbus_message_loader_get_unix_fds</a></div><div class="ttdeci">dbus_bool_t _dbus_message_loader_get_unix_fds(DBusMessageLoader *loader, int **fds, unsigned *max_n_fds)</div><div class="ttdoc">Gets the buffer to use for reading unix fds from the network. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04002">dbus-message.c:4002</a></div></div>
<div class="ttc" id="group__DBusMemory_html_gac200b2dbc8b3f6ecac4d42426fb97b40"><div class="ttname"><a href="group__DBusMemory.html#gac200b2dbc8b3f6ecac4d42426fb97b40">dbus_free_string_array</a></div><div class="ttdeci">void dbus_free_string_array(char **str_array)</div><div class="ttdoc">Frees a NULL-terminated array of strings. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-memory_8c_source.html#l00749">dbus-memory.c:749</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga624ecee83984330ad89cbf064a2b28e6"><div class="ttname"><a href="group__DBusProtocol.html#ga624ecee83984330ad89cbf064a2b28e6">DBUS_TYPE_BOOLEAN</a></div><div class="ttdeci">#define DBUS_TYPE_BOOLEAN</div><div class="ttdoc">Type code marking a boolean. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00070">dbus-protocol.h:70</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gae77f064b8034189a955d5be982d2fbdb"><div class="ttname"><a href="group__DBusMessageInternals.html#gae77f064b8034189a955d5be982d2fbdb">_dbus_message_loader_get_buffer</a></div><div class="ttdeci">void _dbus_message_loader_get_buffer(DBusMessageLoader *loader, DBusString **buffer)</div><div class="ttdoc">Gets the buffer to use for reading data from the network. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03962">dbus-message.c:3962</a></div></div>
<div class="ttc" id="group__DBusString_html_ga724656b7091b910965bd1af42d0b7bab"><div class="ttname"><a href="group__DBusString.html#ga724656b7091b910965bd1af42d0b7bab">_dbus_string_append_len</a></div><div class="ttdeci">dbus_bool_t _dbus_string_append_len(DBusString *str, const char *buffer, int len)</div><div class="ttdoc">Appends block of bytes with the given length to a DBusString. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l01136">dbus-string.c:1136</a></div></div>
<div class="ttc" id="structDBusMessageRealIter_html_a835b7990b2909beb06fc2dc38b76a089"><div class="ttname"><a href="structDBusMessageRealIter.html#a835b7990b2909beb06fc2dc38b76a089">DBusMessageRealIter::iter_type</a></div><div class="ttdeci">dbus_uint32_t iter_type</div><div class="ttdoc">whether this is a reader or writer iter </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00130">dbus-message.c:130</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gad92e0b1992cf96a4da642a4a54a5d26d"><div class="ttname"><a href="group__DBusMarshal.html#gad92e0b1992cf96a4da642a4a54a5d26d">_dbus_header_set_serial</a></div><div class="ttdeci">void _dbus_header_set_serial(DBusHeader *header, dbus_uint32_t serial)</div><div class="ttdoc">Sets the serial number of a header. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00404">dbus-marshal-header.c:404</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga6e5439f7ca5ee8a1ce943ddab7611d0d"><div class="ttname"><a href="group__DBusMarshal.html#ga6e5439f7ca5ee8a1ce943ddab7611d0d">_dbus_type_reader_get_element_type</a></div><div class="ttdeci">int _dbus_type_reader_get_element_type(const DBusTypeReader *reader)</div><div class="ttdoc">Gets the type of an element of the array the reader is currently pointing to. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00820">dbus-marshal-recursive.c:820</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga65c023673b837c27e8ccda5c2528d806"><div class="ttname"><a href="group__DBusMarshal.html#ga65c023673b837c27e8ccda5c2528d806">_dbus_header_get_byte_order</a></div><div class="ttdeci">char _dbus_header_get_byte_order(const DBusHeader *header)</div><div class="ttdoc">Returns the header&amp;#39;s byte order. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l00174">dbus-marshal-header.c:174</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga943150f4e87fd8507da224d22c266100"><div class="ttname"><a href="group__DBusMessage.html#ga943150f4e87fd8507da224d22c266100">dbus_message_iter_open_container</a></div><div class="ttdeci">dbus_bool_t dbus_message_iter_open_container(DBusMessageIter *iter, int type, const char *contained_signature, DBusMessageIter *sub)</div><div class="ttdoc">Appends a container-typed value to the message; you are required to append the contents of the contai...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02849">dbus-message.c:2849</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga97a59dbd1597ef1b267457e809f095de"><div class="ttname"><a href="group__DBusMarshal.html#ga97a59dbd1597ef1b267457e809f095de">_dbus_type_reader_has_next</a></div><div class="ttdeci">dbus_bool_t _dbus_type_reader_has_next(const DBusTypeReader *reader)</div><div class="ttdoc">Check whether there&amp;#39;s another value on this &quot;level&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l01091">dbus-marshal-recursive.c:1091</a></div></div>
<div class="ttc" id="unionDBusBasicValue_html"><div class="ttname"><a href="unionDBusBasicValue.html">DBusBasicValue</a></div><div class="ttdoc">A simple value union that lets you access bytes as if they were various types; useful when dealing wi...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-types_8h_source.html#l00137">dbus-types.h:137</a></div></div>
<div class="ttc" id="structDBusTypeWriter_html_ad0953035070c7c7d21b044b7b2f0f491"><div class="ttname"><a href="structDBusTypeWriter.html#ad0953035070c7c7d21b044b7b2f0f491">DBusTypeWriter::container_type</a></div><div class="ttdeci">dbus_uint32_t container_type</div><div class="ttdoc">what are we inside? (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8h_source.html#l00068">dbus-marshal-recursive.h:68</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga7def93d676d528c261aa274cea41c29d"><div class="ttname"><a href="group__DBusMarshal.html#ga7def93d676d528c261aa274cea41c29d">_dbus_type_reader_get_array_length</a></div><div class="ttdeci">int _dbus_type_reader_get_array_length(const DBusTypeReader *reader)</div><div class="ttdoc">Returns the number of bytes in the array. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00899">dbus-marshal-recursive.c:899</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gaf4661ba8e7067f349ba03c9f5776bbb0"><div class="ttname"><a href="group__DBusMarshal.html#gaf4661ba8e7067f349ba03c9f5776bbb0">_dbus_header_get_field_raw</a></div><div class="ttdeci">dbus_bool_t _dbus_header_get_field_raw(DBusHeader *header, int field, const DBusString **str, int *pos)</div><div class="ttdoc">Gets the raw marshaled data for a field. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01392">dbus-marshal-header.c:1392</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga17491f3b75b3203f6fc47dcc2e3b221b"><div class="ttname"><a href="group__DBusMessage.html#ga17491f3b75b3203f6fc47dcc2e3b221b">dbus_message_iter_append_basic</a></div><div class="ttdeci">dbus_bool_t dbus_message_iter_append_basic(DBusMessageIter *iter, int type, const void *value)</div><div class="ttdoc">Appends a basic-typed value to the message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02656">dbus-message.c:2656</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gab8ff47649497b3e0b93a2289f5d3eb23"><div class="ttname"><a href="group__DBusMessage.html#gab8ff47649497b3e0b93a2289f5d3eb23">dbus_message_iter_get_array_len</a></div><div class="ttdeci">int dbus_message_iter_get_array_len(DBusMessageIter *iter)</div><div class="ttdoc">Returns the number of bytes in the array as marshaled in the wire protocol. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02346">dbus-message.c:2346</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_ga692fe3070eecaffa172266d2f138fd69"><div class="ttname"><a href="group__DBusInternalsUtils.html#ga692fe3070eecaffa172266d2f138fd69">DBusForeachFunction</a></div><div class="ttdeci">void(* DBusForeachFunction)(void *element, void *data)</div><div class="ttdoc">Used to iterate over each item in a collection, such as a DBusList. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8h_source.html#l00251">dbus-internals.h:251</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gab8e39cb8084247d54d7f272c51622a73"><div class="ttname"><a href="group__DBusMarshal.html#gab8e39cb8084247d54d7f272c51622a73">_dbus_type_reader_get_current_type</a></div><div class="ttdeci">int _dbus_type_reader_get_current_type(const DBusTypeReader *reader)</div><div class="ttdoc">Gets the type of the value the reader is currently pointing to; or for a types-only reader gets the t...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l00785">dbus-marshal-recursive.c:785</a></div></div>
<div class="ttc" id="group__DBusMacros_html_gaa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdoc">Expands to &quot;0&quot;. </div></div>
<div class="ttc" id="structDBusHeader_html"><div class="ttname"><a href="structDBusHeader.html">DBusHeader</a></div><div class="ttdoc">Message header data and some cached details of it. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8h_source.html#l00047">dbus-marshal-header.h:47</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga8955cc5a3fcc905230b9afc05e4b1470"><div class="ttname"><a href="group__DBusMessageInternals.html#ga8955cc5a3fcc905230b9afc05e4b1470">dbus_message_set_allow_interactive_authorization</a></div><div class="ttdeci">void dbus_message_set_allow_interactive_authorization(DBusMessage *message, dbus_bool_t allow)</div><div class="ttdoc">Sets a flag indicating that the caller of the method is prepared to wait for interactive authorizatio...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04901">dbus-message.c:4901</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga0cd885e6e808b28ff082a7f8a2c9f579"><div class="ttname"><a href="group__DBusProtocol.html#ga0cd885e6e808b28ff082a7f8a2c9f579">DBUS_HEADER_FIELD_PATH</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_PATH</div><div class="ttdoc">Header field code for the path - the path is the object emitting a signal or the object receiving a m...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00270">dbus-protocol.h:270</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga41cace31999105137772b6257ea540f9"><div class="ttname"><a href="group__DBusMessage.html#ga41cace31999105137772b6257ea540f9">dbus_message_get_type</a></div><div class="ttdeci">int dbus_message_get_type(DBusMessage *message)</div><div class="ttdoc">Gets the type of a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01722">dbus-message.c:1722</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga1067e28a7151a161e5fd601a3b017584"><div class="ttname"><a href="group__DBusProtocol.html#ga1067e28a7151a161e5fd601a3b017584">DBUS_HEADER_FIELD_REPLY_SERIAL</a></div><div class="ttdeci">#define DBUS_HEADER_FIELD_REPLY_SERIAL</div><div class="ttdoc">Header field code for a reply serial, used to match a DBUS_MESSAGE_TYPE_METHOD_RETURN message with th...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00284">dbus-protocol.h:284</a></div></div>
<div class="ttc" id="structDBusMessageLoader_html_a7fe926ecd87e9ddb37e7481195bc3d67"><div class="ttname"><a href="structDBusMessageLoader.html#a7fe926ecd87e9ddb37e7481195bc3d67">DBusMessageLoader::buffer_outstanding</a></div><div class="ttdeci">unsigned int buffer_outstanding</div><div class="ttdoc">Someone is using the buffer to read. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00075">dbus-message-private.h:75</a></div></div>
<div class="ttc" id="structDBusMessage_html_a96263aa8a777c8c661d2596911c7d592"><div class="ttname"><a href="structDBusMessage.html#a96263aa8a777c8c661d2596911c7d592">DBusMessage::generation</a></div><div class="ttdeci">int generation</div><div class="ttdoc">_dbus_current_generation when message was created </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00121">dbus-message-private.h:121</a></div></div>
<div class="ttc" id="group__DBusList_html_gab3dd068e3bd8a319c0d12150785050a7"><div class="ttname"><a href="group__DBusList.html#gab3dd068e3bd8a319c0d12150785050a7">_dbus_list_prepend_link</a></div><div class="ttdeci">void _dbus_list_prepend_link(DBusList **list, DBusList *link)</div><div class="ttdoc">Prepends a link to the list. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00333">dbus-list.c:333</a></div></div>
<div class="ttc" id="group__DBusString_html_ga08c423b93c28dd746dcb93e0461ab95c"><div class="ttname"><a href="group__DBusString.html#ga08c423b93c28dd746dcb93e0461ab95c">_dbus_string_set_length</a></div><div class="ttdeci">dbus_bool_t _dbus_string_set_length(DBusString *str, int length)</div><div class="ttdoc">Sets the length of a string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00802">dbus-string.c:802</a></div></div>
<div class="ttc" id="group__DBusMemoryInternals_html_ga8dc6d5dd0a0e7901ab793da7403ee734"><div class="ttname"><a href="group__DBusMemoryInternals.html#ga8dc6d5dd0a0e7901ab793da7403ee734">_dbus_register_shutdown_func</a></div><div class="ttdeci">dbus_bool_t _dbus_register_shutdown_func(DBusShutdownFunction function, void *data)</div><div class="ttdoc">Register a cleanup function to be called exactly once the next time dbus_shutdown() is called...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-memory_8c_source.html#l00810">dbus-memory.c:810</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_ga3b56fdb9df58277ee69d9f56a73bf383"><div class="ttname"><a href="group__DBusInternalsUtils.html#ga3b56fdb9df58277ee69d9f56a73bf383">_DBUS_LOCK</a></div><div class="ttdeci">#define _DBUS_LOCK(name)</div><div class="ttdoc">Locks a global lock, initializing it first if necessary. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8h_source.html#l00329">dbus-internals.h:329</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_gade571435b55fae64217f5142aa78ee8d"><div class="ttname"><a href="group__DBusInternalsUtils.html#gade571435b55fae64217f5142aa78ee8d">_DBUS_LOCK_NAME</a></div><div class="ttdeci">#define _DBUS_LOCK_NAME(name)</div><div class="ttdoc">Expands to name of a global lock variable. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8h_source.html#l00328">dbus-internals.h:328</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga48a595c2b26dce6e9c25ce040e5247e5"><div class="ttname"><a href="group__DBusMarshal.html#ga48a595c2b26dce6e9c25ce040e5247e5">_dbus_type_to_string</a></div><div class="ttdeci">const char * _dbus_type_to_string(int typecode)</div><div class="ttdoc">Returns a string describing the given type. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-basic_8c_source.html#l01219">dbus-marshal-basic.c:1219</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga66674354acdd09ca6e11d600b34bdd5f"><div class="ttname"><a href="group__DBusMessageInternals.html#ga66674354acdd09ca6e11d600b34bdd5f">_dbus_message_loader_peek_message</a></div><div class="ttdeci">DBusMessage * _dbus_message_loader_peek_message(DBusMessageLoader *loader)</div><div class="ttdoc">Peeks at first loaded message, returns NULL if no messages have been queued. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04365">dbus-message.c:4365</a></div></div>
<div class="ttc" id="group__DBusString_html_gaf5f13bc7ac7a623516930d26ae2589bf"><div class="ttname"><a href="group__DBusString.html#gaf5f13bc7ac7a623516930d26ae2589bf">_dbus_string_copy_len</a></div><div class="ttdeci">dbus_bool_t _dbus_string_copy_len(const DBusString *source, int start, int len, DBusString *dest, int insert_at)</div><div class="ttdoc">Like _dbus_string_copy(), but can copy a segment from the middle of the source string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l01374">dbus-string.c:1374</a></div></div>
<div class="ttc" id="group__DBusString_html_ga556cc30c3ab032dbc63e217119f0d1f5"><div class="ttname"><a href="group__DBusString.html#ga556cc30c3ab032dbc63e217119f0d1f5">_dbus_string_steal_data</a></div><div class="ttdeci">dbus_bool_t _dbus_string_steal_data(DBusString *str, char **data_return)</div><div class="ttdoc">Like _dbus_string_get_data(), but removes the gotten data from the original string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00641">dbus-string.c:641</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga4578cc623c8b0978ca780ce0ab950fdb"><div class="ttname"><a href="group__DBusMarshal.html#ga4578cc623c8b0978ca780ce0ab950fdb">_dbus_type_reader_get_signature</a></div><div class="ttdeci">void _dbus_type_reader_get_signature(const DBusTypeReader *reader, const DBusString **str_p, int *start_p, int *len_p)</div><div class="ttdoc">Gets the string and range of said string containing the signature of the current value. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l01122">dbus-marshal-recursive.c:1122</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga106e541001d6b884d1c3cea6044693ab"><div class="ttname"><a href="group__DBusMessage.html#ga106e541001d6b884d1c3cea6044693ab">dbus_message_append_args_valist</a></div><div class="ttdeci">dbus_bool_t dbus_message_append_args_valist(DBusMessage *message, int first_arg_type, va_list var_args)</div><div class="ttdoc">Like dbus_message_append_args() but takes a va_list for use by language bindings. ...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01824">dbus-message.c:1824</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gab0f8d8a640413e7c9b6c8f154acfbd1a"><div class="ttname"><a href="group__DBusMessageInternals.html#gab0f8d8a640413e7c9b6c8f154acfbd1a">dbus_message_demarshal_bytes_needed</a></div><div class="ttdeci">int dbus_message_demarshal_bytes_needed(const char *buf, int len)</div><div class="ttdoc">Returns the number of bytes required to be in the buffer to demarshal a D-Bus message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04841">dbus-message.c:4841</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gab4579a88a1a7eaf648350466f585ef8b"><div class="ttname"><a href="group__DBusMessage.html#gab4579a88a1a7eaf648350466f585ef8b">dbus_message_iter_get_signature</a></div><div class="ttdeci">char * dbus_message_iter_get_signature(DBusMessageIter *iter)</div><div class="ttdoc">Returns the current signature of a message iterator. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02220">dbus-message.c:2220</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gacf99495cbed7462992b6a231563b4528"><div class="ttname"><a href="group__DBusMarshal.html#gacf99495cbed7462992b6a231563b4528">_dbus_type_writer_write_fixed_multi</a></div><div class="ttdeci">dbus_bool_t _dbus_type_writer_write_fixed_multi(DBusTypeWriter *writer, int element_type, const void *value, int n_elements)</div><div class="ttdoc">Writes a block of fixed-length basic values, i.e. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l02356">dbus-marshal-recursive.c:2356</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga6e62697ca11f0a57dbecc93d5721612c"><div class="ttname"><a href="group__DBusMessage.html#ga6e62697ca11f0a57dbecc93d5721612c">dbus_message_iter_abandon_container</a></div><div class="ttdeci">void dbus_message_iter_abandon_container(DBusMessageIter *iter, DBusMessageIter *sub)</div><div class="ttdoc">Abandons creation of a contained-typed value and frees resources created by dbus_message_iter_open_co...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l02951">dbus-message.c:2951</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga3926bb35edf78d114cf0c341fe3258e0"><div class="ttname"><a href="group__DBusMarshal.html#ga3926bb35edf78d114cf0c341fe3258e0">_dbus_verbose_bytes_of_string</a></div><div class="ttdeci">void _dbus_verbose_bytes_of_string(const DBusString *str, int start, int len)</div><div class="ttdoc">Dump the given part of the string to verbose log. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-basic_8c_source.html#l01360">dbus-marshal-basic.c:1360</a></div></div>
<div class="ttc" id="group__DBusDataSlot_html_gaf61f2bd0148bace4f67a2d6d97b26ea9"><div class="ttname"><a href="group__DBusDataSlot.html#gaf61f2bd0148bace4f67a2d6d97b26ea9">_dbus_data_slot_allocator_alloc</a></div><div class="ttdeci">dbus_bool_t _dbus_data_slot_allocator_alloc(DBusDataSlotAllocator *allocator, dbus_int32_t *slot_id_p)</div><div class="ttdoc">Allocates an integer ID to be used for storing data in a DBusDataSlotList. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-dataslot_8c_source.html#l00069">dbus-dataslot.c:69</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga7436b74471eb3642f81fd456f8f2b69c"><div class="ttname"><a href="group__DBusMessage.html#ga7436b74471eb3642f81fd456f8f2b69c">dbus_message_contains_unix_fds</a></div><div class="ttdeci">dbus_bool_t dbus_message_contains_unix_fds(DBusMessage *message)</div><div class="ttdoc">Checks whether a message contains unix fds. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03825">dbus-message.c:3825</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga8699fad5ce9ff93fe3f3471ba463dd40"><div class="ttname"><a href="group__DBusProtocol.html#ga8699fad5ce9ff93fe3f3471ba463dd40">DBUS_HEADER_FLAG_NO_AUTO_START</a></div><div class="ttdeci">#define DBUS_HEADER_FLAG_NO_AUTO_START</div><div class="ttdoc">If set, this flag means that even if the message bus knows how to start an owner for the destination ...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00256">dbus-protocol.h:256</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gaf55885371a6d022ec94c79bd7138923f"><div class="ttname"><a href="group__DBusMessageInternals.html#gaf55885371a6d022ec94c79bd7138923f">_dbus_message_loader_queue_messages</a></div><div class="ttdeci">dbus_bool_t _dbus_message_loader_queue_messages(DBusMessageLoader *loader)</div><div class="ttdoc">Converts buffered data into messages, if we have enough data. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04302">dbus-message.c:4302</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga577e9d5224c56b9cf2ca2691be2e838c"><div class="ttname"><a href="group__DBusMessageInternals.html#ga577e9d5224c56b9cf2ca2691be2e838c">_dbus_message_get_unix_fds</a></div><div class="ttdeci">void _dbus_message_get_unix_fds(DBusMessage *message, const int **fds, unsigned *n_fds)</div><div class="ttdoc">Gets the unix fds to be sent over the network for this message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00227">dbus-message.c:227</a></div></div>
<div class="ttc" id="structDBusMessageLoader_html_af3372b7d574dab49a7435d8f29ea2258"><div class="ttname"><a href="structDBusMessageLoader.html#af3372b7d574dab49a7435d8f29ea2258">DBusMessageLoader::refcount</a></div><div class="ttdeci">int refcount</div><div class="ttdoc">Reference count. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00062">dbus-message-private.h:62</a></div></div>
<div class="ttc" id="group__DBusTypes_html_gab18afa60e9b17b6e322735bda3d863d8"><div class="ttname"><a href="group__DBusTypes.html#gab18afa60e9b17b6e322735bda3d863d8">dbus_int32_t</a></div><div class="ttdeci">int dbus_int32_t</div><div class="ttdoc">A 32-bit signed integer on all platforms. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-arch-deps_8h_source.html#l00042">dbus-arch-deps.h:42</a></div></div>
<div class="ttc" id="group__DBusInternalsUtils_html_ga9d00d77f6595b9d7ac1baf59d44bf58c"><div class="ttname"><a href="group__DBusInternalsUtils.html#ga9d00d77f6595b9d7ac1baf59d44bf58c">_dbus_strdup</a></div><div class="ttdeci">char * _dbus_strdup(const char *str)</div><div class="ttdoc">Duplicates a string. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-internals_8c_source.html#l00527">dbus-internals.c:527</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga2c5c6aef45dd0b5cc10c800f986a7ce7"><div class="ttname"><a href="group__DBusMessageInternals.html#ga2c5c6aef45dd0b5cc10c800f986a7ce7">MAX_MESSAGE_SIZE_TO_CACHE</a></div><div class="ttdeci">#define MAX_MESSAGE_SIZE_TO_CACHE</div><div class="ttdoc">Avoid caching huge messages. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00505">dbus-message.c:505</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_gacf5321b161193ad66d5bdf5c910a9792"><div class="ttname"><a href="group__DBusProtocol.html#gacf5321b161193ad66d5bdf5c910a9792">DBUS_ERROR_INVALID_ARGS</a></div><div class="ttdeci">#define DBUS_ERROR_INVALID_ARGS</div><div class="ttdoc">Invalid arguments passed to a method call. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00391">dbus-protocol.h:391</a></div></div>
<div class="ttc" id="group__DBusDataSlot_html_ga059c50a24cd9fc984e918e6159841633"><div class="ttname"><a href="group__DBusDataSlot.html#ga059c50a24cd9fc984e918e6159841633">_dbus_data_slot_allocator_free</a></div><div class="ttdeci">void _dbus_data_slot_allocator_free(DBusDataSlotAllocator *allocator, dbus_int32_t *slot_id_p)</div><div class="ttdoc">Deallocates an ID previously allocated with _dbus_data_slot_allocator_alloc(). </div><div class="ttdef"><b>Definition:</b> <a href="dbus-dataslot_8c_source.html#l00154">dbus-dataslot.c:154</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga2ba80f227880e442c140bc67653b0abd"><div class="ttname"><a href="group__DBusMarshal.html#ga2ba80f227880e442c140bc67653b0abd">_dbus_type_get_alignment</a></div><div class="ttdeci">int _dbus_type_get_alignment(int typecode)</div><div class="ttdoc">Gets the alignment requirement for the given type; will be 1, 4, or 8. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-basic_8c_source.html#l01173">dbus-marshal-basic.c:1173</a></div></div>
<div class="ttc" id="structDBusMessageLoader_html_ac6116f8620094b8ce348b103483c0035"><div class="ttname"><a href="structDBusMessageLoader.html#ac6116f8620094b8ce348b103483c0035">DBusMessageLoader::corruption_reason</a></div><div class="ttdeci">DBusValidity corruption_reason</div><div class="ttdoc">why we were corrupted </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00071">dbus-message-private.h:71</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_gadd6c0fa721b4340df936363fbde912dc"><div class="ttname"><a href="group__DBusMessageInternals.html#gadd6c0fa721b4340df936363fbde912dc">_dbus_message_loader_set_max_message_unix_fds</a></div><div class="ttdeci">void _dbus_message_loader_set_max_message_unix_fds(DBusMessageLoader *loader, long n)</div><div class="ttdoc">Sets the maximum unix fds per message we allow. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04484">dbus-message.c:4484</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga3afdda6016816cc70b451d8657065208"><div class="ttname"><a href="group__DBusMessage.html#ga3afdda6016816cc70b451d8657065208">dbus_message_set_member</a></div><div class="ttdeci">dbus_bool_t dbus_message_set_member(DBusMessage *message, const char *member)</div><div class="ttdoc">Sets the interface member being invoked (DBUS_MESSAGE_TYPE_METHOD_CALL) or emitted (DBUS_MESSAGE_TYPE...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l03286">dbus-message.c:3286</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga75bcb613a291eb7e427f77f2f3635b8f"><div class="ttname"><a href="group__DBusMessageInternals.html#ga75bcb613a291eb7e427f77f2f3635b8f">dbus_message_type_to_string</a></div><div class="ttdeci">const char * dbus_message_type_to_string(int type)</div><div class="ttdoc">Utility function to convert a D-Bus message type into a machine-readable string (not translated)...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04691">dbus-message.c:4691</a></div></div>
<div class="ttc" id="group__DBusMessage_html_gab69441efe683918f6a82469c8763f464"><div class="ttname"><a href="group__DBusMessage.html#gab69441efe683918f6a82469c8763f464">dbus_message_unref</a></div><div class="ttdeci">void dbus_message_unref(DBusMessage *message)</div><div class="ttdoc">Decrements the reference count of a DBusMessage, freeing the message if the count reaches 0...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01690">dbus-message.c:1690</a></div></div>
<div class="ttc" id="group__DBusString_html_ga6792a5c1725faa9d635d95f7a3b5bfae"><div class="ttname"><a href="group__DBusString.html#ga6792a5c1725faa9d635d95f7a3b5bfae">_dbus_string_init_const_len</a></div><div class="ttdeci">void _dbus_string_init_const_len(DBusString *str, const char *value, int len)</div><div class="ttdoc">Initializes a constant string with a length. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-string_8c_source.html#l00210">dbus-string.c:210</a></div></div>
<div class="ttc" id="structDBusMessageLoader_html"><div class="ttname"><a href="structDBusMessageLoader.html">DBusMessageLoader</a></div><div class="ttdoc">Implementation details of DBusMessageLoader. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00060">dbus-message-private.h:60</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga4c0a1036e59dac270141052d951baff2"><div class="ttname"><a href="group__DBusMarshal.html#ga4c0a1036e59dac270141052d951baff2">_dbus_type_writer_recurse</a></div><div class="ttdeci">dbus_bool_t _dbus_type_writer_recurse(DBusTypeWriter *writer, int container_type, const DBusString *contained_type, int contained_type_start, DBusTypeWriter *sub)</div><div class="ttdoc">Opens a new container and writes out the initial information for that container. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-recursive_8c_source.html#l02106">dbus-marshal-recursive.c:2106</a></div></div>
<div class="ttc" id="unionDBusBasicValue_html_a2501e54560ae240442d9d841b96b086b"><div class="ttname"><a href="unionDBusBasicValue.html#a2501e54560ae240442d9d841b96b086b">DBusBasicValue::u32</a></div><div class="ttdeci">dbus_uint32_t u32</div><div class="ttdoc">as int32 </div><div class="ttdef"><b>Definition:</b> <a href="dbus-types_8h_source.html#l00143">dbus-types.h:143</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga707a27881820f964e3606bc906a47978"><div class="ttname"><a href="group__DBusMessage.html#ga707a27881820f964e3606bc906a47978">dbus_message_new_error_printf</a></div><div class="ttdeci">DBusMessage * dbus_message_new_error_printf(DBusMessage *reply_to, const char *error_name, const char *error_format,...)</div><div class="ttdoc">Creates a new message that is an error reply to another message, allowing you to use printf formattin...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01542">dbus-message.c:1542</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga69d0bc701f9ca935e6de8a3f3e376c0a"><div class="ttname"><a href="group__DBusMessageInternals.html#ga69d0bc701f9ca935e6de8a3f3e376c0a">dbus_message_set_data</a></div><div class="ttdeci">dbus_bool_t dbus_message_set_data(DBusMessage *message, dbus_int32_t slot, void *data, DBusFreeFunction free_data_func)</div><div class="ttdoc">Stores a pointer on a DBusMessage, along with an optional function to be used for freeing the data wh...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04599">dbus-message.c:4599</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga3dd30a62c63eb9972cc0c564f2a89c3b"><div class="ttname"><a href="group__DBusMessageInternals.html#ga3dd30a62c63eb9972cc0c564f2a89c3b">dbus_message_set_serial</a></div><div class="ttdeci">void dbus_message_set_serial(DBusMessage *message, dbus_uint32_t serial)</div><div class="ttdoc">Sets the serial number of a message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00254">dbus-message.c:254</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_gad2073f8f2f2ba3b710aa929dced34cc3"><div class="ttname"><a href="group__DBusMarshal.html#gad2073f8f2f2ba3b710aa929dced34cc3">_dbus_header_toggle_flag</a></div><div class="ttdeci">void _dbus_header_toggle_flag(DBusHeader *header, dbus_uint32_t flag, dbus_bool_t value)</div><div class="ttdoc">Toggles a message flag bit, turning on the bit if value = TRUE and flipping it off if value = FALSE...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01457">dbus-marshal-header.c:1457</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga0cff04252f97f6a25552c368199897f5"><div class="ttname"><a href="group__DBusMarshal.html#ga0cff04252f97f6a25552c368199897f5">_dbus_header_update_lengths</a></div><div class="ttdeci">void _dbus_header_update_lengths(DBusHeader *header, int body_len)</div><div class="ttdoc">Fills in the correct body length. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-header_8c_source.html#l01196">dbus-marshal-header.c:1196</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga95142bd8288f397194ee0eefb1d27125"><div class="ttname"><a href="group__DBusMessage.html#ga95142bd8288f397194ee0eefb1d27125">dbus_message_new_method_return</a></div><div class="ttdeci">DBusMessage * dbus_message_new_method_return(DBusMessage *method_call)</div><div class="ttdoc">Constructs a message that is a reply to a method call. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01373">dbus-message.c:1373</a></div></div>
<div class="ttc" id="structDBusMessageRealIter_html_a93bc11bb1521743170b0b411b32140cf"><div class="ttname"><a href="structDBusMessageRealIter.html#a93bc11bb1521743170b0b411b32140cf">DBusMessageRealIter::writer</a></div><div class="ttdeci">DBusTypeWriter writer</div><div class="ttdoc">writer </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l00134">dbus-message.c:134</a></div></div>
<div class="ttc" id="group__DBusDataSlot_html_gabc399733376c462c3010271a2d431e73"><div class="ttname"><a href="group__DBusDataSlot.html#gabc399733376c462c3010271a2d431e73">_dbus_data_slot_list_free</a></div><div class="ttdeci">void _dbus_data_slot_list_free(DBusDataSlotList *list)</div><div class="ttdoc">Frees the data slot list and all data slots contained in it, calling application-provided free functi...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-dataslot_8c_source.html#l00340">dbus-dataslot.c:340</a></div></div>
<div class="ttc" id="group__DBusProtocol_html_ga2874c299e1c87fe745ef09bf231264e9"><div class="ttname"><a href="group__DBusProtocol.html#ga2874c299e1c87fe745ef09bf231264e9">DBUS_MAXIMUM_MESSAGE_LENGTH</a></div><div class="ttdeci">#define DBUS_MAXIMUM_MESSAGE_LENGTH</div><div class="ttdoc">The maximum total message size including header and body; similar rationale to max array size...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-protocol_8h_source.html#l00210">dbus-protocol.h:210</a></div></div>
<div class="ttc" id="structDBusMessage_html_a179c446523c6321e04f88a671363be19"><div class="ttname"><a href="structDBusMessage.html#a179c446523c6321e04f88a671363be19">DBusMessage::slot_list</a></div><div class="ttdeci">DBusDataSlotList slot_list</div><div class="ttdoc">Data stored by allocated integer ID. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message-private_8h_source.html#l00118">dbus-message-private.h:118</a></div></div>
<div class="ttc" id="group__DBusList_html_gaa36d13444a050a923941c53650b72f9d"><div class="ttname"><a href="group__DBusList.html#gaa36d13444a050a923941c53650b72f9d">_dbus_list_clear</a></div><div class="ttdeci">void _dbus_list_clear(DBusList **list)</div><div class="ttdoc">Frees all links in the list and sets the list head to NULL. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-list_8c_source.html#l00542">dbus-list.c:542</a></div></div>
<div class="ttc" id="group__DBusMarshal_html_ga609a4b8c0b65096890766fda73a4c40f"><div class="ttname"><a href="group__DBusMarshal.html#ga609a4b8c0b65096890766fda73a4c40f">_dbus_marshal_byteswap</a></div><div class="ttdeci">void _dbus_marshal_byteswap(const DBusString *signature, int signature_start, int old_byte_order, int new_byte_order, DBusString *value_str, int value_pos)</div><div class="ttdoc">Byteswaps the marshaled data in the given value_str. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-marshal-byteswap_8c_source.html#l00222">dbus-marshal-byteswap.c:222</a></div></div>
<div class="ttc" id="group__DBusMessageInternals_html_ga8e01aad6af940ec4051703f59330da37"><div class="ttname"><a href="group__DBusMessageInternals.html#ga8e01aad6af940ec4051703f59330da37">_dbus_message_loader_get_pending_fds_count</a></div><div class="ttdeci">int _dbus_message_loader_get_pending_fds_count(DBusMessageLoader *loader)</div><div class="ttdoc">Return how many file descriptors are pending in the loader. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l04514">dbus-message.c:4514</a></div></div>
<div class="ttc" id="group__DBusSignature_html_gaa0c4c8aa34fa266daa55bd37bdad39b8"><div class="ttname"><a href="group__DBusSignature.html#gaa0c4c8aa34fa266daa55bd37bdad39b8">dbus_type_is_container</a></div><div class="ttdeci">dbus_bool_t dbus_type_is_container(int typecode)</div><div class="ttdoc">A &quot;container type&quot; can contain basic types, or nested container types. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-signature_8c_source.html#l00294">dbus-signature.c:294</a></div></div>
<div class="ttc" id="group__DBusMessage_html_ga2ab896965aec97fb21293affeed36232"><div class="ttname"><a href="group__DBusMessage.html#ga2ab896965aec97fb21293affeed36232">dbus_message_new_error</a></div><div class="ttdeci">DBusMessage * dbus_message_new_error(DBusMessage *reply_to, const char *error_name, const char *error_message)</div><div class="ttdoc">Creates a new message that is an error reply to another message. </div><div class="ttdef"><b>Definition:</b> <a href="dbus-message_8c_source.html#l01470">dbus-message.c:1470</a></div></div>
<div class="ttc" id="group__DBusResources_html_gae37410c196947675c2a222a7979e9dee"><div class="ttname"><a href="group__DBusResources.html#gae37410c196947675c2a222a7979e9dee">_dbus_counter_adjust_size</a></div><div class="ttdeci">void _dbus_counter_adjust_size(DBusCounter *counter, long delta)</div><div class="ttdoc">Adjusts the value of the size counter by the given delta which may be positive or negative...</div><div class="ttdef"><b>Definition:</b> <a href="dbus-resources_8c_source.html#l00148">dbus-resources.c:148</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
